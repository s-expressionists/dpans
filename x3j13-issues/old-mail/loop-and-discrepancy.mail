*start*03537 00024 USfGV-Info: CL-Cleanup-mailer@SAIL.Stanford.EDU at 15-Mar-89 10:57:09 from AGReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 15 MAR 89 10:57:08 PSTReceived: from Think.COM by SAIL.Stanford.EDU with TCP; 15 Mar 89  10:56:37 PSTReceived: from fafnir.think.com by Think.COM; Wed, 15 Mar 89 13:52:49 ESTReturn-Path: <gls@Think.COM>Received: from verdi.think.com by fafnir.think.com; Wed, 15 Mar 89 13:54:08 ESTReceived: by verdi.think.com; Wed, 15 Mar 89 13:50:51 ESTDate: Wed, 15 Mar 89 13:50:51 ESTFrom: Guy Steele <gls@Think.COM>Message-Id: <8903151850.AA02865@verdi.think.com>To: cl-cleanup@sail.stanford.eduCc: gls@Think.COMSubject: Issue LOOP-AND-DISCREPANCY, version 1Issue:		LOOP-AND-DISCREPANCYReferences:	Loop Facility document X3J13/89-004Related issues: Category:	CHANGE CLARIFICATIONEdit history:	Version 1, 15-Mar-88 by SteeleProblem description:The treatment of the AND conjunction in FOR/AS and WITH clauses is notconsistent.  Examples of the use of WITH are also not consistent in thisrespect.Page 2-5 implies by example that when AND is used to join twoFOR/AS clauses, the word FOR or AS must occur after the word AND.Page 2-31 has formal syntax specifying that when AND is used to join twoWITH clauses, the word WITH must *not* occur after the word AND.  Exampleson that page are consistent with this specification.Page 2-41 has an example in which WITH is repeated after AND.Proposal (LOOP-AND-DISCREPANCY:NO-REITERATION):Let stand the formal syntax for WITH.Change the description of FOR/AS clauses to specify that whentwo or more such clauses are joined with AND, clauses after thefirst do not have FOR or AS before them.The complete formal syntax for FOR/AS may be described as follows:for-as ::= {FOR | AS} for-as-subclause {AND for-as-subclause}*for-as-subclause ::= for-as-arithmetic | for-as-in-list		   | for-as-on-list | for-as-equals-then		   | for-as-across | for-as-hash | for-as-packagefor-as-arithmetic ::= var [type-spec] ...and so on.Examples:> (loop for x from 1 to 10		;Corrected from X3J13/89-004, page 2-5        and y = nil then x        collect (list x y))((1 NIL) (2 1) (3 2) (4 3) (5 4) (6 5) (7 6) (8 7) (9 8) (10 9))> (loop with (a b) float = '(1.0 2.0)	;Corrected from X3J13/89-004, page 2-41        and (c d) integer = '(3 4)        and (e f)        return (list a b c d e f))(1.0 2.0 3 4 nil nil)Rationale:The treatment of AND should be internally consistent.  There is no reasonto repeat the FOR/AS keyword.  Not repeating the keyword emphasizes thatthe subclauses are functionally linked under the heading of WITH or FOR.(Compare to the third use of AND in LOOP, to link clauses controlledby WHEN/IF/UNLESS.  One does not repeat the WHEN; rather, the clausesgrouped by AND are controlled by a single WHEN.)Current practice:Symbolics LOOP allows FOR to be included or omitted after AND,with identical meanings.  WITH may not be repeated after AND.Cost to Implementors: Small?Cost to Users: Possible incompatibility with existing implementors' extensions.Cost of non-adoption:  Utter confusion.Performance impact:  None.Benefits:  Consistent treatment of AND within LOOP.Esthetics:Absolutely none.  We're talking about LOOP here.Discussion:Steele supports this proposal.  It is a reversal of his previoussuggestion on the topic, thanks to feedback from Moon.*start*00901 00024 US GV-Info: CL-Cleanup-mailer@SAIL.Stanford.EDU at 16-Mar-89 09:25:04 from AGReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 16 MAR 89 09:17:11 PSTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 16 Mar 89  09:17:31 PSTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 558503; Thu 16-Mar-89 12:15:07 ESTDate: Thu, 16 Mar 89 12:15 ESTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue LOOP-AND-DISCREPANCY, version 1To: Guy Steele <gls@Think.COM>cc: cl-cleanup@sail.stanford.eduIn-Reply-To: <8903151850.AA02865@verdi.think.com>Message-ID: <19890316171508.0.MOON@EUPHRATES.SCRC.Symbolics.COM>I like LOOP-AND-DISCREPANCY:NO-REITERATION.*start*03322 00024 US GV-Info: X3J13-mailer@SAIL.Stanford.EDU at 16-Mar-89 23:44:02 from AGReturn-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 16 MAR 89 23:44:02 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 16 Mar 89  23:34:11 PSTReceived: from Cabernet.ms by ArpaGateway.ms ; 16 MAR 89 23:32:03 PSTDate: 16 Mar 89 23:31 PSTFrom: masinter.paTo: X3J13@sail.stanford.eduSubject: Issue LOOP-AND-DISCREPANCY, version 1line-fold: NOMessage-ID: <890316-233203-6953@Xerox>!Issue:		LOOP-AND-DISCREPANCYReferences:	Loop Facility document X3J13/89-004Related issues: Category:	CHANGE CLARIFICATIONEdit history:	Version 1, 15-Mar-88 by SteeleProblem description:The treatment of the AND conjunction in FOR/AS and WITH clauses is notconsistent.  Examples of the use of WITH are also not consistent in thisrespect.Page 2-5 implies by example that when AND is used to join twoFOR/AS clauses, the word FOR or AS must occur after the word AND.Page 2-31 has formal syntax specifying that when AND is used to join twoWITH clauses, the word WITH must *not* occur after the word AND.  Exampleson that page are consistent with this specification.Page 2-41 has an example in which WITH is repeated after AND.Proposal (LOOP-AND-DISCREPANCY:NO-REITERATION):Let stand the formal syntax for WITH.Change the description of FOR/AS clauses to specify that whentwo or more such clauses are joined with AND, clauses after thefirst do not have FOR or AS before them.The complete formal syntax for FOR/AS may be described as follows:for-as ::= {FOR | AS} for-as-subclause {AND for-as-subclause}*for-as-subclause ::= for-as-arithmetic | for-as-in-list		   | for-as-on-list | for-as-equals-then		   | for-as-across | for-as-hash | for-as-packagefor-as-arithmetic ::= var [type-spec] ...and so on.Examples:> (loop for x from 1 to 10		;Corrected from X3J13/89-004, page 2-5        and y = nil then x        collect (list x y))((1 NIL) (2 1) (3 2) (4 3) (5 4) (6 5) (7 6) (8 7) (9 8) (10 9))> (loop with (a b) float = '(1.0 2.0)	;Corrected from X3J13/89-004, page 2-41        and (c d) integer = '(3 4)        and (e f)        return (list a b c d e f))(1.0 2.0 3 4 nil nil)Rationale:The treatment of AND should be internally consistent.  There is no reasonto repeat the FOR/AS keyword.  Not repeating the keyword emphasizes thatthe subclauses are functionally linked under the heading of WITH or FOR.(Compare to the third use of AND in LOOP, to link clauses controlledby WHEN/IF/UNLESS.  One does not repeat the WHEN; rather, the clausesgrouped by AND are controlled by a single WHEN.)Current practice:Symbolics LOOP allows FOR to be included or omitted after AND,with identical meanings.  WITH may not be repeated after AND.Cost to Implementors: Small?Cost to Users: Possible incompatibility with existing implementors' extensions.Cost of non-adoption:  Utter confusion.Performance impact:  None.Benefits:  Consistent treatment of AND within LOOP.Esthetics:Absolutely none.  We're talking about LOOP here.Discussion:Steele supports this proposal.  It is a reversal of his previoussuggestion on the topic, thanks to feedback from Moon.     ----- End Forwarded Messages -----*start*01252 00024 US GV-Info: CL-Cleanup-mailer@SAIL.Stanford.EDU at 17-Mar-89 12:18:30 from AGReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 MAR 89 12:17:25 PSTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 17 Mar 89  12:14:03 PSTReceived: from bhopal ([192.9.200.13]) by heavens-gate.lucid.com id AA01428g; Wed, 15 Mar 89 23:55:31 PSTReceived: by bhopal id AA11642g; Wed, 15 Mar 89 23:56:18 PSTDate: Wed, 15 Mar 89 23:56:18 PSTFrom: Jon L White <jonl@lucid.com>Message-Id: <8903160756.AA11642@bhopal>To: gls@Think.COMCc: cl-cleanup@sail.stanford.eduIn-Reply-To: Guy Steele's message of Wed, 15 Mar 89 13:50:51 EST <8903151850.AA02865@verdi.think.com>Subject: Issue LOOP-AND-DISCREPANCY, version 1The document 89-004 followed what the code does (the "code" being that portable version that used to come from MIT), but at the Hawaii meeting,I remember suggesting that it ought to be made formal as to whether or not the WITH or the FOR/AS is to be repeated.  I'm glad you took the time to write up the issue (which I approve of).  It's really a very minor point,so there is very little risk involved.-- JonL --*start*00636 00024 US GV-Info: ROSENKING@A.ISI.EDU at 22-Mar-89 06:20:18 from AGReturn-Path: <ROSENKING@A.ISI.EDU>Received: from A.ISI.EDU ([26.3.0.103]) by Xerox.COM ; 22 MAR 89 06:20:22 PSTDate: 22 Mar 89 09:21 ESTSender: ROSENKING@A.ISI.EDUSubject: Re: Issue LOOP-AND-DISCREPANCY, version 1From: ROSENKING@A.ISI.EDUTo: masinter.paMessage-ID: <[A.ISI.EDU]22-Mar-89 09:21:02.ROSENKING>In-Reply-To: <890316-233203-6953@Xerox>Having used FOR and WITH before when constructing LOOPs I wasunaware of the various accepted syntax and I support theLOOP-AND-DISCREPANCY:NO-REITERATION proposal, which makes clearsense.  -JR*start*01001 00024 US Date:  4 Apr 89 12:29 PDTSender: CL-Cleanup-mailer%SAIL.Stanford:EDU:XeroxFrom: KMP%STONY-BROOK.SCRC.Symbolics:COM:XeroxSubject: Issue: LOOP-AND-DISCREPANCYTo: CL-Cleanup%SAIL.Stanford:EDU:XeroxGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: LOOP-AND-DISCREPANCYTo: CL-Cleanup@SAIL.Stanford.EDUReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 04 APR 89 12:21:43 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM by SAIL.Stanford.EDU with TCP; 4 Apr 89  12:19:40 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 571210; Tue 4-Apr-89 15:19:35 EDTOriginal-Date: Tue, 4 Apr 89 15:19 EDTMessage-ID: <890404151910.4.KMP@BOBOLINK.SCRC.Symbolics.COM>GVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVMy notes say this passed 14-0.