*start*04028 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 23 MAY 88 08:29:41 PDTReceived: from DST.BOLTZ.CS.CMU.EDU by SAIL.Stanford.EDU with TCP; 23 May 88  08:28:27 PDTReceived: from DST.BOLTZ.CS.CMU.EDU by DST.BOLTZ.CS.CMU.EDU; 23 May 88 11:28:12 EDTTo: cl-cleanup@sail.stanford.eduReply-To: Dave.Touretzky@cs.cmu.eduSubject: HASH-TABLE-PRINTED-REPRESENTATIONDate: Mon, 23 May 88 11:27:58 EDTMessage-ID: <361.580404478@DST.BOLTZ.CS.CMU.EDU>From: Dave.Touretzky@B.GP.CS.CMU.EDUHere's the draft of my hash table proposal.Issue:		HASH-TABLE-PRINTED-PREPRESENTATIONCategory:	ENHANCEMENTEdit history:	23-May-88, Version 1 by TouretzkyDescription:Hash tables are currently second-class data structures when compared tolists, vectors, and structures, because they have no READable printedrepresentation.  This proposal introduces a #H reader syntax for hashtables and a switch to control when hash tables will be printed this way.Proposal (HASH-TABLES-PRINTED-REPRESENTATION:#H-NOTATION) :1) Introduce the following reader notation for hash tables:	 #nH(type (k1 v1) (k2 v2) ...)   "n" is the size of the table; it is analagous to the :size argument to   MAKE-HASH-TABLE.  If omitted, the system picks some reasonable size.   "type" is one of EQ, EQL, or EQUAL.  If omitted it defaults to EQL.   The (ki vi) pairs consist of a key and a value.  There may be any number of   such pairs, including zero.  Order is not significant.  It is an error for   two keys to be identical (using the EQ, EQL, or EQUAL test, as   appropriate.)2) Introduce a switch called *PRINT-HASH* whose initial value isimplementation-dependent.  If *PRINT-HASH* is T, hash tables are printedusing the #H syntax (with all optional components supplied), subject to theusual limits imposed by *PRINT-LEVEL* and *PRINT-LENGTH*.  If *PRINT-HASH*is NIL, hash tables are printed using the current #<HASH-TABLE ...> syntax.Rationale:  this is a useful upward compatible extension (except inimplementations that have usurped #H for other purposes), with verylow adoption cost.Adoption Cost: A simple change to PRIN1 and the pretty printer.  Most ofthe code will be similar to existing routines for printing vectors in #()notation and arrays in #nA() notation.Benefits: this proposal makes hash tables first class objects.  If*PRINT-HASH* is T, their contents become visible in all the normal ways,e.g., if FOO is bound to a hash table object, then typing FOO to aread-eval-print loop will display the contents of the hash table.  Hashtable contents may also be displayed by TRACE if the table is passed as anargument; they may also be displayed by the debugger.  Finally, hash tablesmay be appear as literal objects in programs and be read or written to files.Current practice: we know of no current implementations of this proposal.Although some implementations allow the user to see hash table contentswith DESCRIBE or INSPECT, not all do.  CMU Common Lisp's DESCRIBE, forexample, does not show hash table contents.  This reinforces the need fora standard #H notation to guarantee that users can manipulate a hash tableas easily as a vector, array, or structure.Discussion:Several alternatives have been suggested for the syntax of #H. - preferred notation:    #H(EQL (FOO 37) (BAR 42)) - dotted pair notation:  #H(EQL (FOO . 37) (BAR . 42)) - property list:         #H(EQL FOO 37 BAR 42) - pseudo-structure:      #S(HASH-TABLE TYPE EQL SIZE 20 INITIAL-CONTENTS ((FOO 37) (BAR 42)))One problem with the currently proposed #H notation is that it provides noway to specify a rehash-size or rehash-threshold.  This should not be afatal flaw, though.  The #() notation is also incomplete: it cannotindicate whether the vector has a fill pointer, nor can it show when theelement-type is something more specific than T.  The latter problem is alsoshared by #nA notation.-- Dave*start*02345 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 23 MAY 88 16:15:02 PDTReceived: from DST.BOLTZ.CS.CMU.EDU by SAIL.Stanford.EDU with TCP; 23 May 88  16:13:19 PDTReceived: from DST.BOLTZ.CS.CMU.EDU by DST.BOLTZ.CS.CMU.EDU; 23 May 88 19:13:00 EDTTo: Jon L White <edsel!jonl@labrea.stanford.edu>cc: cl-cleanup@sail.stanford.eduSubject: Re: HASH-TABLE-PRINTED-REPRESENTATION In-reply-to: Your message of Mon, 23 May 88 15:37:48 -0700.             <8805232237.AA01719@bhopal.lucid.com> Date: Mon, 23 May 88 19:12:54 EDTMessage-ID: <602.580432374@DST.BOLTZ.CS.CMU.EDU>From: Dave.Touretzky@B.GP.CS.CMU.EDUOkay, here's a fix for the "fatal flaw" JonL objects to.The full syntax for #H could be:  #nH(type s t (ki vi)*)where "n" is the current size of the hash table, and is optional "type" is one of EQ, EQL, or EQUAL, and defaults to EQL "s" is the rehash-size, and is optional "t" is the rehash-threshold, and is optionalSince this hairs up the printed representation quite a bit,which interferes with my pedagogical objective for makinghash tables visible objects, I also suggest the followingchange:*PRINT-HASH* may take one of three values:  NIL means use #<HASH-TABLE...> notation  T   means use the full #nH syntax; useful for file i/o  :BRIEF means use an abbreviated syntaxThe abbreviated syntax leaves out the "n", "s" and "t"components, and leaves out the type as well if it is EQL.So in CMU Common Lisp the object #H((FOO 37) (BAR 42))would print as either  #65H(EQL 101 65 (FOO 37) (BAR 42))with *PRINT-HASH* set to T, or as  #H((FOO 37) (BAR 42))with *PRINT-HASH* set to :BRIEF.The keyword :BRIEF might not be exactly the right one to use, but I'llleave that for others to decide.  I think there was some discussion aboutmaking *PRINT-STRUCTURE* take one of three values, to control whenuser-supplied print functions were invoked or not.  Does anyone rememberwhat the third value was supposed to be?One more clarification: - even with *PRINT-HASH* set to T, an implementation is free to   not print "n", "s", and "t" components if it chooses.  It may   omit "type" as well if the type is EQL.  But it must accept   all these components when reading #H expressions.-- Dave*start*01633 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 23 MAY 88 15:46:12 PDTReceived: from labrea.stanford.edu by SAIL.Stanford.EDU with TCP; 23 May 88  15:44:34 PDTReceived: by labrea.stanford.edu; Mon, 23 May 88 15:44:46 PDTReceived: from bhopal.lucid.com by edsel id AA02008g; Mon, 23 May 88 15:33:56 PDTReceived: by bhopal id AA01719g; Mon, 23 May 88 15:37:48 PDTDate: Mon, 23 May 88 15:37:48 PDTFrom: Jon L White <edsel!jonl@labrea.stanford.edu>Message-Id: <8805232237.AA01719@bhopal.lucid.com>To: labrea!Dave.Touretzky@CS.CMU.EDUCc: cl-cleanup@sail.stanford.eduIn-Reply-To: Dave.Touretzky@B.GP.CS.CMU.EDU's message of Mon, 23 May 88 11:27:58 EDT <361.580404478@DST.BOLTZ.CS.CMU.EDU>Subject: HASH-TABLE-PRINTED-REPRESENTATIONre: One problem with the currently proposed #H notation is that it provides no    way to specify a rehash-size or rehash-threshold.  This should not be a    fatal flaw, though.  The #() notation is also incomplete: it cannot    indicate whether the vector has a fill pointer, nor can it show when the    element-type is something more specific than T.  The latter problem is also    shared by #nA notation.I think this is a fatal flaw.  The fact that *some* complex classes ofarrays also share this fatal flaw is no argument for retaining it.  Itis still the case that simple arrays of the more common element typesdo not have the flaw; and several years ago there was some discussionon how to fix other manifestations of the flaw on multi-dimensional arrays.-- JonL --*start*02295 00024 USaReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 31 MAY 88 08:58:06 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 31 May 88  08:38:34 PDTReceived: from PEWEE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 412378; Tue 31-May-88 11:38:38 EDTDate: Tue, 31 May 88 11:38 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 1)To: Dave.Touretzky@B.GP.CS.CMU.EDUcc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: <361.580404478@DST.BOLTZ.CS.CMU.EDU>References: <602.580432374@DST.BOLTZ.CS.CMU.EDU>,            <8805232237.AA01719@bhopal.lucid.com>Message-ID: <880531113823.7.KMP@PEWEE.SCRC.Symbolics.COM>I liked version 1 of HASH-TABLES-PRINTED-REPRESENTATION. I thoughtit was simple, useful, and stylistically in keeping with existingtechniques.JonL's point about losing attributes is interesting, but I would notwant to see his comments either keep the simple and useful thing Daveis proposing from going in. I would also not want to see him forceDave into either hairing up the proposal in a way that either doesn'tpass at all, or that does pass and leaves us with a maintainabilityproblem.In particular, the #nH(type s t ...) notation is cute, but has acertain ``kneejerk reaction'' quality to it. I'm afraid that later we'llfind other attributes that need to be in there and some may not fitso gracefully. For example, this notation exploits the fact that nouseful attribute of a hash table is a non-atom -- if we had such attributeslater, we might not trivially be able to extend it.I might propose #nH({keyword value}* {entry}*) but it's even more verbosethan what Dave has already said is too verbose for his uses.So I think we should go with pretty much what Dave proposed and thenin a separate proposal bring up the issue of losing information and address#H, #A, strings, etc. at the same time.Also, unrelated to any of this, I think the "Cost to Implementors" (called"Adoption Cost" in Dave's writeup) needs to be ammended to talk aboutmodifying not only the printer but also the reader.*start*04614 00024 USfDate:  8 Jun 88 20:24 PDTFrom: Masinter.paSubject: Issue: HASH-TABLE-PRINTED-REPRESENTATIONto: X3J13@Sail.stanford.educc: masinterreply-to: cl-cleanup@Sail.stanford.eduline-fold: NOThis draft is for discussion at the June 1988 X3J13 meeting.Status:		DRAFTIssue:		HASH-TABLE-PRINTED-PREPRESENTATIONCategory:		ENHANCEMENTEdit history:	23-May-88, Version 1 by Touretzky			 8-Jun-88, Version 2 by Masinter (as per cl-cleanup discussion)Description:Hash tables are currently second-class data structures when compared tolists, vectors, and structures, because they have no READable printedrepresentation.  This proposal introduces a #H reader syntax for hashtables and a switch to control when hash tables will be printed this way.Proposal (HASH-TABLES-PRINTED-REPRESENTATION:#H-NOTATION) :1) Introduce the following reader notation for hash tables:	 #nH(type (k1 v1) (k2 v2) ...)   "n" is the size of the table; it is analagous to the :size argument to   MAKE-HASH-TABLE.  If omitted, the system picks some reasonable size.   "type" is one of EQ, EQL, or EQUAL.  If omitted it defaults to EQL.   The (ki vi) pairs consist of a key and a value.  There may be any number of   such pairs, including zero.  Order is not significant.  It is an error for   two keys to be identical (using the EQ, EQL, or EQUAL test, as   appropriate.)2) Introduce a switch called *PRINT-HASH* whose initial value isimplementation-dependent.  If *PRINT-HASH* is T, hash tables are printedusing the #H syntax (with all optional components supplied), subject to theusual limits imposed by *PRINT-LEVEL* and *PRINT-LENGTH*.  If *PRINT-HASH*is NIL, hash tables are printed using the current #<HASH-TABLE ...> syntax.Rationale:This is a useful upward compatible extension (except inimplementations that have usurped #H for other purposes), with verylow adoption cost.Cost to Implementors:A simple change to PRIN1 and the pretty printer.  Most of the codewill be similar to existing routines for printing vectors in #()notation and arrays in #nA() notation. The reader would change toread this notation.Cost to Users:Small. Programs that want to control all *PRINT- parameters will needto know about yet another parameter.Benefits:This proposal makes hash tables first class objects.  If*PRINT-HASH* is T, their contents become visible in all the normal ways,e.g., if FOO is bound to a hash table object, then typing FOO to aread-eval-print loop will display the contents of the hash table.  Hashtable contents may also be displayed by TRACE if the table is passed as anargument; they may also be displayed by the debugger.  Finally, hash tablesmay be appear as literal objects in programs and be read or written to files.Current practice: We know of no current implementations of this proposal.Although some implementations allow the user to see hash table contentswith DESCRIBE or INSPECT, not all do.  CMU Common Lisp's DESCRIBE, forexample, does not show hash table contents.  This reinforces the need fora standard #H notation to guarantee that users can manipulate a hash tableas easily as a vector, array, or structure.Discussion:Several alternatives have been suggested for the syntax of #H. - preferred notation:    #H(EQL (FOO 37) (BAR 42)) - dotted pair notation:  #H(EQL (FOO . 37) (BAR . 42)) - property list:         #H(EQL FOO 37 BAR 42) - pseudo-structure:      #S(HASH-TABLE TYPE EQL SIZE 20 INITIAL-CONTENTS ((FOO 37) (BAR 42)))One problem with the currently proposed #H notation is that it provides noway to specify a rehash-size or rehash-threshold.  This should not be afatal flaw, though.  The #() notation is also incomplete: it cannotindicate whether the vector has a fill pointer, nor can it show when theelement-type is something more specific than T.  The latter problem is alsoshared by #nA notation. Some object that the fact that #A is flawed is noreason to introduce the same flaw elsewhere.This prompted yet another proposal:	#[size]H([type] [rehash-size] [rehash-threshold] (ki vi)*) e.g.	#65H(EQL 101 65 (FOO 37) (BAR 42))along with alternative settings for *PRINT-HASH*, NIL, T, :BRIEF, where thelatter would leave out all of the options.        TITAN 
         TITAN 
          
TIMESROMAN 
           ý                                   $                            f             !       <      š                            9              ¡              n       
      ô             Š             )      ¤ zº*start*02391 00024 USaReturn-Path: <edsel!jonl@labrea.stanford.edu>Received: from labrea.stanford.edu by Xerox.COM ; 09 JUN 88 21:36:17 PDTReceived: by labrea.stanford.edu; Thu, 9 Jun 88 21:35:32 PDTReceived: from bhopal.lucid.com by edsel id AA18027g; Thu, 9 Jun 88 21:27:54 PDTReceived: by bhopal id AA26522g; Thu, 9 Jun 88 21:26:35 PDTDate: Thu, 9 Jun 88 21:26:35 PDTFrom: Jon L White <edsel!jonl@labrea.stanford.edu>Message-Id: <8806100426.AA26522@bhopal.lucid.com>To: masinter.paCc: X3J13@sail.stanford.edu, cl-cleanup@sail.stanford.eduIn-Reply-To: Masinter.pa@Xerox.COM's message of 8 Jun 88 20:24 PDT <880608-202925-3823@Xerox>Subject: Issue: HASH-TABLE-PRINTED-REPRESENTATIONTouretzky actually said he would alter his proposal to account for the:rehash-size and :rehash-threshold omissions; but this version of the proposaldoesn't show that.  I remember remarking that you still can'tcall the objects "first class" if the printed representation cannot beread in as an equivalent copy; and the fact that CL has some other datatypesthat aren't "first class" doesn't argue for doing something substandardfor hash-tables.  I don't seem to have a copy of the mail from Dave inwhich he said he would alter his proposal.  Date: Mon, 23 May 88 15:37:48 PDT  From: Jon L White <edsel!jonl@labrea.stanford.edu>  To: labrea!Dave.Touretzky@CS.CMU.EDU  Cc: cl-cleanup@sail.stanford.edu  In-Reply-To: Dave.Touretzky@B.GP.CS.CMU.EDU's message of Mon, 23 May 88 11:27:58 EDT <361.580404478@DST.BOLTZ.CS.CMU.EDU>  Subject: HASH-TABLE-PRINTED-REPRESENTATION  re: One problem with the currently proposed #H notation is that it provides       no way to specify a rehash-size or rehash-threshold.  This should not be       a fatal flaw, though.  The #() notation is also incomplete: it cannot      indicate whether the vector has a fill pointer, nor can it show when the      element-type is something more specific than T.  The latter problem is       also shared by #nA notation.  I think this is a fatal flaw.  The fact that *some* complex classes of  arrays also share this fatal flaw is no argument for retaining it.  It  is still the case that simple arrays of the more common element types  do not have the flaw; and several years ago there was some discussion  on how to fix other manifestations of the flaw on multi-dimensional arrays.  -- JonL --*start*01184 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 09 JUN 88 23:15:01 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 9 Jun 88  23:14:30 PDTReceived: from Cabernet.ms by ArpaGateway.ms ; 09 JUN 88 23:13:19 PDTDate: 9 Jun 88 23:13 PDTFrom: Masinter.paSubject: Re: Issue: HASH-TABLE-PRINTED-REPRESENTATIONIn-reply-to: Jon L White <edsel!jonl@labrea.stanford.edu>'s message of Thu, 9 Jun 88 21:26:35 PDTTo: edsel!jonl@labrea.stanford.educc: cl-cleanup@Sail.stanford.eduMessage-ID: <880609-231319-6124@Xerox>Note the word DRAFT repeated twice. I'd hate to see Dave update the proposaljust to see it rejected by X3J13. This was far enough along that I thought wemight be able to get a sense of whether *anything* like this was acceptable.Date:  8 Jun 88 20:24 PDTFrom: Masinter.paSubject: Issue: HASH-TABLE-PRINTED-REPRESENTATIONto: X3J13@Sail.stanford.educc: masinterreply-to: cl-cleanup@Sail.stanford.eduline-fold: NOThis draft is for discussion at the June 1988 X3J13 meeting.!Status:		DRAFTIssue:		HASH-TABLE-PRINTED-PREPRESENTATION*start*01069 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 16 SEP 88 02:03:09 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 16 Sep 88  02:01:59 PDTReceived: from Salvador.ms by ArpaGateway.ms ; 16 SEP 88 02:00:14 PDTDate: 16 Sep 88 02:00 PDTFrom: masinter.paSubject: Re: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 1)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Tue, 31 May 88 11:38 EDTTo: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>cc: Dave.Touretzky@B.GP.CS.CMU.EDU, CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <880916-020014-3872@Xerox>When we discussed this issue in May and early June, the open issue was whetherwe were going to go for complete+hairy or incomplete+simple, e.g., whether itwas #H((A B) (C D)) or some other variation with all the options. (There wereseveral variations proposed.)I have no notes of any additional comments made by the X3J13 body; do any ofyou?*start*00656 00024 USaReturn-Path: <Dave.Touretzky@dst.boltz.cs.cmu.edu>Received: from DST.BOLTZ.CS.CMU.EDU ([128.2.220.61]) by Xerox.COM ; 17 SEP 88 03:46:16 PDTReceived: from DST.BOLTZ.CS.CMU.EDU by DST.BOLTZ.CS.CMU.EDU; 17 Sep 88 06:45:15 EDTTo: masinter.paSubject: Re: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 1) In-reply-to: Your message of 16 Sep 88 02:00:00 -0700.             <880916-020014-3872@Xerox> Date: Sat, 17 Sep 88 06:45:07 EDTMessage-ID: <1768.590496307@DST.BOLTZ.CS.CMU.EDU>From: Dave.Touretzky@B.GP.CS.CMU.EDU>  I have no notes of any additional comments made by the X3J13 body; do>  any of you?Nope.  -- Dave*start*07487 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 07 OCT 88 15:03:44 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 7 Oct 88  15:00:54 PDTReceived: from Cabernet.ms by ArpaGateway.ms ; 07 OCT 88 14:38:38 PDTDate: 7 Oct 88 14:35 PDTFrom: masinter.paSubject: Re: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 1) In-reply-to: your message of Sat, 17 Sep 88 06:45:07 EDTTo: Dave.Touretzky@B.GP.CS.CMU.EDUcc: cl-cleanup@sail.stanford.eduMessage-ID: <881007-143838-1095@Xerox>Its almost too late to do anything about it, but I had misfiled thefollowing message about HASH-TABLE-PRINTED-REPRESENTATION. My only excuseis that there are 104 pending issues.If you have or want to make a revision to your proposal, which I willinclude, and can get to it *today*, let me know. Otherwise, this will waitfor the next meeting or a letter ballot or something.Included is a message from JonL about HASH-TABLE-PRINTED-REPRESENTATION andthe last version of it.!Return-Path: <edsel!jonl@labrea.stanford.edu>Received: from labrea.stanford.edu by Xerox.COM ; 09 JUN 88 21:36:17 PDTReceived: by labrea.stanford.edu; Thu, 9 Jun 88 21:35:32 PDTReceived: from bhopal.lucid.com by edsel id AA18027g; Thu, 9 Jun 8821:27:54 PDTReceived: by bhopal id AA26522g; Thu, 9 Jun 88 21:26:35 PDTDate: Thu, 9 Jun 88 21:26:35 PDTFrom: Jon L White <edsel!jonl@labrea.stanford.edu>Message-Id: <8806100426.AA26522@bhopal.lucid.com>To: masinter.paCc: X3J13@sail.stanford.edu, cl-cleanup@sail.stanford.eduIn-Reply-To: Masinter.pa@Xerox.COM's message of 8 Jun 88 20:24 PDT<880608-202925-3823@Xerox>Subject: Issue: HASH-TABLE-PRINTED-REPRESENTATIONTouretzky actually said he would alter his proposal to account for the:rehash-size and :rehash-threshold omissions; but this version of the proposaldoesn't show that.  I remember remarking that you still can'tcall the objects "first class" if the printed representation cannot beread in as an equivalent copy; and the fact that CL has some otherdatatypesthat aren't "first class" doesn't argue for doing something substandardfor hash-tables.  I don't seem to have a copy of the mail from Dave inwhich he said he would alter his proposal.  Date: Mon, 23 May 88 15:37:48 PDT  From: Jon L White <edsel!jonl@labrea.stanford.edu>  To: labrea!Dave.Touretzky@CS.CMU.EDU  Cc: cl-cleanup@sail.stanford.edu  In-Reply-To: Dave.Touretzky@B.GP.CS.CMU.EDU's message of Mon, 23 May 8811:27:58 EDT <361.580404478@DST.BOLTZ.CS.CMU.EDU>  Subject: HASH-TABLE-PRINTED-REPRESENTATION  re: One problem with the currently proposed #H notation is that itprovides       no way to specify a rehash-size or rehash-threshold.  This should notbe       a fatal flaw, though.  The #() notation is also incomplete: it cannot      indicate whether the vector has a fill pointer, nor can it show whenthe      element-type is something more specific than T.  The latter problemis       also shared by #nA notation.  I think this is a fatal flaw.  The fact that *some* complex classes of  arrays also share this fatal flaw is no argument for retaining it.  It  is still the case that simple arrays of the more common element types  do not have the flaw; and several years ago there was some discussion  on how to fix other manifestations of the flaw on multi-dimensionalarrays.  -- JonL --!Status:		DRAFTIssue:		HASH-TABLE-PRINTED-PREPRESENTATIONCategory:		ENHANCEMENTEdit history:	23-May-88, Version 1 by Touretzky			 8-Jun-88, Version 2 by Masinter (as per cl-cleanup discussion)Description:Hash tables are currently second-class data structures when compared tolists, vectors, and structures, because they have no READable printedrepresentation.  This proposal introduces a #H reader syntax for hashtables and a switch to control when hash tables will be printed this way.Proposal (HASH-TABLES-PRINTED-REPRESENTATION:#H-NOTATION) :1) Introduce the following reader notation for hash tables:	 #nH(type (k1 v1) (k2 v2) ...)   "n" is the size of the table; it is analagous to the :size argument to   MAKE-HASH-TABLE.  If omitted, the system picks some reasonable size.   "type" is one of EQ, EQL, or EQUAL.  If omitted it defaults to EQL.   The (ki vi) pairs consist of a key and a value.  There may be any numberof   such pairs, including zero.  Order is not significant.  It is an errorfor   two keys to be identical (using the EQ, EQL, or EQUAL test, as   appropriate.)2) Introduce a switch called *PRINT-HASH* whose initial value isimplementation-dependent.  If *PRINT-HASH* is T, hash tables are printedusing the #H syntax (with all optional components supplied), subject to theusual limits imposed by *PRINT-LEVEL* and *PRINT-LENGTH*.  If *PRINT-HASH*is NIL, hash tables are printed using the current #<HASH-TABLE ...> syntax.Rationale:This is a useful upward compatible extension (except inimplementations that have usurped #H for other purposes), with verylow adoption cost.Cost to Implementors:A simple change to PRIN1 and the pretty printer.  Most of the codewill be similar to existing routines for printing vectors in #()notation and arrays in #nA() notation. The reader would change toread this notation.Cost to Users:Small. Programs that want to control all *PRINT- parameters will needto know about yet another parameter.Benefits:This proposal makes hash tables first class objects.  If*PRINT-HASH* is T, their contents become visible in all the normal ways,e.g., if FOO is bound to a hash table object, then typing FOO to aread-eval-print loop will display the contents of the hash table.  Hashtable contents may also be displayed by TRACE if the table is passed as anargument; they may also be displayed by the debugger.  Finally, hash tablesmay be appear as literal objects in programs and be read or written tofiles.Current practice: We know of no current implementations of this proposal.Although some implementations allow the user to see hash table contentswith DESCRIBE or INSPECT, not all do.  CMU Common Lisp's DESCRIBE, forexample, does not show hash table contents.  This reinforces the need fora standard #H notation to guarantee that users can manipulate a hash tableas easily as a vector, array, or structure.Discussion:Several alternatives have been suggested for the syntax of #H. - preferred notation:    #H(EQL (FOO 37) (BAR 42)) - dotted pair notation:  #H(EQL (FOO . 37) (BAR . 42)) - property list:         #H(EQL FOO 37 BAR 42) - pseudo-structure:      #S(HASH-TABLE TYPE EQL SIZE 20 INITIAL-CONTENTS((FOO 37) (BAR 42)))One problem with the currently proposed #H notation is that it provides noway to specify a rehash-size or rehash-threshold.  This should not be afatal flaw, though.  The #() notation is also incomplete: it cannotindicate whether the vector has a fill pointer, nor can it show when theelement-type is something more specific than T.  The latter problem is alsoshared by #nA notation. Some object that the fact that #A is flawed is noreason to introduce the same flaw elsewhere.This prompted yet another proposal:	#[size]H([type] [rehash-size] [rehash-threshold] (ki vi)*) e.g.	#65H(EQL 101 65 (FOO 37) (BAR 42))along with alternative settings for *PRINT-HASH*, NIL, T, :BRIEF, where thelatter would leave out all of the options.*start*00612 00024 US Return-Path: <Dave.Touretzky@dst.boltz.cs.cmu.edu>Received: from DST.BOLTZ.CS.CMU.EDU ([128.2.220.61]) by Xerox.COM ; 08 OCT 88 00:34:43 PDTReceived: from DST.BOLTZ.CS.CMU.EDU by DST.BOLTZ.CS.CMU.EDU;  8 Oct 88 03:34:18 EDTTo: masinter.paSubject: Re: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 1) In-reply-to: Your message of 07 Oct 88 14:35:00 -0700.             <881007-143838-1095@Xerox> Date: Sat, 08 Oct 88 03:34:12 EDTMessage-ID: <1212.592299252@DST.BOLTZ.CS.CMU.EDU>From: Dave.Touretzky@B.GP.CS.CMU.EDUI don't have any revisions to make to the proposal.-- Dave*start*05772 00024 USfDate:  8 Oct 88 17:43 PDTSender: masinter.paSubject: DRAFT Issue: HASH-TABLE-PRINTED-PREPRESENTATION (Version 2)From: cl-cleanup@sail.stanford.eduTo: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.eduline-fold: NOcc: MasinterThe issues listed under Additional Comments still have not been resolved.Status:		DRAFT (see Additional Comments)Issue:		HASH-TABLE-PRINTED-PREPRESENTATIONCategory:		ENHANCEMENTEdit history:	23-May-88, Version 1 by Touretzky			 8-Jun-88, Version 2 by Masinter (as per cl-cleanup discussion)Description:Hash tables are currently second-class data structures when compared tolists, vectors, and structures, because they have no READable printedrepresentation.  This proposal introduces a #H reader syntax for hashtables and a switch to control when hash tables will be printed this way.Proposal (HASH-TABLES-PRINTED-REPRESENTATION:#H-NOTATION) :1) Introduce the following reader notation for hash tables:	 #nH(type (k1 v1) (k2 v2) ...)   "n" is the size of the table; it is analagous to the :size argument to   MAKE-HASH-TABLE.  If omitted, the system picks some reasonable size.   "type" is one of EQ, EQL, or EQUAL.  If omitted it defaults to EQL.   The (ki vi) pairs consist of a key and a value.  There may be any number of   such pairs, including zero.  Order is not significant.  It is an error for   two keys to be identical (using the EQ, EQL, or EQUAL test, as   appropriate.)2) Introduce a switch called *PRINT-HASH* whose initial value isimplementation-dependent.  If *PRINT-HASH* is T, hash tables are printedusing the #H syntax (with all optional components supplied), subject to theusual limits imposed by *PRINT-LEVEL* and *PRINT-LENGTH*.  If *PRINT-HASH*is NIL, hash tables are printed using the current #<HASH-TABLE ...> syntax.Rationale:This is a useful upward compatible extension (except inimplementations that have usurped #H for other purposes), with verylow adoption cost.Cost to Implementors:A simple change to PRIN1 and the pretty printer.  Most of the codewill be similar to existing routines for printing vectors in #()notation and arrays in #nA() notation. The reader would change toread this notation.Cost to Users:Small. Programs that want to control all *PRINT- parameters will needto know about yet another parameter.Benefits:This proposal makes hash tables first class objects.  If*PRINT-HASH* is T, their contents become visible in all the normal ways,e.g., if FOO is bound to a hash table object, then typing FOO to aread-eval-print loop will display the contents of the hash table.  Hashtable contents may also be displayed by TRACE if the table is passed as anargument; they may also be displayed by the debugger.  Finally, hash tablesmay be appear as literal objects in programs and be read or written to files.Current practice: We know of no current implementations of this proposal.Although some implementations allow the user to see hash table contentswith DESCRIBE or INSPECT, not all do.  CMU Common Lisp's DESCRIBE, forexample, does not show hash table contents.  This reinforces the need fora standard #H notation to guarantee that users can manipulate a hash tableas easily as a vector, array, or structure.Discussion:Several alternatives have been suggested for the syntax of #H. - preferred notation:    #H(EQL (FOO 37) (BAR 42)) - dotted pair notation:  #H(EQL (FOO . 37) (BAR . 42)) - property list:         #H(EQL FOO 37 BAR 42) - pseudo-structure:      #S(HASH-TABLE TYPE EQL SIZE 20 INITIAL-CONTENTS ((FOO 37) (BAR 42)))One problem with the currently proposed #H notation is that it provides noway to specify a rehash-size or rehash-threshold.  This should not be afatal flaw, though.  The #() notation is also incomplete: it cannotindicate whether the vector has a fill pointer, nor can it show when theelement-type is something more specific than T.  The latter problem is alsoshared by #nA notation. Some object that the fact that #A is flawed is noreason to introduce the same flaw elsewhere.This prompted yet another proposal:	#[size]H([type] [rehash-size] [rehash-threshold] (ki vi)*) e.g.	#65H(EQL 101 65 (FOO 37) (BAR 42))along with alternative settings for *PRINT-HASH*, NIL, T, :BRIEF, where thelatter would leave out all of the options.- - - - Additional Comments - - - - -you still can'tcall the objects "first class" if the printed representation cannot beread in as an equivalent copy; and the fact that CL has some other datatypesthat aren't "first class" doesn't argue for doing something substandardfor hash-tables.      One problem with the currently proposed #H notation is that it provides       no way to specify a rehash-size or rehash-threshold.  This should not be       a fatal flaw, though.  The #() notation is also incomplete: it cannot      indicate whether the vector has a fill pointer, nor can it show when the      element-type is something more specific than T.  The latter problem is       also shared by #nA notation.  I think this is a fatal flaw.  The fact that *some* complex classes of  arrays also share this fatal flaw is no argument for retaining it.  It  is still the case that simple arrays of the more common element types  do not have the flaw; and several years ago there was some discussion  on how to fix other manifestations of the flaw on multi-dimensional arrays.        TITAN 
          TITAN 
          D       "       â       "              #                            f             !       <      š                            9              ¡              n       
      ô             Š             l      B zº*start*01240 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 14:37:25 PDTReceived: from cs.utah.edu by SAIL.Stanford.EDU with TCP; 13 Oct 88  14:27:50 PDTReceived: by cs.utah.edu (5.54/utah-2.0-cs)	id AA21150; Thu, 13 Oct 88 15:26:02 MDTReceived: by defun.utah.edu (5.54/utah-2.0-leaf)	id AA19904; Thu, 13 Oct 88 15:26:00 MDTFrom: sandra%defun@cs.utah.edu (Sandra J Loosemore)Message-Id: <8810132126.AA19904@defun.utah.edu>Date: Thu, 13 Oct 88 15:25:59 MDTSubject: issue HASH-TABLE-PRINTED-REPRESENTATIONTo: cl-cleanup@sail.stanford.eduI want to second the comments that have already been made at themeeting, to the effect that the variable should be called *PRINT-HASH-TABLE*and that there should be a corresponding :HASH-TABLE argument to WRITE.I like the syntax suggested in what is described as "yet another proposal"but the way it specifies the optional parts is broken.  It should be#[size]H([type [rehash-size [rehash-threshold]]] (ki vi)*)Finally, I agree that array printing is also broken and that it would bea mistake to propagate the same problems to other types.-Sandra-------*start*02840 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 15:31:43 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  15:18:48 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 476010; Thu 13-Oct-88 18:16:57 EDTDate: Thu, 13 Oct 88 18:15 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 2)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881013181527.3.KMP@BOBOLINK.SCRC.Symbolics.COM>My notes from Fairfax meeting...Cleanup meeting: JonL says he'll get Touretzky to do a writeup. Maybe expand to fix arrays for general case. Some people seemed to think there is some relation between this and a DUMP-FORMS facility. I think because you can print something with #. if you can figure out how to construct it. However, Touretzky had already indicated that grokking a #H expression is something a non-Lisp program might hope to do, while parsing a #. expression is  not -- so DUMP-FORMS is not the full answer. Still, such a facility might be a useful new topic to raise.X3J13 meeting: JonL: One issue is that infinite printing might occur if circularities       occur. [JonL said he doesn't believe this is reason not to do it,       but he did want to raise the issue.] Haflich: Impact on #H in per-vendor extensions. Barmar: Need to modify the WRITE function to take a :PRINT-HASH argument. KMP: You mean :PRINT-HASH-TABLE. I want the variable called      *PRINT-HASH-TABLE*, not *PRINT-HASH*. van Roggen: Not sure if it's possible to print enough information to	     make re-reading the expression really construct an	     equivalent object. GLS: The same could be said about other print representations, too, but      there is at least a well-defined theory of how much you can expect      out of print/read. van Roggen's position seemed to be that we might just want to provide *PRINT-HASH-TABLE* but not specify how the thing actually gets printed so it's not thought to be portable. I (KMP) made a note to myself that since #S(ARRAY ...) and  #S(HASH-TABLE ...) couldn't possibly be meaningful, one might define #S to be the generalized constructor for things other than structures. So #S(ARRAY ...) could be used to print arrays with attributes that would otherwise be lost. eg, #S(ARRAY :CONTENTS ... :FILL-POINTER ...). Similarly, #S(HASH-TABLE :CONTENTS ... :SIZE ...) for the cases where hairy options wanted to be shown. #A and the simpler #H notation could then be used unless some option variable were set that said to really print the full-blown info.*start*01477 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 15:31:50 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  15:19:06 PDTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 476009; Thu 13-Oct-88 18:15:20 EDTDate: Thu, 13 Oct 88 18:15 EDTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: issue HASH-TABLE-PRINTED-REPRESENTATIONTo: Sandra J Loosemore <sandra%defun@cs.utah.edu>cc: cl-cleanup@sail.stanford.eduIn-Reply-To: <8810132126.AA19904@defun.utah.edu>Message-ID: <19881013221502.0.MOON@EUPHRATES.SCRC.Symbolics.COM>    Date: Thu, 13 Oct 88 15:25:59 MDT    From: sandra%defun@cs.utah.edu (Sandra J Loosemore)    I like the syntax suggested in what is described as "yet another proposal"    but the way it specifies the optional parts is broken.  It should be    #[size]H([type [rehash-size [rehash-threshold]]] (ki vi)*)It is very important that the syntax for expressing hash table optionsbe extensible, and therefore keyword-based.  Any syntax like this that'spositional, and furthermore assumes that all option values arenon-lists, is simply not acceptable.  Putting the size out there infront is weird, too.I still don't see why #. can't be used, but that's a minor point.*start*01003 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 18 OCT 88 08:54:14 PDTReceived: from cs.utah.edu by SAIL.Stanford.EDU with TCP; 18 Oct 88  08:49:48 PDTReceived: from defun.utah.edu by cs.utah.edu (5.59/utah-2.0-cs)	id AA00134; Tue, 18 Oct 88 09:44:25 MDTReceived: by defun.utah.edu (5.59/utah-2.0-leaf)	id AA22878; Tue, 18 Oct 88 09:42:21 MDTFrom: sandra%defun@cs.utah.edu (Sandra J Loosemore)Message-Id: <8810181542.AA22878@defun.utah.edu>Date: Tue, 18 Oct 88 09:42:19 MDTSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATIONTo: Jon L White <jonl@lucid.com>Cc: Moon@STONY-BROOK.SCRC.Symbolics.COM, sandra%defun@cs.ARPA, cl-cleanup@sail.stanford.eduIn-Reply-To: Jon L White <jonl@lucid.com>, Mon, 17 Oct 88 17:13:49 PDTThinking about this some more, perhaps keyword options would be betterafter all.  I don't have really strong feelings on it.-Sandra-------*start*02102 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 OCT 88 17:49:22 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 17 Oct 88  17:48:06 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 477721; Mon 17-Oct-88 20:47:01 EDTDate: Mon, 17 Oct 88 20:46 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 2)To: JonL@Lucid.COMcc: KMP@STONY-BROOK.SCRC.Symbolics.COM, CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: <8810172358.AA04829@bhopal>Message-ID: <881017204645.3.KMP@BOBOLINK.SCRC.Symbolics.COM>    Date: Mon, 17 Oct 88 16:58:41 PDT    From: Jon L White <jonl@lucid.com>    ... Are your "Fairfax meeting" notes something you wrote down at the time,    or something you reconstructed from memory?  This is not a criticism,    I'm just curious; and I won't ask again, although there may be other    places like this where my memory differs from yours.[Replying to the whole group since others may have had the same question. -kmp]With one or two exceptions [and this is not one], I wrote them at thetime.  That's why I kept encouraging people to just make their point andthen let us go on. I figured I could reconstruct it all fairlyaccurately online later from the notes I was taking.My notes say you brought up the issue, that you thought it was notsomething to worry about, but that you were afraid it was somethingother people might worry about so you wanted to make sure it was noted.Btw, the point of the notes was not to pin anyone to a particularopinion.  I may have made mistakes in my recording or you may havechanged your mind.  The main purpose, which I think I was achieved, wasthat all that we not forget all the important points which got raised sothat we can come out with writeups that are well-researched in the areasthat people seemed to care about.*start*01634 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 OCT 88 17:01:27 PDTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 17 Oct 88  17:00:17 PDTReceived: from bhopal ([192.9.200.13]) by LUCID.COM id AA05422g; Mon, 17 Oct 88 17:00:15 PDTReceived: by bhopal id AA04829g; Mon, 17 Oct 88 16:58:41 PDTDate: Mon, 17 Oct 88 16:58:41 PDTFrom: Jon L White <jonl@lucid.com>Message-Id: <8810172358.AA04829@bhopal>To: KMP@STONY-BROOK.SCRC.Symbolics.COMCc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: Kent M Pitman's message of Thu, 13 Oct 88 18:15 EDT <881013181527.3.KMP@BOBOLINK.SCRC.Symbolics.COM>Subject: Issue: HASH-TABLE-PRINTED-REPRESENTATION (Version 2)re: My notes from Fairfax meeting...    . . .      JonL: One issue is that infinite printing might occur if circularities	   occur. [JonL said he doesn't believe this is reason not to do it,	   but he did want to raise the issue.]Hmmm, I seem to remember rebutting a contention like the one you nowattribute to me; namely, I claimed that circularities in hash-tablecomponents should be no different than circularities in cons cells or structure components.  Possibly I raised the "straw man" myself, but I really thought somebody else did.-- JonL --P.S. Are your "Farifax meeting" notes something you wrote down at the time,    or something you reconstructed from memory?  This is not a criticism,    I'm just curious; and I won't ask again, although there may be other    places like this where my memory differs from yours.*start*01649 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 OCT 88 17:17:46 PDTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 17 Oct 88  17:15:40 PDTReceived: from bhopal ([192.9.200.13]) by LUCID.COM id AA05431g; Mon, 17 Oct 88 17:15:23 PDTReceived: by bhopal id AA04865g; Mon, 17 Oct 88 17:13:49 PDTDate: Mon, 17 Oct 88 17:13:49 PDTFrom: Jon L White <jonl@lucid.com>Message-Id: <8810180013.AA04865@bhopal>To: Moon@STONY-BROOK.SCRC.Symbolics.COMCc: sandra%defun@cs.utah.edu, cl-cleanup@sail.stanford.eduIn-Reply-To: David A. Moon's message of Thu, 13 Oct 88 18:15 EDT <19881013221502.0.MOON@EUPHRATES.SCRC.Symbolics.COM>Subject: issue HASH-TABLE-PRINTED-REPRESENTATIONre: Date: Thu, 13 Oct 88 15:25:59 MDT    From: sandra%defun@cs.utah.edu (Sandra J Loosemore)     I like the syntax suggested in what is described as "yet another proposal"     but the way it specifies the optional parts is broken.  It should be	#[size]H([type [rehash-size [rehash-threshold]]] (ki vi)*)  It is very important that the syntax for expressing hash table options  be extensible, and therefore keyword-based.  Any syntax like this that's  positional, and furthermore assumes that all option values are  non-lists, is simply not acceptable.  Putting the size out there in  front is weird, too.Is it really that important that the extensible part of the syntax look exactly like that for the "Standard" components?  Even in Sandra's format,you still have room for implementation-specific keyword options.-- JonL --*start*00990 00024 USaReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 14 NOV 88 16:03:15 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 14 Nov 88  16:01:24 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 14 NOV 88 15:50:21 PSTDate: 14 Nov 88 15:50 PSTFrom: masinter.paSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATIONIn-reply-to: sandra%defun@cs.utah.edu (Sandra J Loosemore)'s message of Tue, 18 Oct 88 09:42:19 MDTTo: cl-cleanup@sail.stanford.edu, Dave.Touretzky@B.GP.CS.CMU.EDUMessage-ID: <881114-155021-2429@Xerox>Dave's last message is that he doesn't have any revisions to make. If thereis going to be a version 3, someone will have to produce it, right?Volunteer?We have only a short time to get a large number of issues resolved enoughto put them into votable form. If we don't get them into votable form, wemay have to drop them entirely.*start*01343 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 08 DEC 88 12:24:47 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 8 Dec 88  12:21:22 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 08 DEC 88 12:00:50 PSTDate: 8 Dec 88 12:00 PSTFrom: masinter.paSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATIONIn-reply-to: masinter.pa's message of 14 Nov 88 15:50 PSTTo: cl-cleanup@sail.stanford.edu, Dave.Touretzky@B.GP.CS.CMU.EDUMessage-ID: <881208-120050-4123@Xerox>I like Kent's idea " I (KMP) made a note to myself that since #S(ARRAY ...) and  #S(HASH-TABLE ...) couldn't possibly be meaningful, one might define #S to be the generalized constructor for things other than structures. So #S(ARRAY ...) could be used to print arrays with attributes that would otherwise be lost. eg, #S(ARRAY :CONTENTS ... :FILL-POINTER ...). Similarly, #S(HASH-TABLE :CONTENTS ... :SIZE ...) for the cases where hairy options wanted to be shown. #A and the simpler #H notation could then be used unless some option variable were set that said to really print the full-blown info."However, this issue is not going anywhere -- there were certainlymore No's than Yes's to proceed with the latest draft.*start*01021 00024 USaReturn-Path: <Dave.Touretzky@dst.boltz.cs.cmu.edu>Received: from DST.BOLTZ.CS.CMU.EDU ([128.2.220.61]) by Xerox.COM ; 09 DEC 88 01:44:26 PSTReceived: from DST.BOLTZ.CS.CMU.EDU by DST.BOLTZ.CS.CMU.EDU;  9 Dec 88 04:43:48 ESTTo: masinter.pacc: cl-cleanup@sail.stanford.eduReply-To: Dave.Touretzky@cs.cmu.eduSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATION In-reply-to: Your message of 08 Dec 88 12:00:00 -0800.	     <881208-120050-4123@Xerox> Date: Fri, 09 Dec 88 04:43:36 ESTMessage-ID: <3932.597663816@DST.BOLTZ.CS.CMU.EDU>From: Dave.Touretzky@B.GP.CS.CMU.EDUI like KMP's idea too.  In fact, if KMP's extension to #S were passed, Iwould be happy to shelve the #H proposal.  I want hash tables to have aREADable printed representation, but I don't want to squander the remaining# macro dispatch characters on obscure bits of syntax.  People will want totype in arrrays as constants (with #A) much more frequently than hashtables, so #A is needed but #H is diposable.-- Dave*start*02777 00024 US GV-Info: masinter.pa at 17-Mar-89 08:53:26 from massunterDate: 17 Mar 89 08:52 PSTFrom: masinter.paSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATION, v.2In-reply-to: Dave.Touretzky@B.GP.CS.CMU.EDU's message of Fri, 09 Dec 88 04:43:36 ESTTo: Dave.Touretzky@cs.cmu.edu, cl-cleanup@sail.stanford.educc: masinter.paIf someone brings a new draft to the March 89 X3J13, we canput it on the agenda and discuss it. - - - - - - - -Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 08 DEC 88 12:24:47 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 8 Dec 88  12:21:22 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 08 DEC 88 12:00:50 PSTDate: 8 Dec 88 12:00 PSTFrom: masinter.paSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATIONIn-reply-to: masinter.pa's message of 14 Nov 88 15:50 PSTTo: cl-cleanup@sail.stanford.edu, Dave.Touretzky@B.GP.CS.CMU.EDUMessage-ID: <881208-120050-4123@Xerox>I like Kent's idea " I (KMP) made a note to myself that since #S(ARRAY ...) and  #S(HASH-TABLE ...) couldn't possibly be meaningful, one might define #S to be the generalized constructor for things other than structures. So #S(ARRAY ...) could be used to print arrays with attributes that would otherwise be lost. eg, #S(ARRAY :CONTENTS ... :FILL-POINTER ...). Similarly, #S(HASH-TABLE :CONTENTS ... :SIZE ...) for the cases where hairy options wanted to be shown. #A and the simpler #H notation could then be used unless some option variable were set that said to really print the full-blown info."However, this issue is not going anywhere -- there were certainlymore No's than Yes's to proceed with the latest draft.Return-Path: <Dave.Touretzky@dst.boltz.cs.cmu.edu>Received: from DST.BOLTZ.CS.CMU.EDU ([128.2.220.61]) by Xerox.COM ; 09 DEC 88 01:44:26 PSTReceived: from DST.BOLTZ.CS.CMU.EDU by DST.BOLTZ.CS.CMU.EDU;  9 Dec 88 04:43:48 ESTTo: masinter.pacc: cl-cleanup@sail.stanford.eduReply-To: Dave.Touretzky@cs.cmu.eduSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATION In-reply-to: Your message of 08 Dec 88 12:00:00 -0800.	     <881208-120050-4123@Xerox> Date: Fri, 09 Dec 88 04:43:36 ESTMessage-ID: <3932.597663816@DST.BOLTZ.CS.CMU.EDU>From: Dave.Touretzky@B.GP.CS.CMU.EDUI like KMP's idea too.  In fact, if KMP's extension to #S were passed, Iwould be happy to shelve the #H proposal.  I want hash tables to have aREADable printed representation, but I don't want to squander the remaining# macro dispatch characters on obscure bits of syntax.  People will want totype in arrrays as constants (with #A) much more frequently than hashtables, so #A is needed but #H is diposable.-- Dave*start*03158 00024 US GV-Info: CL-Cleanup-mailer@SAIL.Stanford.EDU at 17-Mar-89 09:15:03 from AGReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 MAR 89 08:59:51 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 17 Mar 89  08:59:00 PSTReceived: from Cabernet.ms by ArpaGateway.ms ; 17 MAR 89 08:53:42 PSTDate: 17 Mar 89 08:52 PSTFrom: masinter.paSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATION, v.2In-reply-to: Dave.Touretzky@B.GP.CS.CMU.EDU's message of Fri, 09 Dec 88 04:43:36 ESTTo: Dave.Touretzky@cs.cmu.edu, cl-cleanup@sail.stanford.educc: masinter.paMessage-ID: <890317-085342-8373@Xerox>If someone brings a new draft to the March 89 X3J13, we canput it on the agenda and discuss it. - - - - - - - -Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 08 DEC 88 12:24:47 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 8 Dec 88  12:21:22 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 08 DEC 88 12:00:50 PSTDate: 8 Dec 88 12:00 PSTFrom: masinter.paSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATIONIn-reply-to: masinter.pa's message of 14 Nov 88 15:50 PSTTo: cl-cleanup@sail.stanford.edu, Dave.Touretzky@B.GP.CS.CMU.EDUMessage-ID: <881208-120050-4123@Xerox>I like Kent's idea " I (KMP) made a note to myself that since #S(ARRAY ...) and  #S(HASH-TABLE ...) couldn't possibly be meaningful, one might define #S to be the generalized constructor for things other than structures. So #S(ARRAY ...) could be used to print arrays with attributes that would otherwise be lost. eg, #S(ARRAY :CONTENTS ... :FILL-POINTER ...). Similarly, #S(HASH-TABLE :CONTENTS ... :SIZE ...) for the cases where hairy options wanted to be shown. #A and the simpler #H notation could then be used unless some option variable were set that said to really print the full-blown info."However, this issue is not going anywhere -- there were certainlymore No's than Yes's to proceed with the latest draft.Return-Path: <Dave.Touretzky@dst.boltz.cs.cmu.edu>Received: from DST.BOLTZ.CS.CMU.EDU ([128.2.220.61]) by Xerox.COM ; 09 DEC 88 01:44:26 PSTReceived: from DST.BOLTZ.CS.CMU.EDU by DST.BOLTZ.CS.CMU.EDU;  9 Dec 88 04:43:48 ESTTo: masinter.pacc: cl-cleanup@sail.stanford.eduReply-To: Dave.Touretzky@cs.cmu.eduSubject: Re: issue HASH-TABLE-PRINTED-REPRESENTATION In-reply-to: Your message of 08 Dec 88 12:00:00 -0800.	     <881208-120050-4123@Xerox> Date: Fri, 09 Dec 88 04:43:36 ESTMessage-ID: <3932.597663816@DST.BOLTZ.CS.CMU.EDU>From: Dave.Touretzky@B.GP.CS.CMU.EDUI like KMP's idea too.  In fact, if KMP's extension to #S were passed, Iwould be happy to shelve the #H proposal.  I want hash tables to have aREADable printed representation, but I don't want to squander the remaining# macro dispatch characters on obscure bits of syntax.  People will want totype in arrrays as constants (with #A) much more frequently than hashtables, so #A is needed but #H is diposable.-- Dave