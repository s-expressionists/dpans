*start*03191 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 12 SEP 88 17:48:08 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 12 Sep 88  17:47:38 PDTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 458005; Mon 12-Sep-88 20:43:49 EDTDate: Mon, 12 Sep 88 20:42 EDTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: SYMBOL-MACROLET-DECLARE (version 1)To: CL-Cleanup@SAIL.STANFORD.EDUcc: Gregor.pa, David N Gray <Gray@DSG.csc.ti.com>, Patrick Dussud <edsel!dussud@labrea.stanford.edu>, kempf@Sun.COM, Glenn Andrew Kramer <GAK@SPAR-20.SPAR.SLB.COM>, common-lisp-object-system@SAIL.STANFORD.EDU, Jeffrey Piazza <piazza%lisp.DEC@decwrl.dec.com>In-Reply-To: <19880802205147.3.GREGOR@PORTNOY.parc.xerox.com>,             <2795614606-3753982@Kelvin>,             <8808031719.AA12130@rainbow-warrior.lucid.com>,             <8808031847.AA18770@suntana.sun.com>,             <2795636967-5097451@Kelvin>,             <GAK.12419581321.BABYL@SPAR-20.SPAR.SLB.COM>,             <8808041525.AA20536@suntana.sun.com>,             <2795711083-4281424@Kelvin>,             <19880808171852.6.GREGOR@PORTNOY.parc.xerox.com>,             <8808111506.AA11766@suntana.sun.com>Message-ID: <19880913004248.9.MOON@EUPHRATES.SCRC.Symbolics.COM>Line-fold: NoIssue:         SYMBOL-MACROLET-DECLAREReferences:    SYMBOL-MACROLET (88-002R page 2-81)               WITH-ACCESSORS (88-002R page 2-88)               WITH-SLOTS (88-002R page 2-92)Category:      ADDITIONEdit history:  Version 1, 12-Sep-88, MoonProblem description:It would be both natural and nice to be able to write  (with-slots (rho theta) point    (declare (single-float rho theta))    ...computation...)Proposal (SYMBOL-MACROLET-DECLARE:ALLOW):	  Allow declarations at the head of the body of SYMBOL-MACROLET, and hencein WITH-ACCESSORS and WITH-SLOTS.  Exactly the same declarations areallowed as for LET, with one exception: SYMBOL-MACROLET signals an errorif a SPECIAL declaration names one of the symbols being defined as asymbol-macrolet.  A type declaration of one of these symbols is equivalentto wrapping a THE expression around the expansion of that symbol.Test Cases/Examples:See problem description.Rationale:If SYMBOL-MACROLET is intended to resemble LET in syntax, it ought toallow declarations.  When writing a SYMBOL-MACROLET directly, the usercould just as easily write a THE expression instead of a typedeclaration.  However, when invoking a macro such as WITH-SLOTS thatexpands into SYMBOL-MACROLET, the user does not have this option sincethe expansion is not supplied explicitly by the user.Current practice:SYMBOL-MACROLET was only tentatively added to Common Lisp 3 months ago.Cost to Implementors:Less than one man-hour.Cost to Users:None.Cost of non-adoption:Minor wart in the language.Benefits:More consistent language definition.Esthetics:More consistent language definition.Discussion:None.*start*01463 00024 US Return-Path: <Common-Lisp-Object-System-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 13 SEP 88 07:08:56 PDTReceived: from decwrl.dec.com by SAIL.Stanford.EDU with TCP; 13 Sep 88  07:08:47 PDTReceived: by decwrl.dec.com (5.54.5/4.7.34)	id AA24481; Tue, 13 Sep 88 07:06:10 PDTDate: Tue, 13 Sep 88 07:06:10 PDTMessage-Id: <8809131406.AA24481@decwrl.dec.com>From: piazza%lisp.DEC@decwrl.dec.com (Jeffrey Piazza)To: Moon@stony-brook.scrc.symbolics.comSubject: RE: Issue: SYMBOL-MACROLET-DECLARE (version 1)This seems like a reasonable proposal and does make SYMBOL-MACROLET moreconsistent with LET.This may be a separate issue, but somewhere we should nail down theinterpretation of e.g.	(symbol-macrolet ((foo bar))	  ...	  (locally (declare (special foo))	    ...foo...))As currently specified, only a new binding for FOO can turn off itsinterpretation as a symbol macro.  I'd like to see some language that said thata SPECIAL declaration also shadows the symbol macro scope.The limit case, which your proposal makes "an error", might then reasonablyhave a null semantics:	(symbol-macrolet ((foo bar))	  (declare (special foo))	  ...)might be interpreted as	(locally (declare (special foo))	  ...)I don't have strong feelings one way or the other about this part--it doesn'tseem possible to bring SYMBOL-MACROLET into complete consistency with LET here./JEP*start*01999 00024 USaReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 13 SEP 88 11:46:42 PDTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 13 Sep 88  11:45:49 PDTReceived: from rainbow-warrior ([192.9.200.16]) by heavens-gate.lucid.com id AA00217g; Tue, 13 Sep 88 10:43:38 PSTReceived: by rainbow-warrior id AA03013g; Tue, 13 Sep 88 11:41:59 PDTDate: Tue, 13 Sep 88 11:41:59 PDTFrom: Patrick Dussud <dussud@lucid.com>Message-Id: <8809131841.AA03013@rainbow-warrior>To: piazza%lisp.DEC@decwrl.dec.comCc: Moon@stony-brook.scrc.symbolics.com, Common-Lisp-Object-System@SAIL.STANFORD.EDU, cl-cleanup@SAIL.STANFORD.EDUIn-Reply-To: Jeffrey Piazza's message of Tue, 13 Sep 88 07:06:10 PDT <8809131406.AA24481@decwrl.dec.com>Subject: Issue: SYMBOL-MACROLET-DECLARE (version 1)   Date: Tue, 13 Sep 88 07:06:10 PDT   From: piazza%lisp.DEC@decwrl.dec.com (Jeffrey Piazza)   This seems like a reasonable proposal and does make SYMBOL-MACROLET more   consistent with LET.   This may be a separate issue, but somewhere we should nail down the   interpretation of e.g.	   (symbol-macrolet ((foo bar))	     ...	     (locally (declare (special foo))	       ...foo...))   As currently specified, only a new binding for FOO can turn off its   interpretation as a symbol macro.  I'd like to see some language that said that   a SPECIAL declaration also shadows the symbol macro scope.That seems reasonable.   The limit case, which your proposal makes "an error", might then reasonably   have a null semantics:	   (symbol-macrolet ((foo bar))	     (declare (special foo))	     ...)   might be interpreted as	   (locally (declare (special foo))	     ...)This would be a very bad idea, it would be very inconsistent with LET, andwould introduce a bizarre semantics: Throw away what I just said in thebinding list. I think that it should be an error.Patrick.*start*01297 00024 US Return-Path: <Common-Lisp-Object-System-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 20 SEP 88 18:17:10 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 20 Sep 88  18:17:10 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 20 SEP 88 18:02:57 PDTDate: 20 Sep 88 18:02 PDTFrom: masinter.paSubject: Re: Issue: SYMBOL-MACROLET-DECLARE (version 1)In-reply-to: Patrick Dussud <dussud@lucid.com>'s message of Tue, 13 Sep 88 11:41:59 PDTTo: Patrick Dussud <dussud@lucid.com>cc: piazza%lisp.DEC@decwrl.dec.com, Moon@stony-brook.scrc.symbolics.com, Common-Lisp-Object-System@SAIL.STANFORD.EDU, cl-cleanup@SAIL.STANFORD.EDUMessage-ID: <880920-180257-5257@Xerox>We need to get this cleaned up in time to present to X3J13. I think it is at least consistent with LET semantics to say that (LOCALLY (DECLARE (SPECIAL X)) ...) introduces a new scope for X. Its consistentwith(LET((X 4)) (DECLARE (SPECIAL X))(LET ((X 3)) (LOCALLY (DECLARE (SPECIAL X)) X)))returning 4.I.e., add to the proposal something like:Clarify that, within a SYMBOL-MACROLET, a nested LOCALLY with a DECLARE SPECIALintroduces a new scope for the variable(s) declared special, and will overridewithin its scope any SYMBOL-MACROLET.*start*01257 00024 US Return-Path: <dussud@lucid.com>Received: from lucid.com ([192.26.25.1]) by Xerox.COM ; 20 SEP 88 20:07:38 PDTReceived: from rainbow-warrior ([192.9.200.16]) by heavens-gate.lucid.com id AA05077g; Tue, 20 Sep 88 19:06:13 PSTReceived: by rainbow-warrior id AA19120g; Tue, 20 Sep 88 20:04:34 PDTDate: Tue, 20 Sep 88 20:04:34 PDTFrom: Patrick Dussud <dussud@lucid.com>Message-Id: <8809210304.AA19120@rainbow-warrior>To: masinter.paCc: piazza%lisp.DEC@decwrl.dec.com, Moon@stony-brook.scrc.symbolics.com, Common-Lisp-Object-System@SAIL.STANFORD.EDU, cl-cleanup@SAIL.STANFORD.EDUIn-Reply-To: masinter.pa@Xerox.COM's message of 20 Sep 88 18:02 PDT <880920-180257-5257@Xerox>Subject: Issue: SYMBOL-MACROLET-DECLARE (version 1)   Date: 20 Sep 88 18:02 PDT   From: masinter.pa@Xerox.COM   We need to get this cleaned up in time to present to X3J13.    Clarify that, within a SYMBOL-MACROLET, a nested LOCALLY with a DECLARE SPECIAL   introduces a new scope for the variable(s) declared special, and will override   within its scope any SYMBOL-MACROLET.I agree with this. We should also specify that  SPECIAL  shouldn't be used inthe declaration part of a symbol-macrolet. Locally special declaration arefine. Patrick.*start*01994 00024 US Date:  8 Oct 88 21:58 PDTSender: masinter.paSubject: DRAFT Issue: SYMBOL-MACROLET-DECLARE (version 1)From: cl-cleanup@sail.stanford.eduTo: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.eduline-fold: NOcc: MasinterIssue:         SYMBOL-MACROLET-DECLAREReferences:    SYMBOL-MACROLET (88-002R page 2-81)               WITH-ACCESSORS (88-002R page 2-88)               WITH-SLOTS (88-002R page 2-92)Category:      ADDITIONEdit history:  Version 1, 12-Sep-88, MoonProblem description:It would be both natural and nice to be able to write  (with-slots (rho theta) point    (declare (single-float rho theta))    ...computation...)Proposal (SYMBOL-MACROLET-DECLARE:ALLOW):	  Allow declarations at the head of the body of SYMBOL-MACROLET, and hencein WITH-ACCESSORS and WITH-SLOTS.  Exactly the same declarations areallowed as for LET, with one exception: SYMBOL-MACROLET signals an errorif a SPECIAL declaration names one of the symbols being defined as asymbol-macrolet.  A type declaration of one of these symbols is equivalentto wrapping a THE expression around the expansion of that symbol.Test Cases/Examples:See problem description.Rationale:If SYMBOL-MACROLET is intended to resemble LET in syntax, it ought toallow declarations.  When writing a SYMBOL-MACROLET directly, the usercould just as easily write a THE expression instead of a typedeclaration.  However, when invoking a macro such as WITH-SLOTS thatexpands into SYMBOL-MACROLET, the user does not have this option sincethe expansion is not supplied explicitly by the user.Current practice:SYMBOL-MACROLET was only tentatively added to Common Lisp 3 months ago.Cost to Implementors:Less than one man-hour.Cost to Users:None.Cost of non-adoption:Minor wart in the language.Benefits:More consistent language definition.Esthetics:More consistent language definition.Discussion:None.     ----- End Forwarded Messages -----*start*02438 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 20 OCT 88 13:18:15 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 20 Oct 88  13:16:28 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 479514; Thu 20-Oct-88 16:16:16 EDTDate: Thu, 20 Oct 88 16:16 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: DRAFT Issue: SYMBOL-MACROLET-DECLARE (version 1)To: jonl@lucid.comcc: cl-cleanup@sail.stanford.eduIn-Reply-To: <8810182240.AA02072@bhopal>Message-ID: <881020161608.0.KMP@BOBOLINK.SCRC.Symbolics.COM>    Date: Tue, 18 Oct 88 15:40:02 PDT    From: Jon L White <jonl@lucid.com>    This issue should be folded into SYMBOL-MACROLET-SEMANTICS; it would be    hardly one line in the descripton of SYMBOL-MACROLET as a special form.    Since it looks like SYMBOL-MACROLET-SEMANTICS is not very controversial    anymore, I see no reason to support separate proposals.In general, people who think something is non-controversial should take onlyone course of action: vote yes and move on to the next issue. The onlyjustification for asking for a rewrite should be that you either disagreeon technical grounds which are not stated or not stated fairly, or elseyou think that a particular presentation is vague or controversial and arewrite would head off needless debate down the line. I don't see you assertingeither of those positions, so I don't see any reason to act on your suggestion.If you support both proposals, I see no reason not to leave them separateand just ask you to vote yes. One of our most valuable resources is time toget proposals into shape. If we have two proposals which are ready to votewe should not waste time debating over whether they should be a singleproposal. Making them so might involve more work than you think since therationales might not merge as neatly as you expect or people might vote downone big proposal when they could at least vote in one of two proposals iflast-minute controversy comes up on half the issue.Worrying about merging two reasonable proposals is like worrying aboutrewriting a working program using LOOP because you're not a DO fan. Itdoesn't contribute toward the end goal of just getting done.*start*02092 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 27 OCT 88 15:36:23 PDTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 27 Oct 88  14:14:10 PDTReceived: from bhopal ([192.9.200.13]) by heavens-gate.lucid.com id AA01210g; Thu, 27 Oct 88 14:12:03 PDTReceived: by bhopal id AA11436g; Thu, 27 Oct 88 14:09:05 PDTDate: Thu, 27 Oct 88 14:09:05 PDTFrom: Jon L White <jonl@lucid.com>Message-Id: <8810272109.AA11436@bhopal>To: KMP@STONY-BROOK.SCRC.Symbolics.COMCc: cl-cleanup@sail.stanford.eduIn-Reply-To: Kent M Pitman's message of Thu, 20 Oct 88 16:16 EDT <881020161608.0.KMP@BOBOLINK.SCRC.Symbolics.COM>Subject: DRAFT Issue: SYMBOL-MACROLET-DECLARE (version 1)re: From: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>    Subject: DRAFT Issue: SYMBOL-MACROLET-DECLARE (version 1)        Date: Tue, 18 Oct 88 15:40:02 PDT	From: Jon L White <jonl@lucid.com>	This issue should be folded into SYMBOL-MACROLET-SEMANTICS; it would be	hardly one line in the descripton of SYMBOL-MACROLET as a special form.	Since it looks like SYMBOL-MACROLET-SEMANTICS is not very controversial	anymore, I see no reason to support separate proposals.    If you support both proposals, I see no reason not to leave them separate    and just ask you to vote yes. . . .Uh, the problem is that the SYMBOL-MACROLET-DECLARE issue is raisedprimarily because a macro-definition for SYMBOL-MACROLET would leavethe issue of DECLARE open.  But the special-form version of SYMBOL-MACROLETreally should address it [there already have been cleanup issues to address the declaration matter for the special forms that logically should have thembut for which CLtL didn't say -- FLET, LABELS, etc].These two issues can no longer really be separated; if no one bothers to add the one-line sentence to SYMBOL-MACROLET-SEMANTICS that would fully subsume SYMBOL-MACROLET-DECLARE, then at least these two ought to be paired togetherin discussions and voting.-- JonL --*start*00796 00024 US Date: 27 Oct 88 17:36 PDTFrom: masinter.paSubject: Re: DRAFT Issue: SYMBOL-MACROLET-DECLARE (version 1)In-reply-to: Jon L White <jonl@lucid.com>'s message of Thu, 27 Oct 88 14:09:05 PDTTo: Jon L White <jonl@lucid.com>cc: masinterLets avoid meta-discussions about whether issues should be split or joined. I proclaim the issues are split. I will put them separately on the ballot. The voting mechanism will accomodate conditional votes (Yes on SYMBOL-MACROLET-DECLARE only if SYMBOL-MACROLET-SEMANTICS passes) if people feel they are necessary.I think you owe some new writeups of important issues, and I hope you can get to them soon. The SYMBOL-MACROLET... issues have the CLOS-related loophole that can allow them to be postponed if necessary.Thanks,Larry*start*01073 00024 US Return-Path: <jonl@lucid.com>Received: from lucid.com ([192.26.25.1]) by Xerox.COM ; 01 NOV 88 23:14:09 PSTReceived: from bhopal ([192.9.200.13]) by heavens-gate.lucid.com id AA00248g; Tue, 1 Nov 88 23:13:32 PSTReceived: by bhopal id AA11162g; Tue, 1 Nov 88 23:12:03 PSTDate: Tue, 1 Nov 88 23:12:03 PSTFrom: Jon L White <jonl@lucid.com>Message-Id: <8811020712.AA11162@bhopal>To: masinter.paIn-Reply-To: masinter.pa@Xerox.COM's message of 27 Oct 88 17:36 PDT <881027-173606-1659@Xerox>Subject: DRAFT Issue: SYMBOL-MACROLET-DECLARE (version 1)re: The SYMBOL-MACROLET... issues have the CLOS-related    loophole that can allow them to be postponed if necessary.I don't understand this.  The acceptance of CLOS seems to have madethe cleanup action necessary (namely, it wasn't fully thought out bythe Clos subcommittee).-- JonL --P.S. By the bye, I have a muchly reworked ARRAY-TYPE-ELEMENT-TYPE-SEMANTICS     that Pedersen and Loosemore have looked over and applauded.  I'll send     it out tomorrow, after a final proofreading.*start*02677 00024 US Date:  9 Dec 88 10:32 PSTSender: masinter.paTo: x3j13@sail.stanford.eduSubject: Issue: SYMBOL-MACROLET-DECLARE (Version 2)From: cl-cleanup@sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinterline-fold: noIssue:         SYMBOL-MACROLET-DECLAREReferences:    SYMBOL-MACROLET (88-002R page 2-81)               WITH-ACCESSORS (88-002R page 2-88)               WITH-SLOTS (88-002R page 2-92)Related Issues: SYMBOL-MACROLET-SEMANTICS               FLET-DECLARATIONS (passed)Category:      ADDITIONEdit history:  Version 1, 12-Sep-88, Moon               Version 2,  9-Dec-88, Masinter                 (add cross reference, discussion)Problem description:It would be both natural and nice to be able to write  (with-slots (rho theta) point    (declare (single-float rho theta))    ...computation...)Proposal (SYMBOL-MACROLET-DECLARE:ALLOW):	  Allow declarations at the head of the body of SYMBOL-MACROLET, and hencein WITH-ACCESSORS and WITH-SLOTS.  Exactly the same declarations areallowed as for LET, with one exception: SYMBOL-MACROLET signals an errorif a SPECIAL declaration names one of the symbols being defined as asymbol-macrolet.  A type declaration of one of these symbols is equivalentto wrapping a THE expression around the expansion of that symbol.Example:See problem description.Rationale:If SYMBOL-MACROLET is intended to resemble LET in syntax, it ought toallow declarations.  When writing a SYMBOL-MACROLET directly, the usercould just as easily write a THE expression instead of a typedeclaration.  However, when invoking a macro such as WITH-SLOTS thatexpands into SYMBOL-MACROLET, the user does not have this option sincethe expansion is not supplied explicitly by the user.Current practice:SYMBOL-MACROLET was only tentatively added to Common Lisp 3 months ago.Cost to Implementors:Less than one man-hour.Cost to Users:None.Cost of non-adoption:Minor wart in the language.Benefits:More consistent language definition.Esthetics:More consistent language definition.Discussion:This issue is related to SYMBOL-MACROLET-SEMANTICS."A macro-definition for SYMBOL-MACROLET would leave the issue ofDECLARE open.  But the special-form version of SYMBOL-MACROLETreally should address it."        TITAN 
         TITAN 
           Z              Ñ                     Ö              E              
              }              ó       *      Æ       	                    è              J                                                 
       '              '              —      ı "z∫*start*02641 00024 US Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 09 DEC 88 11:01:02 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 9 Dec 88  10:47:13 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 09 DEC 88 10:32:48 PSTDate: 9 Dec 88 10:32 PSTSender: masinter.paTo: x3j13@sail.stanford.eduSubject: Issue: SYMBOL-MACROLET-DECLARE (Version 2)From: cl-cleanup@sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinter.paline-fold: noMessage-ID: <881209-103248-6444@Xerox>!Issue:         SYMBOL-MACROLET-DECLAREReferences:    SYMBOL-MACROLET (88-002R page 2-81)               WITH-ACCESSORS (88-002R page 2-8*start*02641 00024 UU?Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 09 DEC 88 11:01:02 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 9 Dec 88  10:47:13 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 09 DEC 88 10:32:48 PSTDate: 9 Dec 88 10:32 PSTSender: masinter.paTo: x3j13@sail.stanford.eduSubject: Issue: SYMBOL-MACROLET-DECLARE (Version 2)From: cl-cleanup@sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinter.paline-fold: noMessage-ID: <881209-103248-6444@Xerox>!Issue:         SYMBOL-MACROLET-DECLAREReferences:    SYMBOL-MACROLET (88-002R page 2-81)               WITH-ACCESSORS (88-002R page 2-88)               WITH-SLOTS (88-002R page 2-92)Related Issues: SYMBOL-MACROLET-SEMANTICS               FLET-DECLARATIONS (passed)Category:      ADDITIONEdit history:  Version 1, 12-Sep-88, Moon               Version 2,  9-Dec-88, Masinter                 (add cross reference, discussion)Problem description:It would be both natural and nice to be able to write  (with-slots (rho theta) point    (declare (single-float rho theta))    ...computation...)Proposal (SYMBOL-MACROLET-DECLARE:ALLOW):	  Allow declarations at the head of the body of SYMBOL-MACROLET, and hencein WITH-ACCESSORS and WITH-SLOTS.  Exactly the same declarations areallowed as for LET, with one exception: SYMBOL-MACROLET signals an errorif a SPECIAL declaration names one of the symbols being defined as asymbol-macrolet.  A type declaration of one of these symbols is equivalentto wrapping a THE expression around the expansion of that symbol.Example:See problem description.Rationale:If SYMBOL-MACROLET is intended to resemble LET in syntax, it ought toallow declarations.  When writing a SYMBOL-MACROLET directly, the usercould just as easily write a THE expression instead of a typedeclaration.  However, when invoking a macro such as WITH-SLOTS thatexpands into SYMBOL-MACROLET, the user does not have this option sincethe expansion is not supplied explicitly by the user.Current practice:SYMBOL-MACROLET was only tentatively added to Common Lisp 3 months ago.Cost to Implementors:Less than one man-hour.Cost to Users:None.Cost of non-adoption:Minor wart in the language.Benefits:More consistent language definition.Esthetics:More consistent language definition.Discussion:This issue is related to SYMBOL-MACROLET-SEMANTICS."A macro-definition for SYMBOL-MACROLET would leave the issue ofDECLARE open.  But the special-form version of SYMBOL-MACROLETreally should address it."