*start*04400 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 21 OCT 88 15:21:33 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 21 Oct 88  15:20:13 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 480261; Fri 21-Oct-88 18:20:20 EDTDate: Fri, 21 Oct 88 18:20 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCY (Version 1)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881021182009.7.KMP@BOBOLINK.SCRC.Symbolics.COM>From my list of "pending issues" distributed at the last X3J13 meeting...-----Issue:        PACKAGE-FUNCTION-CONSISTENCYReferences:   11.7 Package System Functions and Variables (pp182-188)Category:     CLARIFICATION/CHANGEEdit history: 21-Oct-88, Version 1 by PitmanStatus:	      For Internal DiscussionProblem Description:  CLtL is vague about whether either or both of package or package name  are permissible in some cases.Proposal (PACKAGE-FUNCTION-CONSISTENCY:PERMISSIVE):  Clarify that it is permissible to pass either a package object  or a package name (symbol or string) in the following situations:    - the :USE argument to MAKE-PACKAGE or IN-PACKAGE    - the first argument to IN-PACKAGE, FIND-PACKAGE, and RENAME-PACKAGE    - the second argument to INTERN, FIND-SYMBOL, UNINTERN    - the second argument to EXPORT, UNEXPORT, IMPORT,      SHADOWING-IMPORT, and SHADOW    - the first argument (or a member of the list which is the first      argument) to USE-PACKAGE or UNUSE-PACKAGE.    - the PACKAGE argument to DO-SYMBOLS.    - the PACKAGE argument to DO-EXTERNAL-SYMBOLS.    - the PACKAGE argument to DO-ALL-SYMBOLS.  If FIND-PACKAGE is given a package object as an argument, it simply  returns it.  If IN-PACKAGE is given a package object as an argument, that package  is selected. It is an error if, when a package object is given as a  first argument to IN-PACKAGE, a :USE list is explicitly specified and  does not exactly match the package or :NICKNAMES is explicitly supplied  and does not exactly match the package.  Clarify that the functions PACKAGE-NAME, PACKAGE-NICKNAMES,   PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST are (at least conceptually)  accessors to package data structures and permit only package objects  as arguments.  Clarify that the function MAKE-PACKAGE permits only a package name  as an argument since it does not make sense to create an existing  package.  Clarify that package nicknames must always be expressed as package  names (symbols or strings) and may never be actual package objects.Test Case:  (INTERN "FOO" "KEYWORD") => :FOO  (DEFVAR *FOO-PACKAGE* (MAKE-PACKAGE "FOO"))  (RENAME-PACKAGE "FOO" "FOO0")  (PACKAGE-NAME *FOO-PACKAGE*) => "FOO0"Rationale:  This makes things more consistent.Current Practice:  Symbolics Genera permits strings as package names.  Symbolics Cloe does not permit strings as package names.Cost to Implementors:  Very small.Cost to Users:  None. This change is upward compatible.Cost of Non-Adoption:  Implementations would continue to vary gratuitously, leaving a potential  for portability problems.Benefits:  The cost of non-adoption is avoided.Aesthetics:  This makes things more regular, and so presumably more aesthetic.Discussion:  Pitman ran across this problem while trying to port Macsyma to various  implementations. Discussion with other maintainers of portable programs  shows this is a common source of aggravation in portable code.  Since the pathname accessors all take namestrings or streams, one might  easily argue that it would be more consistent for PACKAGE-NAME,   PACKAGE-NICKNAMES, etc. to also take arguments of package names. After  all,   (PACKAGE-NAME "FOO") => "FOO"  is no stranger than   (NAMESTRING "JOE:fred.lisp") => "JOE:fred.lisp".  If anyone wants to see a redraft of this to include even these  functions, they should speak up.  It would be possible to say that MAKE-PACKAGE took package objects as  arguments and just returned that package. That might have limited  usefulness on rare occassions, but mostly seemed too far out in left  field to bother suggesting it.*start*00868 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 21 OCT 88 15:28:41 PDTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 21 Oct 88  15:26:18 PDTReceived: from blacksox ([192.9.201.39]) by heavens-gate.lucid.com id AA00521g; Fri, 21 Oct 88 15:25:59 PDTReceived: by blacksox id AA00268g; Fri, 21 Oct 88 15:22:02 pdtDate: Fri, 21 Oct 88 15:22:02 pdtFrom: Eric Benson <eb@lucid.com>Message-Id: <8810212222.AA00268@blacksox>To: KMP@STONY-BROOK.SCRC.Symbolics.COMCc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: Kent M Pitman's message of Fri, 21 Oct 88 18:20 EDT <881021182009.7.KMP@BOBOLINK.SCRC.Symbolics.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCY (Version 1)For Current Practice:Lucid CL permits string as package names.*start*01581 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 10 NOV 88 15:59:39 PSTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 10 Nov 88  15:57:22 PSTReceived: from bhopal ([192.9.200.13]) by heavens-gate.lucid.com id AA04201g; Thu, 10 Nov 88 15:56:03 PSTReceived: by bhopal id AA08229g; Thu, 10 Nov 88 15:54:45 PSTDate: Thu, 10 Nov 88 15:54:45 PSTFrom: Jon L White <jonl@lucid.com>Message-Id: <8811102354.AA08229@bhopal>To: KMP@STONY-BROOK.SCRC.Symbolics.COMCc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: Kent M Pitman's message of Fri, 21 Oct 88 18:20 EDT <881021182009.7.KMP@BOBOLINK.SCRC.Symbolics.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCY (Version 1)Lucid Common Lisp implements the proposed "permissive" behavior except:  (1) FIND-PACKAGE and IN-PACKAGE require names, based on our reading of      the fine print in CLtL [extending to permit packages is no problem];  (2) PACKAGE-USE-LIST and PACKAGE-USED-BY-LIST permit names.I support this proposal in general; however I have one specificdisagreement with it that needs to be resolved: I think thatextending PACKAGE-NAME, PACKAGE-NICKNAMES, PACKAGE-USE-LIST, andPACKAGE-USED-BY-LIST to accept names is generally useful; much moreso than is restricting them on the outside chance that open-codedslot access is a critical performace issue.  Yes, it makes sense toask PACKAGE-NAME on a string; e.g., (PACKAGE-NAME "SYS") will be"SYSTEM".What do you think?-- JonL --*start*04567 00024 US Date: 12 Jan 89 17:20 PSTSender: masinter.paSubject: Issue: PACKAGE-FUNCTION-CONSISTENCY (Version 2)To: X3J13@Sail.Stanford.EduReply-to: cl-cleanup@sail.stanford.eduFrom: cl-cleanup@sail.stanford.educc: masinterline-fold: NoIssue:        PACKAGE-FUNCTION-CONSISTENCYReferences:   11.7 Package System Functions and Variables (pp182-188)Category:     CLARIFICATION/CHANGEEdit history: 21-Oct-88, Version 1 by Pitman		12-Jan-89, Version 2 by Masinter (add MORE-PERMISSIVE option)Problem Description:  CLtL is vague about whether either or both of package or package name  are permissible in some cases.Proposal (PACKAGE-FUNCTION-CONSISTENCY:PERMISSIVE):  Clarify that it is permissible to pass either a package object  or a package name (symbol or string) in the following situations:    - the :USE argument to MAKE-PACKAGE or IN-PACKAGE    - the first argument to IN-PACKAGE, FIND-PACKAGE, and RENAME-PACKAGE    - the second argument to INTERN, FIND-SYMBOL, UNINTERN    - the second argument to EXPORT, UNEXPORT, IMPORT,      SHADOWING-IMPORT, and SHADOW    - the first argument (or a member of the list which is the first      argument) to USE-PACKAGE or UNUSE-PACKAGE.    - the PACKAGE argument to DO-SYMBOLS.    - the PACKAGE argument to DO-EXTERNAL-SYMBOLS.    - the PACKAGE argument to DO-ALL-SYMBOLS.  If FIND-PACKAGE is given a package object as an argument, it simply  returns it.  If IN-PACKAGE is given a package object as an argument, that package  is selected. It is an error if, when a package object is given as a  first argument to IN-PACKAGE, a :USE list is explicitly specified and  does not exactly match the package or :NICKNAMES is explicitly supplied  and does not exactly match the package.  Clarify that the functions PACKAGE-NAME, PACKAGE-NICKNAMES,   PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST are (at least conceptually)  accessors to package data structures and permit only package objects  as arguments.  Clarify that the function MAKE-PACKAGE permits only a package name  as an argument since it does not make sense to create an existing  package.  Clarify that package nicknames must always be expressed as package  names (symbols or strings) and may never be actual package objects.Proposal: (PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE)In addition, require that PACKAGE-NAME, PACKAGE-NICKNAMES, PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST  to accept names,too.Examples:  (INTERN "FOO" "KEYWORD") => :FOO  (DEFVAR *FOO-PACKAGE* (MAKE-PACKAGE "FOO"))  (RENAME-PACKAGE "FOO" "FOO0")  (PACKAGE-NAME *FOO-PACKAGE*) => "FOO0"Under MORE-PERMISSIVE,	(PACKAGE-NAME "SYS") might return "SYSTEM".Rationale:   This makes things more consistent.   MORE-PERMISSIVE adds a generally useful capability.Current Practice:  Symbolics Genera & Lucid permits strings as package names.  Symbolics Cloe does not permit strings as package names.  In Lucid FIND-PACKAGE and IN-PACKAGE require names.Cost to Implementors:  Small. A tiny bit more for MORE-PERMISSIVE.Cost to Users:  None. This change is upward compatible.Cost of Non-Adoption:  Implementations would continue to vary gratuitously, leaving a potential  for portability problems.Benefits:  The cost of non-adoption is avoided.Aesthetics:  This makes things more regular, and so presumably more aesthetic.Discussion:  Pitman ran across this problem while trying to port Macsyma to various  implementations. Discussion with other maintainers of portable programs  shows this is a common source of aggravation in portable code.  Since the pathname accessors all take namestrings or streams, one might  easily argue that it would be more consistent for PACKAGE-NAME,   PACKAGE-NICKNAMES, etc. to also take arguments of package names. After  all,   (PACKAGE-NAME "FOO") => "FOO"  is no stranger than   (NAMESTRING "JOE:fred.lisp") => "JOE:fred.lisp".  It would be possible to say that MAKE-PACKAGE took package objects as  arguments and just returned that package. That might have limited  usefulness on rare occassions, but mostly seemed too far out in left  field to bother suggesting it.        TITAN          TITAN            >              Ÿ                     8                            b              k       4      <       9       €       
       ä              `              °              0              ,              i       
       )              F                   W "zº*start*04532 00024 US Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 12 JAN 89 17:45:45 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 12 Jan 89  17:31:09 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 12 JAN 89 17:20:59 PSTDate: 12 Jan 89 17:20 PSTSender: masinter.paSubject: Issue: PACKAGE-FUNCTION-CONSISTENCY (Version 2)To: X3J13@Sail.Stanford.EduReply-to: cl-cleanup@sail.stanford.eduFrom: cl-cleanup@sail.stanford.educc: masinter.paline-fold: NoMessage-ID: <890112-172059-1554@Xerox>!Issue:        PACKAGE-FUNCTION-CONSISTENCYReferences:   11.7 Package System Functions and Variables (pp182-188)Category:     CLARIFICATION/CHANGEEdit history: 21-Oct-88, Version 1 by Pitman		12-Jan-89, Version 2 by Masinter (add MORE-PERMISSIVE option)Problem Description:  CLtL is vague about whether either or both of package or package name  are permissible in some cases.Proposal (PACKAGE-FUNCTION-CONSISTENCY:PERMISSIVE):  Clarify that it is permissible to pass either a package object  or a package name (symbol or string) in the following situations:    - the :USE argument to MAKE-PACKAGE or IN-PACKAGE    - the first argument to IN-PACKAGE, FIND-PACKAGE, and RENAME-PACKAGE    - the second argument to INTERN, FIND-SYMBOL, UNINTERN    - the second argument to EXPORT, UNEXPORT, IMPORT,      SHADOWING-IMPORT, and SHADOW    - the first argument (or a member of the list which is the first      argument) to USE-PACKAGE or UNUSE-PACKAGE.    - the PACKAGE argument to DO-SYMBOLS.    - the PACKAGE argument to DO-EXTERNAL-SYMBOLS.    - the PACKAGE argument to DO-ALL-SYMBOLS.  If FIND-PACKAGE is given a package object as an argument, it simply  returns it.  If IN-PACKAGE is given a package object as an argument, that package  is selected. It is an error if, when a package object is given as a  first argument to IN-PACKAGE, a :USE list is explicitly specified and  does not exactly match the package or :NICKNAMES is explicitly supplied  and does not exactly match the package.  Clarify that the functions PACKAGE-NAME, PACKAGE-NICKNAMES,   PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST are (at least conceptually)  accessors to package data structures and permit only package objects  as arguments.  Clarify that the function MAKE-PACKAGE permits only a package name  as an argument since it does not make sense to create an existing  package.  Clarify that package nicknames must always be expressed as package  names (symbols or strings) and may never be actual package objects.Proposal: (PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE)In addition, require that PACKAGE-NAME, PACKAGE-NICKNAMES, PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST  to accept names,too.Examples:  (INTERN "FOO" "KEYWORD") => :FOO  (DEFVAR *FOO-PACKAGE* (MAKE-PACKAGE "FOO"))  (RENAME-PACKAGE "FOO" "FOO0")  (PACKAGE-NAME *FOO-PACKAGE*) => "FOO0"Under MORE-PERMISSIVE,	(PACKAGE-NAME "SYS") might return "SYSTEM".Rationale:   This makes things more consistent.   MORE-PERMISSIVE adds a generally useful capability.Current Practice:  Symbolics Genera & Lucid permits strings as package names.  Symbolics Cloe does not permit strings as package names.  In Lucid FIND-PACKAGE and IN-PACKAGE require names.Cost to Implementors:  Small. A tiny bit more for MORE-PERMISSIVE.Cost to Users:  None. This change is upward compatible.Cost of Non-Adoption:  Implementations would continue to vary gratuitously, leaving a potential  for portability problems.Benefits:  The cost of non-adoption is avoided.Aesthetics:  This makes things more regular, and so presumably more aesthetic.Discussion:  Pitman ran across this problem while trying to port Macsyma to various  implementations. Discussion with other maintainers of portable programs  shows this is a common source of aggravation in portable code.  Since the pathname accessors all take namestrings or streams, one might  easily argue that it would be more consistent for PACKAGE-NAME,   PACKAGE-NICKNAMES, etc. to also take arguments of package names. After  all,   (PACKAGE-NAME "FOO") => "FOO"  is no stranger than   (NAMESTRING "JOE:fred.lisp") => "JOE:fred.lisp".  It would be possible to say that MAKE-PACKAGE took package objects as  arguments and just returned that package. That might have limited  usefulness on rare occassions, but mostly seemed too far out in left  field to bother suggesting it.*start*04350 00024 US GV-Info: masinter.pa at 17-Mar-89 10:26:25 from massunterDate: 17 Mar 89 10:25 PSTFrom: masinter.paSubject: Issue: PACKAGE-FUNCTION-CONSISTENCY, V.3To: x3J13@sail.stanford.educc: masinter.paThe notes from the January meeting said Accepted MORE-PERMISSIVE (v2),as amended. Amendments made at the meeting added DELETE-PACKAGE and DEFPACKAGE  to the list of functions and removed the paragraph beginningwith the words "If IN-PACKAGE...".I can't figure out where a package name *isn't* allowed in DEFPACKAGEor where a package object would make sense. Are the notes incorrect,or were we just to hasty?Anyway, here's my guess at what we really meant to pass; I supposewe can just vote this one in instead.Issue:        PACKAGE-FUNCTION-CONSISTENCYReferences:   11.7 Package System Functions and Variables (pp182-188)Category:     CLARIFICATION/CHANGEEdit history: 21-Oct-88, Version 1 by Pitman		12-Jan-89, Version 2 by Masinter (add MORE-PERMISSIVE option)		17-Mar-89, Version 3, by Masinter, MORE-PERMISSIVE as			amended & adopted at Jan 89 X3j13Problem Description:  CLtL is vague about whether either or both of package or package name  are permissible in some cases.Proposal (PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE):  Clarify that it is permissible to pass either a package object  or a package name (symbol or string) in the following situations:    - the :USE argument to MAKE-PACKAGE or IN-PACKAGE    - the first argument to IN-PACKAGE, FIND-PACKAGE, RENAME-PACKAGE			or DELETE-PACKAGE    - the second argument to INTERN, FIND-SYMBOL, UNINTERN    - the second argument to EXPORT, UNEXPORT, IMPORT,      SHADOWING-IMPORT, and SHADOW    - the first argument (or a member of the list which is the first      argument) to USE-PACKAGE or UNUSE-PACKAGE.    - the PACKAGE argument to DO-SYMBOLS.    - the PACKAGE argument to DO-EXTERNAL-SYMBOLS.    - the PACKAGE argument to DO-ALL-SYMBOLS.  If FIND-PACKAGE is given a package object as an argument, it simply  returns it.  Clarify that the functions PACKAGE-NAME, PACKAGE-NICKNAMES,   PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST are (at least conceptually)  accessors to package data structures and permit only package objects  as arguments.  Clarify that the function MAKE-PACKAGE permits only a package name  as an argument since it does not make sense to create an existing  package.  Clarify that package nicknames must always be expressed as package  names (symbols or strings) and may never be actual package objects.In addition, require that PACKAGE-NAME, PACKAGE-NICKNAMES, PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST  to accept names,too.Examples:  (INTERN "FOO" "KEYWORD") => :FOO  (DEFVAR *FOO-PACKAGE* (MAKE-PACKAGE "FOO"))  (RENAME-PACKAGE "FOO" "FOO0")  (PACKAGE-NAME *FOO-PACKAGE*) => "FOO0"  (PACKAGE-NAME "SYS") might return "SYSTEM".Rationale:   This makes things more consistent.   It also adds a generally useful capability.Current Practice:  Symbolics Genera & Lucid permits strings as package names.  Symbolics Cloe does not permit strings as package names.  In Lucid FIND-PACKAGE and IN-PACKAGE require names.Cost to Implementors:  Small.Cost to Users:  None. This change is upward compatible.Cost of Non-Adoption:  Implementations would continue to vary gratuitously, leaving a potential  for portability problems.Benefits:  The cost of non-adoption is avoided.Aesthetics:  This makes things more regular, and so presumably more aesthetic.Discussion:  Pitman ran across this problem while trying to port Macsyma to various  implementations. Discussion with other maintainers of portable programs  shows this is a common source of aggravation in portable code.  Since the pathname accessors all take namestrings or streams, one might  easily argue that it would be more consistent for PACKAGE-NAME,   PACKAGE-NICKNAMES, etc. to also take arguments of package names. After  all,   (PACKAGE-NAME "FOO") => "FOO"  is no stranger than   (NAMESTRING "JOE:fred.lisp") => "JOE:fred.lisp".  It would be possible to say that MAKE-PACKAGE took package objects as  arguments and just returned that package. That might have limited  usefulness on rare occassions, but mostly seemed too far out in left  field to bother suggesting it.*start*04684 00024 US GV-Info: X3J13-mailer@SAIL.Stanford.EDU at 17-Mar-89 11:31:19 from AGReturn-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 MAR 89 10:57:17 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 17 Mar 89  10:40:58 PSTReceived: from Cabernet.ms by ArpaGateway.ms ; 17 MAR 89 10:28:12 PSTDate: 17 Mar 89 10:25 PSTFrom: masinter.paSubject: Issue: PACKAGE-FUNCTION-CONSISTENCY, V.3To: x3J13@sail.stanford.educc: masinter.paMessage-ID: <890317-102812-1247@Xerox>The notes from the January meeting said Accepted MORE-PERMISSIVE (v2),as amended. Amendments made at the meeting added DELETE-PACKAGE and DEFPACKAGE  to the list of functions and removed the paragraph beginningwith the words "If IN-PACKAGE...".I can't figure out where a package name *isn't* allowed in DEFPACKAGEor where a package object would make sense. Are the notes incorrect,or were we just to hasty?Anyway, here's my guess at what we really meant to pass; I supposewe can just vote this one in instead.!Issue:        PACKAGE-FUNCTION-CONSISTENCYReferences:   11.7 Package System Functions and Variables (pp182-188)Category:     CLARIFICATION/CHANGEEdit history: 21-Oct-88, Version 1 by Pitman		12-Jan-89, Version 2 by Masinter (add MORE-PERMISSIVE option)		17-Mar-89, Version 3, by Masinter, MORE-PERMISSIVE as			amended & adopted at Jan 89 X3j13Problem Description:  CLtL is vague about whether either or both of package or package name  are permissible in some cases.Proposal (PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE):  Clarify that it is permissible to pass either a package object  or a package name (symbol or string) in the following situations:    - the :USE argument to MAKE-PACKAGE or IN-PACKAGE    - the first argument to IN-PACKAGE, FIND-PACKAGE, RENAME-PACKAGE			or DELETE-PACKAGE    - the second argument to INTERN, FIND-SYMBOL, UNINTERN    - the second argument to EXPORT, UNEXPORT, IMPORT,      SHADOWING-IMPORT, and SHADOW    - the first argument (or a member of the list which is the first      argument) to USE-PACKAGE or UNUSE-PACKAGE.    - the PACKAGE argument to DO-SYMBOLS.    - the PACKAGE argument to DO-EXTERNAL-SYMBOLS.    - the PACKAGE argument to DO-ALL-SYMBOLS.  If FIND-PACKAGE is given a package object as an argument, it simply  returns it.  Clarify that the functions PACKAGE-NAME, PACKAGE-NICKNAMES,   PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST are (at least conceptually)  accessors to package data structures and permit only package objects  as arguments.  Clarify that the function MAKE-PACKAGE permits only a package name  as an argument since it does not make sense to create an existing  package.  Clarify that package nicknames must always be expressed as package  names (symbols or strings) and may never be actual package objects.In addition, require that PACKAGE-NAME, PACKAGE-NICKNAMES, PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST  to accept names,too.Examples:  (INTERN "FOO" "KEYWORD") => :FOO  (DEFVAR *FOO-PACKAGE* (MAKE-PACKAGE "FOO"))  (RENAME-PACKAGE "FOO" "FOO0")  (PACKAGE-NAME *FOO-PACKAGE*) => "FOO0"  (PACKAGE-NAME "SYS") might return "SYSTEM".Rationale:   This makes things more consistent.   It also adds a generally useful capability.Current Practice:  Symbolics Genera & Lucid permits strings as package names.  Symbolics Cloe does not permit strings as package names.  In Lucid FIND-PACKAGE and IN-PACKAGE require names.Cost to Implementors:  Small.Cost to Users:  None. This change is upward compatible.Cost of Non-Adoption:  Implementations would continue to vary gratuitously, leaving a potential  for portability problems.Benefits:  The cost of non-adoption is avoided.Aesthetics:  This makes things more regular, and so presumably more aesthetic.Discussion:  Pitman ran across this problem while trying to port Macsyma to various  implementations. Discussion with other maintainers of portable programs  shows this is a common source of aggravation in portable code.  Since the pathname accessors all take namestrings or streams, one might  easily argue that it would be more consistent for PACKAGE-NAME,   PACKAGE-NICKNAMES, etc. to also take arguments of package names. After  all,   (PACKAGE-NAME "FOO") => "FOO"  is no stranger than   (NAMESTRING "JOE:fred.lisp") => "JOE:fred.lisp".  It would be possible to say that MAKE-PACKAGE took package objects as  arguments and just returned that package. That might have limited  usefulness on rare occassions, but mostly seemed too far out in left  field to bother suggesting it.*start*01329 00024 US GV-Info: X3J13-mailer@SAIL.Stanford.EDU at 17-Mar-89 12:56:44 from AGReturn-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 MAR 89 12:55:52 PSTReceived: from Think.COM by SAIL.Stanford.EDU with TCP; 17 Mar 89  12:45:23 PSTReturn-Path: <barmar@Think.COM>Received: from OCCAM.THINK.COM by Think.COM; Fri, 17 Mar 89 14:55:05 ESTDate: Fri, 17 Mar 89 14:46 ESTFrom: Barry Margolin <barmar@Think.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCY, V.3To: masinter.paCc: x3J13@sail.stanford.eduIn-Reply-To: <890317-102812-1247@Xerox>Message-Id: <19890317194641.7.BARMAR@OCCAM.THINK.COM>    Date: 17 Mar 89 10:25 PST    From: masinter.pa@xerox.com    Proposal (PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE):      Clarify that the functions PACKAGE-NAME, PACKAGE-NICKNAMES,       PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST are (at least conceptually)      accessors to package data structures and permit only package objects      as arguments.    ...    In addition, require that PACKAGE-NAME, PACKAGE-NICKNAMES,     PACKAGE-USE-LIST, and PACKAGE-USED-BY-LIST  to accept names,    too.You can't have it both ways!  Also, the grammar of the second one coulduse improving.                                                barmar*start*04329 00024 USaGV-Info: CL-Cleanup-mailer@SAIL.Stanford.EDU at 17-Mar-89 16:28:12 from AGReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 MAR 89 16:27:41 PSTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 17 Mar 89  16:26:59 PSTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 560089; Fri 17-Mar-89 19:24:33 ESTDate: Fri, 17 Mar 89 19:24 ESTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCY (version 4)To: CL-Cleanup@sail.stanford.eduIn-Reply-To: <890317-102812-1247@Xerox>Message-ID: <19890318002424.2.MOON@EUPHRATES.SCRC.Symbolics.COM>I think this one is more correct than the one Larry mailedto X3J13, in its reflection of the amendments voted in atthe last meeting.  I'll mail it to X3J13 if no one disagrees.!Issue:        PACKAGE-FUNCTION-CONSISTENCYReferences:   11.7 Package System Functions and Variables (pp182-188)Category:     CLARIFICATION/CHANGEEdit history: 21-Oct-88, Version 1 by Pitman		12-Jan-89, Version 2 by Masinter (add MORE-PERMISSIVE option)		17-Mar-89, Version 3, by Masinter, MORE-PERMISSIVE as			amended & adopted at Jan 89 X3j13		17-Mar-89, Version 4, by Moon, correct amended wordingProblem Description:  CLtL is vague about whether either or both of package or package name  are permissible in some cases.Proposal (PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE):  Clarify that it is permissible to pass either a package object  or a package name (symbol or string) in the following situations:    - the :USE argument to MAKE-PACKAGE or IN-PACKAGE    - the first argument to IN-PACKAGE, FIND-PACKAGE, RENAME-PACKAGE			or DELETE-PACKAGE    - the second argument to INTERN, FIND-SYMBOL, UNINTERN    - the second argument to EXPORT, UNEXPORT, IMPORT,      SHADOWING-IMPORT, and SHADOW    - the first argument (or a member of the list which is the first      argument) to USE-PACKAGE or UNUSE-PACKAGE.    - all package-name arguments in DEFPACKAGE except for the name and      nicknames of the package being defined.    - the first argument to PACKAGE-NAME, PACKAGE-NICKNAMES,       PACKAGE-USE-LIST, or PACKAGE-USED-BY-LIST    - the PACKAGE argument to DO-SYMBOLS.    - the PACKAGE argument to DO-EXTERNAL-SYMBOLS.    - the PACKAGE argument to DO-ALL-SYMBOLS.  If FIND-PACKAGE is given a package object as an argument, it simply  returns it.  Clarify that the function MAKE-PACKAGE permits only a package name  as an argument since it does not make sense to create an existing  package.  Clarify that package nicknames must always be expressed as package  names (symbols or strings) and may never be actual package objects.  In the list above, IN-PACKAGE may be changed to SELECT-PACKAGE  if IN-PACKAGE-FUNCTIONALITY:NEW-MACRO passes.Examples:  (INTERN "FOO" "KEYWORD") => :FOO  (DEFVAR *FOO-PACKAGE* (MAKE-PACKAGE "FOO"))  (RENAME-PACKAGE "FOO" "FOO0")  (PACKAGE-NAME *FOO-PACKAGE*) => "FOO0"  (PACKAGE-NAME "SYS") might return "SYSTEM".Rationale:   This makes things more consistent.   It also adds a generally useful capability.Current Practice:  Symbolics Genera & Lucid permit strings as package names.  Symbolics Cloe does not permit strings as package names.  In Lucid FIND-PACKAGE and IN-PACKAGE require names.Cost to Implementors:  Small.Cost to Users:  None. This change is upward compatible.Cost of Non-Adoption:  Implementations would continue to vary gratuitously, leaving a potential  for portability problems.Benefits:  The cost of non-adoption is avoided.Aesthetics:  This makes things more regular, and so presumably more aesthetic.Discussion:  Pitman ran across this problem while trying to port Macsyma to various  implementations. Discussion with other maintainers of portable programs  shows this is a common source of aggravation in portable code.  It would be possible to say that MAKE-PACKAGE took package objects as  arguments and just returned that package. That might have limited  usefulness on rare occasions, but mostly seemed too far out in left  field to bother suggesting it.*start*01593 00024 US GV-Info: X3J13-mailer@SAIL.Stanford.EDU at 17-Mar-89 16:34:12 from AGReturn-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 MAR 89 16:34:02 PSTReceived: from YUKON.SCRC.Symbolics.COM (SCRC-YUKON.ARPA) by SAIL.Stanford.EDU with TCP; 17 Mar 89  16:23:09 PSTReceived: from EUPHRATES.SCRC.Symbolics.COM by YUKON.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 439582; Fri 17-Mar-89 19:22:26 ESTDate: Fri, 17 Mar 89 19:20 ESTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCY, V.3To: masinter.pacc: x3J13@sail.stanford.eduIn-Reply-To: <890317-102812-1247@Xerox>Message-ID: <19890318002018.1.MOON@EUPHRATES.SCRC.Symbolics.COM>Line-fold: No    Date: 17 Mar 89 10:25 PST    From: masinter.pa@Xerox.COM    The notes from the January meeting said Accepted MORE-PERMISSIVE (v2),    as amended. Amendments made at the meeting added DELETE-PACKAGE and     DEFPACKAGE  to the list of functions and removed the paragraph beginning    with the words "If IN-PACKAGE...".    I can't figure out where a package name *isn't* allowed in DEFPACKAGE    or where a package object would make sense. Are the notes incorrect,    or were we just to hasty?It wasn't my amendment, but I don't see why a package object should be disallowed in any position in DEFPACKAGE other than the name or nicknameof the package being defined.  I'll send a version that I think is correctto CL-Cleanup and if no one disagrees it can be mailed to X3J13 tosupersede this one.*start*04169 00024 US GV-Info: X3J13-mailer@SAIL.Stanford.EDU at 17-Mar-89 23:14:36 from AGReturn-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 17 MAR 89 23:14:33 PSTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 17 Mar 89  23:03:59 PSTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 560302; Sat 18-Mar-89 02:00:54 ESTDate: Sat, 18 Mar 89 02:00 ESTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCY (version 4)To: X3J13@sail.stanford.eduMessage-ID: <19890318070046.4.MOON@EUPHRATES.SCRC.Symbolics.COM>This is a correction to some wording problems and inconsistenciesin version 3 that was mailed out yesterday.!Issue:        PACKAGE-FUNCTION-CONSISTENCYReferences:   11.7 Package System Functions and Variables (pp182-188)Category:     CLARIFICATION/CHANGEEdit history: 21-Oct-88, Version 1 by Pitman		12-Jan-89, Version 2 by Masinter (add MORE-PERMISSIVE option)		17-Mar-89, Version 3, by Masinter, MORE-PERMISSIVE as			amended & adopted at Jan 89 X3j13		17-Mar-89, Version 4, by Moon, correct amended wordingProblem Description:  CLtL is vague about whether either or both of package or package name  are permissible in some cases.Proposal (PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE):  Clarify that it is permissible to pass either a package object  or a package name (symbol or string) in the following situations:    - the :USE argument to MAKE-PACKAGE or IN-PACKAGE    - the first argument to IN-PACKAGE, FIND-PACKAGE, RENAME-PACKAGE			or DELETE-PACKAGE    - the second argument to INTERN, FIND-SYMBOL, UNINTERN    - the second argument to EXPORT, UNEXPORT, IMPORT,      SHADOWING-IMPORT, and SHADOW    - the first argument (or a member of the list which is the first      argument) to USE-PACKAGE or UNUSE-PACKAGE.    - all package-name arguments in DEFPACKAGE except for the name and      nicknames of the package being defined.    - the first argument to PACKAGE-NAME, PACKAGE-NICKNAMES,       PACKAGE-USE-LIST, or PACKAGE-USED-BY-LIST    - the PACKAGE argument to DO-SYMBOLS.    - the PACKAGE argument to DO-EXTERNAL-SYMBOLS.    - the PACKAGE argument to DO-ALL-SYMBOLS.  If FIND-PACKAGE is given a package object as an argument, it simply  returns it.  Clarify that the function MAKE-PACKAGE permits only a package name  as an argument since it does not make sense to create an existing  package.  Clarify that package nicknames must always be expressed as package  names (symbols or strings) and may never be actual package objects.  In the list above, IN-PACKAGE may be changed to SELECT-PACKAGE  if IN-PACKAGE-FUNCTIONALITY:NEW-MACRO passes.Examples:  (INTERN "FOO" "KEYWORD") => :FOO  (DEFVAR *FOO-PACKAGE* (MAKE-PACKAGE "FOO"))  (RENAME-PACKAGE "FOO" "FOO0")  (PACKAGE-NAME *FOO-PACKAGE*) => "FOO0"  (PACKAGE-NAME "SYS") might return "SYSTEM".Rationale:   This makes things more consistent.   It also adds a generally useful capability.Current Practice:  Symbolics Genera & Lucid permit strings as package names.  Symbolics Cloe does not permit strings as package names.  In Lucid FIND-PACKAGE and IN-PACKAGE require names.Cost to Implementors:  Small.Cost to Users:  None. This change is upward compatible.Cost of Non-Adoption:  Implementations would continue to vary gratuitously, leaving a potential  for portability problems.Benefits:  The cost of non-adoption is avoided.Aesthetics:  This makes things more regular, and so presumably more aesthetic.Discussion:  Pitman ran across this problem while trying to port Macsyma to various  implementations. Discussion with other maintainers of portable programs  shows this is a common source of aggravation in portable code.  It would be possible to say that MAKE-PACKAGE took package objects as  arguments and just returned that package. That might have limited  usefulness on rare occasions, but mostly seemed too far out in left  field to bother suggesting it.*start*01116 00024 US Date:  4 Apr 89 12:31 PDTSender: CL-Cleanup-mailer%SAIL.Stanford:EDU:XeroxFrom: KMP%STONY-BROOK.SCRC.Symbolics:COM:XeroxSubject: Issue: PACKAGE-FUNCTION-CONSISTENCYTo: CL-Cleanup%SAIL.Stanford:EDU:XeroxGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: PACKAGE-FUNCTION-CONSISTENCYTo: CL-Cleanup@SAIL.Stanford.EDUReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 04 APR 89 12:24:41 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM by SAIL.Stanford.EDU with TCP; 4 Apr 89  12:22:38 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 571216; Tue 4-Apr-89 15:22:10 EDTOriginal-Date: Tue, 4 Apr 89 15:21 EDTMessage-ID: <890404152140.7.KMP@BOBOLINK.SCRC.Symbolics.COM>GVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVGVThis was on the agenda but not discussed.Since it is just a clarification, I assume it could still comeup at the next meeting.*start*01000 00024 US GV-Info: CL-Cleanup-mailer@SAIL.Stanford.EDU at  9-Apr-89 22:39:59 from AGReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 09 APR 89 22:39:59 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 9 Apr 89  22:39:02 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 09 APR 89 22:38:45 PDTDate: 9 Apr 89 22:38 PDTFrom: masinter.paSubject: Re: Issue: PACKAGE-FUNCTION-CONSISTENCYIn-reply-to: KMP%STONY-BROOK.SCRC.Symbolics:COM:Xerox's message of 4 Apr 89 12:31 PDTTo: KMP@Symbolics.COMcc: CL-Cleanup@SAIL.Stanford.eduMessage-ID: <890409-223845-3466@Xerox>I believe the status is that David mailed a Version 4 which contained thecorrect wording for what was passed at the Jan 89 X3J13. I don't think weneed to discuss it again. I had it on the agenda because I knew my Version3 was incorrect or cloudy.I'm marking it "Passed, as amended, Jan 89 X3j13". 