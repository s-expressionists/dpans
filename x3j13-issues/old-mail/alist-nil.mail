*start*04038 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 20 JUN 88 13:13:03 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 20 Jun 88  13:12:48 PDTReceived: from RIO-DE-JANEIRO.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 422136; 20 Jun 88 16:11:32 EDTDate: Mon, 20 Jun 88 16:11 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: ALIST-NIL (Version 1)To: CL-Cleanup@SAIL.STANFORD.EDUMessage-ID: <880620161106.3.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")Fonts: CPTFONT, CPTFONTIIssue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by PitmanStatus:	      For Internal DiscussionProblem Description:  NIL is permitted to be an element of an a-list but nothing useful  can be done with such an element.Proposal (1issue-name0:1proposal-name0):  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  No motivation in CLtL is given for NIL being allowed in an a-list.  The description of a-lists seem needlessly complicated by this feature.  FIND (with a :KEY of #'CAR) and ASSOC (with no key) are almost identical  except for their treatment of this issue. If no one makes significant  use of the feature, it would be better to be able to simplify the  relationship between these functions.Current Practice:  All valid implementations allow NIL.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which the author is able to guess this  feature might be used:  #1: A user might want a leading NIL on an a-list so that if the list  were empty, there'd still be a tail to which cells could be attached  in the future. That is,   (DEFVAR *MY-ALIST* (CONS NIL '()))  so that    ...(NCONC *MY-ALIST* (LIST new-cell))...  would always be possible as a side-effect and   ...(ASSOC element *MY-ALIST*)...  would always be possible for lookup. It might be argued that this is more  clearly written:   (DEFVAR *MY-TABLE* (CONS NIL '()))   (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))   (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))   ...(ADD-ENTRY new-cell *MY-TABLE*)...   ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving  the place that the element occupied in the list. In the very rare cases  where this was necessary, one could rewrite:   (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))  as:   (DEFUN VOID-FIRST-ENTRY (ALIST)     (LET ((ENTRY (CONS NIL NIL)))       (SETF (CAR ENTRY) ENTRY) ;Something unique       (SETF (CAR ALIST) ENTRY)))Cost of Non-Adoption:  There only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits:  Simplified documentation.Aesthetics:  This change would simplify the language.Discussion:  Pitman submitted this proposal after looking at the write-up of  a-lists in the new standard. The description seems needlessly  cluttered by this unmotivated and he felt that either a motivation  for this feature should be cited and defended or the feature should  go away. The degree to which he believes in this feature will be  determined by any claims made by others in ensuing discussion.  Some people might consider this change gratuitous.*start*01030 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 22 JUN 88 23:07:36 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 22 Jun 88  23:06:26 PDTReceived: from Cabernet.ms by ArpaGateway.ms ; 22 JUN 88 23:06:16 PDTDate: 22 Jun 88 22:56 PDTFrom: masinter.paSubject: Re: Issue: ALIST-NIL (Version 1)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Mon, 20 Jun 88 16:11 EDTTo: KMP@STONY-BROOK.SCRC.Symbolics.COMcc: CL-Cleanup@SAIL.STANFORD.EDUMessage-ID: <880622-230616-3064@Xerox>of all of the odd little confusing corners of CL, this seems like one of theleast important to clean up.  I would imagine the intent was more along thelines of your #2; and that putting NIL there seems simpler than putting someotherwise useless CONS. Besides, putting the NIL there also makes it clear wherethe "dummy" entries are, allowing for a quick (remove nil alist).So, I'm agin it.*start*01021 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 23 JUN 88 08:44:04 PDTReceived: from hudson.dec.com by SAIL.Stanford.EDU with TCP; 23 Jun 88  08:42:46 PDTDate: 23 Jun 88 11:26:00 EDTFrom: "AITG::VANROGGEN" <vanroggen%aitg.decnet@hudson.dec.com>Subject: Re: Issue: ALIST-NIL (Version 1)To: "cl-cleanup" <cl-cleanup@sail.stanford.edu>cc: vanroggen@hudson.dec.com Reply-To: "AITG::VANROGGEN" <vanroggen%aitg.decnet@hudson.dec.com>You didn't mention that the [R]ASSOC[-IF[-NOT]] functions might befaster if they didn't have to check for NIL.In general, I'm in favor of this, but I'm somewhat concerned aboutcompatibility.  However, I think "Cost to User #1" isn't really muchof an argument.  #2 is an issue, though, and your suggestion isn'tgood enough a work-around, since it might change the behavior for thexxx-IF and xxx-IF-NOT functions, depending on the predicate used.			---Walter------*start*02544 00024 US Return-Path: <KMP@STONY-BROOK.SCRC.Symbolics.COM>Received: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by Xerox.COM ; 23 JUN 88 07:33:31 PDTReceived: from RIO-DE-JANEIRO.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 423620; Thu 23-Jun-88 10:33:19 EDTDate: Thu, 23 Jun 88 10:33 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Re: Issue: ALIST-NIL (Version 1)To: masinter.pacc: KMP@STONY-BROOK.SCRC.Symbolics.COM, CL-Cleanup@SAIL.STANFORD.EDUIn-Reply-To: <880622-230616-3064@Xerox>Message-ID: <880623103303.9.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>    Date: 22 Jun 88 22:56 PDT    From: masinter.pa@Xerox.COM    of all of the odd little confusing corners of CL, this seems like one of the    least important to clean up. i don't know what your criterion for importance is. there was a lot of maila while back that exposed widespread confusion about whether even arbitrarysymbols could occur in an alist. this was traced to confusion over the needto mention atoms in one paragraph forced by the mention elsewhere of nil asa possible alist element.i continue to believe that the proper metric of importance is the set of thingswhich people think important enough to bother mentioning. even if there seemto be a thousand things of similar kind in the language, the fact that thecomplainants do not mention the other 999 is an appropriate way of rank orderingthe one against the other 999.in this case, confusion over what can go in alists was already on my list ofproblems from macsyma days. it came up again on the common-lisp mailing list.and it came up again when i was looking at the standard this time around.i consider this reason enough for the issue to go to committee vote unlesssomeone can advance a sound technical argument as to why nils should be allowed.    I would imagine the intent was more along the lines of your #2; and that    putting NIL there seems simpler than putting some otherwise useless CONS.on the other hand, i have never seen this done in practice so it may have beenuseless optimization.    Besides, putting the NIL there also makes it clear where    the "dummy" entries are, allowing for a quick (remove nil alist).well, if your only purpose was to do a remove later, you could often justput :DELETED there and be sure to clean up the alist when you were done,or else just do the real splicing as you went.    So, I'm agin it.i'll add your no vote on the next revision.*start*04257 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 04 SEP 88 14:48:04 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 4 Sep 88  14:47:36 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 04 SEP 88 14:45:03 PDTDate: 4 Sep 88 14:44 PDTFrom: Masinter.paSubject: [Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>: Issue: ALIST-NIL (Version 1)]To: CL-Cleanup@SAIL.STANFORD.EDUline-fold: NOMessage-ID: <880904-144503-8857@Xerox>!Issue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by Pitman	          4-Sep-88, Version 2 by Masinter (reflect discussion)Problem Description:  NIL is permitted to be an element of an a-list but nothing useful  can be done with such an element. This is confusing to users. Proposal ALIST-NIL:DISALLOW:  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  No motivation in CLtL is given for NIL being allowed in an a-list.  The description of a-lists seem needlessly complicated by this feature.  FIND (with a :KEY of #'CAR) and ASSOC (with no key) are almost identical  except for their treatment of this issue. If no one makes significant  use of the feature, it would be better to be able to simplify the  relationship between these functions.Current Practice:  All valid implementations allow NIL.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which the author is able to guess this  feature might be used:  #1: A user might want a leading NIL on an a-list so that if the list  were empty, there'd still be a tail to which cells could be attached  in the future. That is,   (DEFVAR *MY-ALIST* (CONS NIL '()))  so that    ...(NCONC *MY-ALIST* (LIST new-cell))...  would always be possible as a side-effect and   ...(ASSOC element *MY-ALIST*)...  would always be possible for lookup. It might be argued that this is more  clearly written:   (DEFVAR *MY-TABLE* (CONS NIL '()))   (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))   (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))   ...(ADD-ENTRY new-cell *MY-TABLE*)...   ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving  the place that the element occupied in the list. In the very rare cases  where this was necessary, one could rewrite:   (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))  as:   (DEFUN VOID-FIRST-ENTRY (ALIST)     (LET ((ENTRY (CONS NIL NIL)))       (SETF (CAR ENTRY) ENTRY) ;Something unique       (SETF (CAR ALIST) ENTRY)))    This might change the behavior of ASSOC-IF, ASSOC-IF-NOT,   RASSOC-IF and RASSOC-IF-NOT depending on the predicate used.Cost of Non-Adoption:  There only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits: Simplified documentation. May allow ASSOC to be faster if it is no longer necessary to check explicitly for NIL.Aesthetics:  This change would simplify the language.Discussion:  Pitman submitted this proposal after looking at the write-up of  a-lists in the new standard. The description seems needlessly  cluttered by this unmotivated and he felt that either a motivation  for this feature should be cited and defended or the feature should  go away. The degree to which he believes in this feature will be  determined by any claims made by others in ensuing discussion. Putting a NIL in an alist as a way of removing the element might be simpler than putting some otherwise useless CONS, and allows for a quick (remove NIL alist).  Some people might consider this change gratuitous.*start*03872 00024 USfDate: 13 Sep 88 01:49From: Larry Masinter:PARC:xeroxSubject: Issue: ALIST-NIL  (Version 2)To: Masinter:PARC:xerox(previous version had wrong Subject line)Issue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by Pitman	          4-Sep-88, Version 2 by Masinter (reflect discussion)Problem Description:  NIL is permitted to be an element of an a-list but nothing useful  can be done with such an element. This is confusing to users. Proposal ALIST-NIL:DISALLOW:  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  No motivation in CLtL is given for NIL being allowed in an a-list.  The description of a-lists seem needlessly complicated by this feature.  FIND (with a :KEY of #'CAR) and ASSOC (with no key) are almost identical  except for their treatment of this issue. If no one makes significant  use of the feature, it would be better to be able to simplify the  relationship between these functions.Current Practice:  All valid implementations allow NIL.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which the author is able to guess this  feature might be used:  #1: A user might want a leading NIL on an a-list so that if the list  were empty, there'd still be a tail to which cells could be attached  in the future. That is,   (DEFVAR *MY-ALIST* (CONS NIL '()))  so that    ...(NCONC *MY-ALIST* (LIST new-cell))...  would always be possible as a side-effect and   ...(ASSOC element *MY-ALIST*)...  would always be possible for lookup. It might be argued that this is more  clearly written:   (DEFVAR *MY-TABLE* (CONS NIL '()))   (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))   (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))   ...(ADD-ENTRY new-cell *MY-TABLE*)...   ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving  the place that the element occupied in the list. In the very rare cases  where this was necessary, one could rewrite:   (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))  as:   (DEFUN VOID-FIRST-ENTRY (ALIST)     (LET ((ENTRY (CONS NIL NIL)))       (SETF (CAR ENTRY) ENTRY) ;Something unique       (SETF (CAR ALIST) ENTRY)))    This might change the behavior of ASSOC-IF, ASSOC-IF-NOT,   RASSOC-IF and RASSOC-IF-NOT depending on the predicate used.Cost of Non-Adoption:  There only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits: Simplified documentation. May allow ASSOC to be faster if it is no longer necessary to check explicitly for NIL.Aesthetics:  This change would simplify the language.Discussion:  Pitman submitted this proposal after looking at the write-up of  a-lists in the new standard. The description seems needlessly  cluttered by this unmotivated and he felt that either a motivation  for this feature should be cited and defended or the feature should  go away. The degree to which he believes in this feature will be  determined by any claims made by others in ensuing discussion. Putting a NIL in an alist as a way of removing the element might be simpler than putting some otherwise useless CONS, and allows for a quick (remove NIL alist).Some people might consider this change gratuitous.*start*01134 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 14 SEP 88 09:34:56 PDTReceived: from decwrl.dec.com by SAIL.Stanford.EDU with TCP; 14 Sep 88  09:33:58 PDTReceived: by decwrl.dec.com (5.54.5/4.7.34)	id AA09817; Wed, 14 Sep 88 09:32:15 PDTDate: Wed, 14 Sep 88 09:32:15 PDTMessage-Id: <8809141632.AA09817@decwrl.dec.com>From: vanroggen%aitg.DEC@decwrl.dec.comTo: Moon@stony-brook.scrc.symbolics.comSubject: RE: Issue: ALIST-NIL  Note,  however, that you don't have to check for NIL until after you  think you've found the matching CAAR (assuming you have a typical  implementation where CAR of NIL works with the same open-coded  instructions as CAR of a cons), so the slowdown is not proportional  to the length of the list.That's a clever optimization, but I thought it would be improper toFUNCALL the predicate on an apparent NIL that really isn't in theassociation list.  But it would work if we special cased the codeif we knew the predicate was innocous, like EQL or EQ.			---Walter*start*01967 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 14 SEP 88 09:26:04 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 14 Sep 88  09:24:22 PDTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 458961; Wed 14-Sep-88 12:22:48 EDTDate: Wed, 14 Sep 88 12:22 EDTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: ALIST-NILTo: vanroggen%aitg.DEC@decwrl.dec.comcc: cl-cleanup@sail.stanford.eduIn-Reply-To: <8809141502.AA05199@decwrl.dec.com>Message-ID: <19880914162223.9.MOON@EUPHRATES.SCRC.Symbolics.COM>    Date: Wed, 14 Sep 88 08:02:38 PDT    From: vanroggen%aitg.DEC@decwrl.dec.com    I've put out an open query of our internal users to see if anyone    actually uses this "feature".  I'd like to support the proposal    ALIST-NIL:DISALLOW.    Another reason for adopting this change is that the xASSOCx functions    would typically be faster in many implementations, since they wouldn't    have to explicitly check for atoms or NIL's.  Since association lists    are often heavily used, the proposal would also have a positive impact    on performance.To my surprise, we didn't have any trouble implementing this feature(ASSOC skips over NILs where it expects conses) in hardware in theIvory microprocessor.  It didn't even slow it down.This is not to say that I think a less tightly integrated Lispimplementation would not be slowed down by this feature.  Note,however, that you don't have to check for NIL until after youthink you've found the matching CAAR (assuming you have a typicalimplementation where CAR of NIL works with the same open-codedinstructions as CAR of a cons), so the slowdown is not proportionalto the length of the list.I'm neutral on the cleanup issue.*start*01012 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 14 SEP 88 08:06:28 PDTReceived: from decwrl.dec.com by SAIL.Stanford.EDU with TCP; 14 Sep 88  08:03:58 PDTReceived: by decwrl.dec.com (5.54.5/4.7.34)	id AA05199; Wed, 14 Sep 88 08:02:38 PDTDate: Wed, 14 Sep 88 08:02:38 PDTMessage-Id: <8809141502.AA05199@decwrl.dec.com>From: vanroggen%aitg.DEC@decwrl.dec.comTo: cl-cleanup@sail.stanford.eduSubject: Issue: ALIST-NILI've put out an open query of our internal users to see if anyoneactually uses this "feature".  I'd like to support the proposalALIST-NIL:DISALLOW.Another reason for adopting this change is that the xASSOCx functionswould typically be faster in many implementations, since they wouldn'thave to explicitly check for atoms or NIL's.  Since association listsare often heavily used, the proposal would also have a positive impacton performance.			---Walter*start*04010 00024 US Date: 21 Sep 88 01:35 PDTFrom: masinter.paSubject: Issue: ALIST-NIL  (Version 3)To: masinterReady for release? (Only reply if you have complaints, preferably with a new version....)I changed Kent's tentative description of 'remove or justify' in the discussion into more like an endorsement.Issue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by Pitman	          4-Sep-88, Version 2 by Masinter (reflect discussion)		21-Sep-88, Version 3 by Masinter (minor edits)Problem Description:  NIL is permitted to be an element of an a-list but nothing useful  can be done with such an element. This is confusing to users. Proposal ALIST-NIL:DISALLOW:  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  No motivation in CLtL is given for NIL being allowed in an a-list.  The description of a-lists seem needlessly complicated by this feature.  FIND (with a :KEY of #'CAR) and ASSOC (with no key) are almost identical  except for their treatment of this issue. If no one makes significant  use of the feature, it would be better to be able to simplify the  relationship between these functions.Current Practice:  All valid implementations allow NIL.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which the author is able to guess this  feature might be used:  #1: A user might want a leading NIL on an a-list so that if the list  were empty, there'd still be a tail to which cells could be attached  in the future. That is,   (DEFVAR *MY-ALIST* (CONS NIL '()))  so that    ...(NCONC *MY-ALIST* (LIST new-cell))...  would always be possible as a side-effect and   ...(ASSOC element *MY-ALIST*)...  would always be possible for lookup. It might be argued that this is more  clearly written:   (DEFVAR *MY-TABLE* (CONS NIL '()))   (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))   (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))   ...(ADD-ENTRY new-cell *MY-TABLE*)...   ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving  the place that the element occupied in the list. In the very rare cases  where this was necessary, one could rewrite:   (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))  as:   (DEFUN VOID-FIRST-ENTRY (ALIST)     (LET ((ENTRY (CONS NIL NIL)))       (SETF (CAR ENTRY) ENTRY) ;Something unique       (SETF (CAR ALIST) ENTRY)))    This might change the behavior of ASSOC-IF, ASSOC-IF-NOT,   RASSOC-IF and RASSOC-IF-NOT depending on the predicate used.Cost of Non-Adoption:  There only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits: Simplified documentation. May allow ASSOC to be faster if it is no  longer necessary to check explicitly for NIL.Aesthetics:  This change would simplify the language.Discussion:  The description of association lists is currently cluttered by this   unmotivated feature; no strong motivation or widespread use  of the feature has been found.  Putting a NIL in an alist as a way of removing the element might be simpler than putting some otherwise useless CONS, and allows for a quick (remove NIL  alist). Some people consider this change gratuitous. The cleanup committee discussed some interesting optimizations of ASSOC where this feature didn't cost in performance, at least in the special case where the predicate was EQ or EQL.*start*04394 00024 USmReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 21 SEP 88 01:35:36 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 21 Sep 88  01:35:04 PDTReceived: from Salvador.ms by ArpaGateway.ms ; 21 SEP 88 01:33:45 PDTDate: 21 Sep 88 01:33 PDTFrom: masinter.paSubject: Issue: ALIST-NIL  (Version 3)To: cl-cleanup@sail.stanford.eduMessage-ID: <880921-013345-5657@Xerox>Ready for release? (Only reply if you have complaints, preferably with a newversion....)I changed Kent's tentative description of 'remove or justify' in the discussioninto more like an endorsement.!Issue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by Pitman	          4-Sep-88, Version 2 by Masinter (reflect discussion)		21-Sep-88, Version 3 by Masinter (minor edits)Problem Description:  NIL is permitted to be an element of an a-list but nothing useful  can be done with such an element. This is confusing to users. Proposal ALIST-NIL:DISALLOW:  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  No motivation in CLtL is given for NIL being allowed in an a-list.  The description of a-lists seem needlessly complicated by this feature.  FIND (with a :KEY of #'CAR) and ASSOC (with no key) are almost identical  except for their treatment of this issue. If no one makes significant  use of the feature, it would be better to be able to simplify the  relationship between these functions.Current Practice:  All valid implementations allow NIL.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which the author is able to guess this  feature might be used:  #1: A user might want a leading NIL on an a-list so that if the list  were empty, there'd still be a tail to which cells could be attached  in the future. That is,   (DEFVAR *MY-ALIST* (CONS NIL '()))  so that    ...(NCONC *MY-ALIST* (LIST new-cell))...  would always be possible as a side-effect and   ...(ASSOC element *MY-ALIST*)...  would always be possible for lookup. It might be argued that this is more  clearly written:   (DEFVAR *MY-TABLE* (CONS NIL '()))   (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))   (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))   ...(ADD-ENTRY new-cell *MY-TABLE*)...   ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving  the place that the element occupied in the list. In the very rare cases  where this was necessary, one could rewrite:   (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))  as:   (DEFUN VOID-FIRST-ENTRY (ALIST)     (LET ((ENTRY (CONS NIL NIL)))       (SETF (CAR ENTRY) ENTRY) ;Something unique       (SETF (CAR ALIST) ENTRY)))    This might change the behavior of ASSOC-IF, ASSOC-IF-NOT,   RASSOC-IF and RASSOC-IF-NOT depending on the predicate used.Cost of Non-Adoption:  There only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits: Simplified documentation. May allow ASSOC to be faster if it is no  longer necessary to check explicitly for NIL.Aesthetics:  This change would simplify the language.Discussion:  The description of association lists is currently cluttered by this   unmotivated feature; no strong motivation or widespread use  of the feature has been found.  Putting a NIL in an alist as a way of removing the element might be simpler than putting some otherwise useless CONS, and allows for a quick (remove NIL  alist). Some people consider this change gratuitous. The cleanup committee discussed some interesting optimizations of ASSOC where this feature didn't cost in performance, at least in the special case where the predicate was EQ or EQL.*start*05604 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 01 OCT 88 17:13:11 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 1 Oct 88  17:09:11 PDTReceived: from GRYPHON.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 468927; Sat 1-Oct-88 20:08:00 EDTDate: Sat, 1 Oct 88 20:07 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: ALIST-NIL  (Version 3)To: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: <880921-013345-5657@Xerox>Message-ID: <881001200733.0.KMP@GRYPHON.SCRC.Symbolics.COM>The discussion following this proposal showed that NIL did have morepurpose in an a-list than my "problem description" had suggested, yetmy biased writeup had persisted through three revisions. In spite ofthe "good uses" people have suggested, I still support my proposal,but I felt enough guilty that I rewrote the proposal to try to atleast remove my original bias and present the issue fairly.-----Issue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by Pitman              04-Sep-88, Version 2 by Masinter (reflect discussion)              21-Sep-88, Version 3 by Masinter (minor edits)	      01-Oct-88, Version 4 by Pitman (remove some bias)Problem Description:  NIL is permitted to be an element of an a-list but very little of  use can be done with such an element, and the idea can be confusing.  In most situations where an a-list entry is to be removed, it is  done by straightfoward uses like     (SETQ THE-ALIST (REMOVE THE-ENTRY THE-ALIST))  or (SETQ THE-ALIST (DELETE THE-ENTRY THE-ALIST)).  Relatively few situations require the more advanced technique of     (SETF (CAR THE-ALIST-TAIL) NIL)  in order to remove an entry from a list. Usually these situations  involve multiple pointers into different parts of the same a-list,  or very long a-lists where DELETE or REMOVE would take a long time.Proposal ALIST-NIL:DISALLOW:  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  An a-list is a commonly used data structure that should be easy to  explain. Permitting NIL in an a-list complicates the description  considerably.  This change would make the relationship between FIND (with key of   #'CAR) and ASSOC simpler and easier to explain.Current Practice:  All valid implementations permit NIL in an a-list.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which we expect this feature is used  currently.  #1: A user wants a leading NIL on an a-list so that if the list      is empty, there's still be a tail to which cells could be      attached in the future. That is,       (DEFVAR *MY-ALIST* (CONS NIL '()))      so that        ...(NCONC *MY-ALIST* (LIST new-cell))...      would always be possible as a side-effect and       ...(ASSOC element *MY-ALIST*)...      would always be possible for lookup. It might be argued that      this is more clearly written:       (DEFVAR *MY-TABLE* (CONS NIL '()))       (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))       (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))       ...(ADD-ENTRY new-cell *MY-TABLE*)...       ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving      the place that the element occupied in the list. In the very rare cases      where this was necessary, one could rewrite:       (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))      as:       (DEFUN VOID-FIRST-ENTRY (ALIST)         (LET ((ENTRY (CONS NIL NIL)))           (SETF (CAR ENTRY) (GENSYM)) ;or ENTRY or something otherwise unique           (SETF (CAR ALIST) ENTRY)))      This might change the behavior of ASSOC-IF, ASSOC-IF-NOT, RASSOC-IF      and RASSOC-IF-NOT depending on the predicate used.      Also, in this case, the user must also consider that whatever is used      as the unique key must be acceptable to ASSOC.  In rare cases where neither of these rewrites were acceptable, the user could  still write his own variant of ASSOC to handle NIL even if the system version  did not.Cost of Non-Adoption:  The only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits:  FIND (with a :KEY of #'CAR) and ASSOC (with no key) would be identical.Aesthetics:  This change would simplify the language.Discussion:  The description of association lists is currently cluttered by this   unmotivated feature; no strong motivation or widespread use  of the feature has been found.   Some people consider this change gratuitous.  The cleanup committee discussed some interesting optimizations  of ASSOC where the existing situation (special-casing NIL) didn't  actually cost in performance (at least in the special case where  the predicate was EQ or EQL), so performance issues were dismissed  as a rationale for this change.*start*05002 00024 US Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 06 OCT 88 17:33:38 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 6 Oct 88  17:18:30 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 06 OCT 88 17:12:44 PDTDate: 6 Oct 88 17:12 PDTFrom: masinter.paSubject: Issue: ALIST-NIL  (Version 4)To: x3j13@SAIL.Stanford.EDUreply-to: cl-cleanup@sail.stanford.educc: masinter.paline-fold: NOMessage-ID: <881006-171244-1747@Xerox>!Issue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by Pitman              04-Sep-88, Version 2 by Masinter (reflect discussion)              21-Sep-88, Version 3 by Masinter (minor edits)	      01-Oct-88, Version 4 by Pitman (remove some bias)Problem Description:  NIL is permitted to be an element of an a-list but very little of  use can be done with such an element, and the idea can be confusing.  In most situations where an a-list entry is to be removed, it is  done by straightfoward uses like     (SETQ THE-ALIST (REMOVE THE-ENTRY THE-ALIST))  or (SETQ THE-ALIST (DELETE THE-ENTRY THE-ALIST)).  Relatively few situations require the more advanced technique of     (SETF (CAR THE-ALIST-TAIL) NIL)  in order to remove an entry from a list. Usually these situations  involve multiple pointers into different parts of the same a-list,  or very long a-lists where DELETE or REMOVE would take a long time.Proposal ALIST-NIL:DISALLOW:  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  An a-list is a commonly used data structure that should be easy to  explain. Permitting NIL in an a-list complicates the description  considerably.  This change would make the relationship between FIND (with key of   #'CAR) and ASSOC simpler and easier to explain.Current Practice:  All valid implementations permit NIL in an a-list.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which we expect this feature is used  currently.  #1: A user wants a leading NIL on an a-list so that if the list      is empty, there's still be a tail to which cells could be      attached in the future. That is,       (DEFVAR *MY-ALIST* (CONS NIL '()))      so that        ...(NCONC *MY-ALIST* (LIST new-cell))...      would always be possible as a side-effect and       ...(ASSOC element *MY-ALIST*)...      would always be possible for lookup. It might be argued that      this is more clearly written:       (DEFVAR *MY-TABLE* (CONS NIL '()))       (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))       (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))       ...(ADD-ENTRY new-cell *MY-TABLE*)...       ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving      the place that the element occupied in the list. In the very rare cases      where this was necessary, one could rewrite:       (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))      as:       (DEFUN VOID-FIRST-ENTRY (ALIST)         (LET ((ENTRY (CONS NIL NIL)))           (SETF (CAR ENTRY) (GENSYM)) ;or ENTRY or something otherwise unique           (SETF (CAR ALIST) ENTRY)))      This might change the behavior of ASSOC-IF, ASSOC-IF-NOT, RASSOC-IF      and RASSOC-IF-NOT depending on the predicate used.      Also, in this case, the user must also consider that whatever is used      as the unique key must be acceptable to ASSOC.  In rare cases where neither of these rewrites were acceptable, the user could  still write his own variant of ASSOC to handle NIL even if the system version  did not.Cost of Non-Adoption:  The only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits:  FIND (with a :KEY of #'CAR) and ASSOC (with no key) would be identical.Aesthetics:  This change would simplify the language.Discussion:  The description of association lists is currently cluttered by this   unmotivated feature; no strong motivation or widespread use  of the feature has been found.   Some people consider this change gratuitous.  The cleanup committee discussed some interesting optimizations  of ASSOC where the existing situation (special-casing NIL) didn't  actually cost in performance (at least in the special case where  the predicate was EQ or EQL), so performance issues were dismissed  as a rationale for this change.*start*04761 00024 US Date:  6 Oct 88 17:12 PDTFrom: masinter.paSubject: Issue: ALIST-NIL  (Version 4)To: x3j13@SAIL.Stanford.EDUreply-to: cl-cleanup@sail.stanford.educc: masinterline-fold: NOIssue:        ALIST-NILReferences:   Definition of "a-list" (p279), ASSOC (p280)Category:     CHANGEEdit history: 20-Jun-88, Version 1 by Pitman              04-Sep-88, Version 2 by Masinter (reflect discussion)              21-Sep-88, Version 3 by Masinter (minor edits)	      01-Oct-88, Version 4 by Pitman (remove some bias)Problem Description:  NIL is permitted to be an element of an a-list but very little of  use can be done with such an element, and the idea can be confusing.  In most situations where an a-list entry is to be removed, it is  done by straightfoward uses like     (SETQ THE-ALIST (REMOVE THE-ENTRY THE-ALIST))  or (SETQ THE-ALIST (DELETE THE-ENTRY THE-ALIST)).  Relatively few situations require the more advanced technique of     (SETF (CAR THE-ALIST-TAIL) NIL)  in order to remove an entry from a list. Usually these situations  involve multiple pointers into different parts of the same a-list,  or very long a-lists where DELETE or REMOVE would take a long time.Proposal ALIST-NIL:DISALLOW:  Change the definition of an a-list to require all elements to be  real conses. Uses of ASSOC with non-standard a-list would be an error.Test Case:  (ASSOC 'X '(NIL (X . 3)))  is currently defined to return (X . 3).  Under this proposal, this would be an error.Rationale:  An a-list is a commonly used data structure that should be easy to  explain. Permitting NIL in an a-list complicates the description  considerably.  This change would make the relationship between FIND (with key of   #'CAR) and ASSOC simpler and easier to explain.Current Practice:  All valid implementations permit NIL in an a-list.Cost to Implementors:  Since the proposal is to make this an "is an error" situation, no  implementation would be forced to change.Cost to Users:  There are two basic ways in which we expect this feature is used  currently.  #1: A user wants a leading NIL on an a-list so that if the list      is empty, there's still be a tail to which cells could be      attached in the future. That is,       (DEFVAR *MY-ALIST* (CONS NIL '()))      so that        ...(NCONC *MY-ALIST* (LIST new-cell))...      would always be possible as a side-effect and       ...(ASSOC element *MY-ALIST*)...      would always be possible for lookup. It might be argued that      this is more clearly written:       (DEFVAR *MY-TABLE* (CONS NIL '()))       (DEFUN ADD-ENTRY (ENTRY TABLE) (NCONC TABLE (LIST ENTRY)))       (DEFMACRO MY-TABLE-CONTENTS (X) `(CDR ,X))       ...(ADD-ENTRY new-cell *MY-TABLE*)...       ...(ASSOC element (MY-TABLE-CONTENTS *MY-TABLE*))...  #2: A user might want to splice out an element from an a-list, preserving      the place that the element occupied in the list. In the very rare cases      where this was necessary, one could rewrite:       (DEFUN VOID-FIRST-ENTRY (ALIST) (SETF (CAR ALIST) NIL))      as:       (DEFUN VOID-FIRST-ENTRY (ALIST)         (LET ((ENTRY (CONS NIL NIL)))           (SETF (CAR ENTRY) (GENSYM)) ;or ENTRY or something otherwise unique           (SETF (CAR ALIST) ENTRY)))      This might change the behavior of ASSOC-IF, ASSOC-IF-NOT, RASSOC-IF      and RASSOC-IF-NOT depending on the predicate used.      Also, in this case, the user must also consider that whatever is used      as the unique key must be acceptable to ASSOC.  In rare cases where neither of these rewrites were acceptable, the user could  still write his own variant of ASSOC to handle NIL even if the system version  did not.Cost of Non-Adoption:  The only consequence of non-adoption is the burden of carrying around  the additional complexity in each implementation, in the documentation,  and in teaching. The cost of this burden is likely to be a subjective  matter.Benefits:  FIND (with a :KEY of #'CAR) and ASSOC (with no key) would be identical.Aesthetics:  This change would simplify the language.Discussion:  The description of association lists is currently cluttered by this   unmotivated feature; no strong motivation or widespread use  of the feature has been found.   Some people consider this change gratuitous.  The cleanup committee discussed some interesting optimizations  of ASSOC where the existing situation (special-casing NIL) didn't  actually cost in performance (at least in the special case where  the predicate was EQ or EQL), so performance issues were dismissed  as a rationale for this change.       9 +(DEFAULTFONT 1 (GACHA 12) NIL (TERMINAL 8))           /      / zº*start*01188 00024 USaReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 12:37:23 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  12:37:44 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 475700; Thu 13-Oct-88 15:36:11 EDTDate: Thu, 13 Oct 88 15:35 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: ALIST-NIL (Version 4)To: CL-Cleanup@Sail.Stanford.EDUcc: JonL@Lucid.COM, Moon@STONY-BROOK.SCRC.Symbolics.COMMessage-ID: <881013153546.2.KMP@BOBOLINK.SCRC.Symbolics.COM>My notes from the Fairfax meeting...Cleanup meeting: KMP: Moon has weak opposition to this proposal, primarily on compatibility grounds. Otherwise, we felt this was ready to vote.X3J13 meeting: JonL: Worried that Lucid would have to change.       [KMP pointed out that this isn't true because it becomes an "is an error"       situation. JonL said that might be ok, but wanted to think more about it.] The issue was not voted upon.*start*00801 00024 USaReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 25 OCT 88 16:15:23 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 25 Oct 88  16:14:22 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 25 OCT 88 16:07:07 PDTDate: 25 Oct 88 16:07 PDTFrom: masinter.paSubject: Re: Issue: ALIST-NIL (Version 4)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Thu, 13 Oct 88 15:35 EDTTo: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>cc: CL-Cleanup@Sail.Stanford.EDU Message-ID: <881025-160707-12043@Xerox>I think the cleanup committee is, for the most part, mildly opposed to thischange, and the issue writeup should probably say that.*start*01284 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 26 OCT 88 16:42:09 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 26 Oct 88  16:23:11 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 26 OCT 88 16:21:59 PDTDate: 26 Oct 88 16:20 PDTFrom: masinter.paSubject: Re: Issue: ALIST-NIL (Version 4)In-reply-to: masinter.pa's message of 25 Oct 88 16:07 PDTTo: CL-Cleanup@Sail.Stanford.EDUMessage-ID: <881026-162159-14192@Xerox>Kent and I spoke on the phone. The motivation for this proposal is that theidea of NIL in an alist is confusing.One possibility we discussed was to document that an "alist" is in fact alist of pairs, but to document that the functions ASSOC, RASSOC, ASSOC-IF,ASSOC-IF-NOT RASSOC-IF and RASSOC-IF-NOT will accept not only an alist butany list whose elements are either pairs or NIL, and that NIL elements areignored. This means that the concept of "alist" is kept to the traditionalinterpretation, but that the behavior of some of the functions areextended.In general we should try very hard to find ways to "simplify the language"by changing its description, before we resort to changing its definition.*start*01114 00024 US Return-Path: <jonl@lucid.com>Received: from lucid.com ([192.26.25.1]) by Xerox.COM ; 03 NOV 88 12:36:17 PSTReceived: from bhopal ([192.9.200.13]) by LUCID.COM id AA01447g; Thu, 3 Nov 88 12:35:27 PSTReceived: by bhopal id AA20333g; Thu, 3 Nov 88 12:33:59 PSTDate: Thu, 3 Nov 88 12:33:59 PSTFrom: Jon L White <jonl@lucid.com>Message-Id: <8811032033.AA20333@bhopal>To: masinter.paCc: CL-Cleanup@Sail.Stanford.EDUIn-Reply-To: masinter.pa@Xerox.COM's message of 26 Oct 88 16:20 PDT <881026-162159-14192@Xerox>Subject: Issue: ALIST-NIL (Version 4)re: One possibility we discussed was to document that an "alist" is in fact a    list of pairs, but to document that the functions ASSOC, RASSOC, ASSOC-IF,    ASSOC-IF-NOT RASSOC-IF and RASSOC-IF-NOT will accept not only an alist but    any list whose elements are either pairs or NIL, and that NIL elements are    ignored. This means that the concept of "alist" is kept to the traditional    interpretation, but that the behavior of some of the functions are    extended.I rather like this "way out" of the problem.-- JonL --*start*01146 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 01 DEC 88 13:58:30 PSTReceived: from ECLA.USC.EDU by SAIL.Stanford.EDU with TCP; 1 Dec 88  13:50:00 PSTDate: Thu, 1 Dec 88 13:48:59 PSTFrom: Kim A. Barrett <IIM@ECLA.USC.EDU>Subject: Issue ALIST-NILTo: cl-cleanup@SAIL.STANFORD.EDUcc: iim@ECLA.USC.EDUMessage-ID: <12451029718.28.IIM@ECLA.USC.EDU>    As an actual "real-world" example of the second usage described under "Costto Users", my boss mentioned that he worked out an implementation of Baker'sShallow Binding scheme (1) that depended on permitting Nil to be an ignoredalist entry.  He admits that it could have been written using an alternativemechanism like that described in the proposal.  However, doing so might ugly,since it might be necessary to go to extra trouble to reuse that special cellrather than gratuitously consing up a new one all the time.kab(1) "Shallow Binding in Lisp 1.5", Henry G. Baker, Jr., Communications of theACM, July 1978, Volume 21, Number 7, page 565.-------*start*01021 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 02 DEC 88 19:25:45 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 2 Dec 88  19:20:17 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 02 DEC 88 16:38:52 PSTDate: 2 Dec 88 16:36 PSTFrom: masinter.paSubject: Re: Issue ALIST-NILIn-reply-to: Kim A. Barrett <IIM@ECLA.USC.EDU>'s message of Thu, 1 Dec 88 13:48:59 PSTTo: cl-cleanup@SAIL.STANFORD.EDU, Kim A. Barrett <IIM@ECLA.USC.EDU>Message-ID: <881202-163852-131@Xerox>My belief at this time is that there are no longer any proponents for theProposal in this outline; the "Problem" can be accomodated by an editorialchange in the writeup of the standard rather than an actual change in thelanguage.Unless I hear otherwise (and I'll leave this open for Kent, who is onvacation until December 10 and may not read this until much later), I willmark this as Withdrawn. *start*00913 00024 US Return-Path: <KMP@STONY-BROOK.SCRC.Symbolics.COM>Received: from STONY-BROOK.SCRC.Symbolics.COM ([128.81.41.144]) by Xerox.COM ; 13 DEC 88 22:06:50 PSTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 508251; Wed 14-Dec-88 01:07:03 ESTDate: Wed, 14 Dec 88 01:06 ESTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Re: Issue ALIST-NILTo: masinter.pacc: cl-cleanup@SAIL.STANFORD.EDU, IIM@ECLA.USC.EDUIn-Reply-To: <881202-163852-131@Xerox>Message-ID: <881214010647.0.KMP@BOBOLINK.SCRC.Symbolics.COM>    Date: 2 Dec 88 16:36 PST    From: masinter.pa@Xerox.COM    ... Unless I hear otherwise (and I'll leave this open for Kent, who is on    vacation until December 10 and may not read this until much later), I will    mark this as Withdrawn. Agreed: withdrawn in favor of the suggested editorial advice.