*start*02047 00024 USaReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 30 AUG 88 12:02:23 PDTReceived: from decwrl.dec.com by SAIL.Stanford.EDU with TCP; 30 Aug 88  12:00:10 PDTReceived: by decwrl.dec.com (5.54.5/4.7.34)	id AA16276; Tue, 30 Aug 88 11:59:00 PDTDate: Tue, 30 Aug 88 11:59:00 PDTMessage-Id: <8808301859.AA16276@decwrl.dec.com>From: chapman%aitg.DEC@decwrl.dec.comTo: cl-cleanup@sail.stanford.eduSubject: RETURN-VALUES-UNSPECIFIEDIssue:        RETURN-VALUES-UNSPECIFIEDReferences:   CLOSE (p 332), IN-PACKAGE (p 183), RENAME-PACKAGE (p 184),	      TRACE (p 440), UNTRACE (p 440), INSPECT (p 442), 	      SET-SYNTAX-FROM-CHAR (p 361),	      LOCALLY (p 156), PROVIDE (p 188), REQUIRE (P 188)Category:     CLARIFICATIONEdit history: 26-Aug-88, Version 1 by ChapmanProblem Description:The descriptions of CLOSE, IN-PACKAGE, RENAME-PACKAGE, TRACE, UNTRACE,INSPECT, SET-SYNTAX-FROM-CHAR, LOCALLY, PROVIDE, and REQUIRE are not clear about the values returned from those constructs.Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY)Clarify that the return values for the listed constructs are as follows:CLOSE -- the stream argument.IN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after the execution	of IN-PACKAGE.RENAME-PACKAGE -- the renamed package.TRACE (when called with arguments) -- implementation-dependent.UNTRACE -- implementation-dependent.INSPECT -- implementation-dependent.SET-SYNTAX-FROM-CHAR -- TLOCALLY -- the return values of the last form of its body, i.e. the body is	surrounded by an implicit PROGN.PROVIDE -- implementation-dependent.REQUIRE -- implementation-dependent.Rationale:This clarification allows users to know when they can and can notcount on the values returned fromthese constructs. Current Practice:Adoption Cost:Benefits:This clarification will assist users in writing portable code.Conversion Cost:Aesthetics:None.Discussion:*start*01165 00024 USaReturn-Path: <gls@Think.COM>Received: from Think.COM ([10.4.0.6]) by Xerox.COM ; 06 SEP 88 10:09:37 PDTReturn-Path: <gls@Think.COM>Received: from joplin.think.com ([192.31.181.10]) by Think.COM; Tue, 6 Sep 88 12:36:09 EDTReceived: by joplin.think.com; Tue, 6 Sep 88 12:31:23 EDTDate: Tue, 6 Sep 88 12:31:23 EDTFrom: gls@Think.COMMessage-Id: <8809061631.AA22700@joplin.think.com>To: Masinter.paCc: chapman%aitg.DEC@decwrl.dec.com, cl-cleanup@sail.stanford.eduIn-Reply-To: Masinter.pa@xerox.com's message of 2 Sep 88 16:20 PDT <880902-162146-7401@Xerox>Subject: RETURN-VALUES-UNSPECIFIED   Date: 2 Sep 88 16:20 PDT   From: Masinter.pa@xerox.com   I might quibble with a few of these:   INSPECT: it is marginally more useful to say that INSPECT returns the item   inspected. Some interactive inspectors might allow you to return a new value as   the value of INSPECT, e.g., (SETQ X (INSPECT X)). I disagree.  If one regards INSPECT as a tool in the interactiveinterface, it can be a real nuisance to inspect some huge data structureand then when you finish it insists on printing 300 lines of gobbledygookat you.--Guy*start*00276 00024 US Date:  6 Sep 88 17:41 PDTFrom: Masinter.paSubject: Re: RETURN-VALUES-UNSPECIFIEDIn-reply-to: gls@Think.COM's message of Tue, 6 Sep 88 12:31:23 EDTTo: gls@Think.COMcc: Masinter.pa, chapman%aitg.DEC@decwrl.dec.com, cl-cleanup@sail.stanford.eduOK*start*00636 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 06 SEP 88 17:53:26 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 6 Sep 88  17:53:09 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 06 SEP 88 17:42:07 PDTDate: 6 Sep 88 17:41 PDTFrom: Masinter.paSubject: Re: RETURN-VALUES-UNSPECIFIEDIn-reply-to: gls@Think.COM's message of Tue, 6 Sep 88 12:31:23 EDTTo: gls@Think.COMcc: Masinter.pa, chapman%aitg.DEC@decwrl.dec.com, cl-cleanup@sail.stanford.eduMessage-ID: <880906-174207-11565@Xerox>OK*start*00753 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceiv*start*02962 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 19 SEP 88 18:11:28 PDTReceived: from decwrl.dec.com by SAIL.Stanford.EDU with TCP; 19 Sep 88  18:10:52 PDTReceived: by decwrl.dec.com (5.54.5/4.7.34)	id AA05517; Mon, 19 Sep 88 18:09:30 PDTDate: Mon, 19 Sep 88 18:09:30 PDTMessage-Id: <8809200109.AA05517@decwrl.dec.com>From: chapman%aitg.DEC@decwrl.dec.comTo: cl-cleanup@sail.stanford.eduSubject: RETURN-VALUES-UNSPECIFIEDIssue:        RETURN-VALUES-UNSPECIFIEDReferences:   CLOSE (p 332), IN-PACKAGE (p 183), RENAME-PACKAGE (p 184),	      TRACE (p 440), UNTRACE (p 440), INSPECT (p 442), 	      SET-SYNTAX-FROM-CHAR (p 361),	      LOCALLY (p 156), PROVIDE (p 188), REQUIRE (P 188)Category:     CLARIFICATIONEdit history: 26-Aug-88, Version 1 by Chapman	      19-Sept-88, Version 2 by Chapman Problem Description: The descriptions of CLOSE, IN-PACKAGE, RENAME-PACKAGE, TRACE, UNTRACE,INSPECT, SET-SYNTAX-FROM-CHAR, LOCALLY, PROVIDE, and REQUIRE are not clear about the values returned from those constructs. Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY) Clarify that the return values for the listed constructs are as follows: CLOSE -- the stream argument.IN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after the execution	of IN-PACKAGE.RENAME-PACKAGE -- the renamed package.TRACE (when called with arguments) -- implementation-dependent.UNTRACE -- implementation-dependent.INSPECT -- implementation-dependent.SET-SYNTAX-FROM-CHAR -- TLOCALLY -- the return values of the last form of its body, i.e. the body is	surrounded by an implicit PROGN.PROVIDE -- implementation-dependent.REQUIRE -- implementation-dependent. Rationale: This clarification allows users to know when they can and can notcount on the values returned fromthese constructs.  Current Practice:  Adoption Cost:  Benefits: This clarification will assist users in writing portable code. Conversion Cost:  Aesthetics: None. Discussion:  Masinter believes that it is marginally more useful to say that INSPECT returns the iteminspected. Some interactive inspectors might allow you to return a new value asthe value of INSPECT, e.g., (SETQ X (INSPECT X)). GLS disagrees.  If one regards INSPECT as a tool in the interactiveinterface, it can be a real nuisance to inspect some huge data structureand then when you finish it insists on printing 300 lines of gobbledygookat you. PROVIDE and REQUIRE are not likely to appear except in the "top level" of files. Van Roggen thinks that leaving the values of the debugging and module constructs opento implementation specification is best for allowing experimentationand growth. ========================================================================Received: by decwrl.dec.com (5.54.5/4.7.34)	id AA03740; Mon, 19 Sep 88 07:13:32 PDT*start*02475 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 06 OCT 88 13:50:42 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 6 Oct 88  13:50:42 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 06 OCT 88 13:49:05 PDTDate: 6 Oct 88 13:49 PDTFrom: masinter.paTo: cl-cleanup@sail.stanford.eduSubject: Issue: RETURN-VALUES-UNSPECIFIED (Version 3)Message-ID: <881006-134905-1353@Xerox>I had agreed with GLS. So I changed the discussion. (Depersonalized it,too.)!Issue:        RETURN-VALUES-UNSPECIFIEDReferences:   CLOSE (p 332), IN-PACKAGE (p 183), RENAME-PACKAGE (p 184),	      TRACE (p 440), UNTRACE (p 440), INSPECT (p 442), 	      SET-SYNTAX-FROM-CHAR (p 361),	      LOCALLY (p 156), PROVIDE (p 188), REQUIRE (P 188)Category:     CLARIFICATIONEdit history: 26-Aug-88, Version 1 by Chapman	      19-Sept-88, Version 2 by Chapman		 6-Oct-88, Version 3 by Masinter Problem Description: The descriptions of CLOSE, IN-PACKAGE, RENAME-PACKAGE, TRACE, UNTRACE,INSPECT, SET-SYNTAX-FROM-CHAR, LOCALLY, PROVIDE, and REQUIRE are not clear about the values returned from those constructs. Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY) Clarify that the return values for the listed constructs are as follows: CLOSE -- the stream argument.IN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after theexecution	of IN-PACKAGE.RENAME-PACKAGE -- the renamed package.TRACE (when called with arguments) -- implementation-dependent.UNTRACE -- implementation-dependent.INSPECT -- implementation-dependent.SET-SYNTAX-FROM-CHAR -- TLOCALLY -- the return values of the last form of its body, i.e. the body is	surrounded by an implicit PROGN.PROVIDE -- implementation-dependent.REQUIRE -- implementation-dependent. Rationale: This clarification allows users to know when they can and can notcount on the values returned fromthese constructs.  Current Practice:  Adoption Cost:  Benefits: This clarification will assist users in writing portable code. Conversion Cost:  Aesthetics: None. Discussion: PROVIDE and REQUIRE are not likely to appear except in the "top level" offiles, and so their return value is possibly moot. There is also somesentiment for leaving unspecified the values of the debugging/environmentfeatures such as TRACE and UNTRACE, to allow for experimentation andgrowth.*start*02455 00024 USfDate:  7 Oct 88 21:16 PDTFrom: masinter.paSubject: Issue: RETURN-VALUES-UNSPECIFIED (Version 4)To: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.eduline-fold: NOcc: MasinterIssue:        RETURN-VALUES-UNSPECIFIEDReferences:   CLOSE (p 332), IN-PACKAGE (p 183), RENAME-PACKAGE (p 184),	      TRACE (p 440), UNTRACE (p 440), INSPECT (p 442), 	      SET-SYNTAX-FROM-CHAR (p 361),	      LOCALLY (p 156), PROVIDE (p 188), REQUIRE (P 188)Category:     CLARIFICATIONEdit history: 26-Aug-88, Version 1 by Chapman	      19-Sept-88, Version 2 by Chapman		 6-Oct-88, Version 3 by Masinter		 7-Oct-88, Version 4 by Masinter Problem Description: The descriptions of CLOSE, IN-PACKAGE, RENAME-PACKAGE, TRACE, UNTRACE,INSPECT, SET-SYNTAX-FROM-CHAR, LOCALLY, PROVIDE, and REQUIRE are not clear about the values returned from those constructs. Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY) Clarify that the return values for the listed constructs are as follows: CLOSE -- the stream argument.IN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after theexecution of IN-PACKAGE.RENAME-PACKAGE -- the renamed package.TRACE (when called with arguments) -- implementation-dependent.UNTRACE -- implementation-dependent.INSPECT -- implementation-dependent.SET-SYNTAX-FROM-CHAR -- TLOCALLY -- the return values of the last form of its body, i.e. the body is	surrounded by an implicit PROGN.PROVIDE -- implementation-dependent.REQUIRE -- implementation-dependent. Rationale: This clarification allows users to know when they can and can notcount on the values returned from these constructs.  Current Practice:Varies. For example, in Envos Medley, CLOSE returns T, andset-syntax-from-char returns the "syntax class" of the new character.  Cost to Implementors: Small.Benefits: This clarification will assist users in writing portable code. Cost to users: Small; it seems unlikely that there is much code that currentlydepends on the return values of these functions; such code isn'tportable.Aesthetics: Specified is better than not, when it makes sense. Discussion: PROVIDE and REQUIRE are not likely to appear except in the "top level" offiles, and so their return value is possibly moot. There is also somesentiment for leaving unspecified the values of the debugging/environmentfeatures such as TRACE and UNTRACE, to allow for experimentation andgrowth.*start*01779 00024 USaReturn-Path: <barmar@Think.COM>Received: from Think.COM ([10.4.0.6]) by Xerox.COM ; 08 OCT 88 11:48:04 PDTReturn-Path: <barmar@Think.COM>Received: from sauron.think.com by Think.COM; Sat, 8 Oct 88 14:47:13 EDTReceived: from OCCAM.THINK.COM by sauron.think.com; Sat, 8 Oct 88 14:46:39 EDTDate: Sat, 8 Oct 88 14:47 EDTFrom: Barry Margolin <barmar@Think.COM>Subject: Issue: RETURN-VALUES-UNSPECIFIED (Version 4)To: cl-cleanup@sail.stanford.eduCc: x3j13@sail.stanford.edu, Masinter.paIn-Reply-To: <881007-211606-1727@Xerox>Message-Id: <19881008184726.3.BARMAR@OCCAM.THINK.COM>    Date: 7 Oct 88 21:16 PDT    From: masinter.pa@xerox.com    Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY)     Clarify that the return values for the listed constructs are as follows:     CLOSE -- the stream argument.    IN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after the    execution of IN-PACKAGE.    RENAME-PACKAGE -- the renamed package.    SET-SYNTAX-FROM-CHAR -- T    LOCALLY -- the return values of the last form of its body, i.e. the body is	    surrounded by an implicit PROGN.     Cost to Implementors:     Small.    Benefits:     This clarification will assist users in writing portable code. Except for LOCALLY, I don't see the point of specifying the returnvalues of the above functions.  Yes, the cost to implementors is small,but why bother in the first place?  I think they should be madeexplicitly implementation defined, like the other functions that werelisted.If others do prefer to specify explicit return values, I agree with theparticular choices (although for SET-SYNTAX-FROM-CHAR I don't see why itshouldn't return one of the characters).                                                barmar*start*01659 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 18:11:52 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  18:05:07 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 476111; Thu 13-Oct-88 19:11:14 EDTDate: Thu, 13 Oct 88 19:11 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: RETURN-VALUES-UNSPECIFIED (Version 4)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881013191106.7.KMP@BOBOLINK.SCRC.Symbolics.COM>My notes from Fairfax meeting...Cleanup meeting: Thought ready for vote.X3J13 meeting: Barmar: Wants to leave some of these unspecified. KMP: That just causes portability problems. Don't want to leave it      unspecified -unless- someone can cite a reason to do so. JonL: People doing things like (AND (PRINT X) (PRINT Y)) need       return values specified. [KMP choked at this thought.] Haflich: If many weren't defined, maybe we should leave 'em, but	  since nearly all -are- defined, let's just go ahead and	  round out the set. Skona: Most text books she's seen show CLOSE returning NIL.	One text book shows it returning T.	Since some people like to think of T as success and NIL	as failure, maybe it should always return T.        [There was some ensuing discussion of whether it could	 ever return NIL since it signals an error in that case.] People seemed to think CLOSE should probably return T. No vote was attempted.*start*02649 00024 USfDate: 26 Nov 88 21:46 PSTFrom: masinter.paSubject: Issue: RETURN-VALUES-UNSPECIFIED (Version 5)To:  cl-cleanup@sail.stanford.eduline-fold: NOcc: Masintersaid CLOSE returns T, pointed out that REQUIRE and PROVIDEmight go away.Issue:        RETURN-VALUES-UNSPECIFIEDReferences:   CLOSE (p 332), IN-PACKAGE (p 183), RENAME-PACKAGE (p 184),	      TRACE (p 440), UNTRACE (p 440), INSPECT (p 442), 	      SET-SYNTAX-FROM-CHAR (p 361),	      LOCALLY (p 156), PROVIDE (p 188), REQUIRE (P 188)Related issues: REQUIRE-PATHNAME-DEFAULTSCategory:     CLARIFICATIONEdit history: 26-Aug-88, Version 1 by Chapman	      19-Sept-88, Version 2 by Chapman		 6-Oct-88, Version 3 by Masinter		 7-Oct-88, Version 4 by Masinter		26-Nov-88, Version 5 by Masinter Problem Description: The descriptions of CLOSE, IN-PACKAGE, RENAME-PACKAGE, TRACE, UNTRACE,INSPECT, SET-SYNTAX-FROM-CHAR, LOCALLY, PROVIDE, and REQUIRE are not clear about the values returned from those constructs. Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY) Clarify that the return values for the listed constructs are as follows: CLOSE -- TIN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after theexecution of IN-PACKAGE.RENAME-PACKAGE -- the renamed package.TRACE (when called with arguments) -- implementation-dependent.UNTRACE -- implementation-dependent.INSPECT -- implementation-dependent.SET-SYNTAX-FROM-CHAR -- TLOCALLY -- the return values of the last form of its body, i.e. the body is	surrounded by an implicit PROGN.PROVIDE -- implementation-dependent.REQUIRE -- implementation-dependent. Rationale: This clarification allows users to know when they can and can notcount on the values returned from these constructs.  Current Practice:Varies; the choices made here are consistent with many butnot all implementations.  Cost to Implementors: Small.Benefits: This clarification will assist users in writing portable code. Cost to users: Small; it seems unlikely that there is much code that currentlydepends on the return values of these functions; such code isn'tportable.Aesthetics: Specified is better than not, when it makes sense. Discussion: PROVIDE and REQUIRE are not likely to appear except in the "top level" offiles, and so their return value is possibly moot.  Another proposal wouldeliminate them from the language, and then their return value would definitelybe moot!There is some sentiment for leaving unspecified the values of thedebugging/environment features such as TRACE and UNTRACE,for the same reasons that so much else of their behavior is unspecified.*start*03840 00024 US Date:  9 Dec 88 00:38 PSTSender: masinter.paTo: x3j13@sail.stanford.eduSubject: Issue: RETURN-VALUES-UNSPECIFIED (Version 6)From: cl-cleanup@sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinterline-fold: noIssue:        RETURN-VALUES-UNSPECIFIEDReferences:   CLOSE (p 332), IN-PACKAGE (p 183), RENAME-PACKAGE (p 184),	      TRACE (p 440), UNTRACE (p 440), INSPECT (p 442), 	      SET-SYNTAX-FROM-CHAR (p 361),	      LOCALLY (p 156), PROVIDE (p 188), REQUIRE (P 188)Related issues: REQUIRE-PATHNAME-DEFAULTS                CLOSED-STREAM-OPERATIONSCategory:     CLARIFICATIONEdit history: 26-Aug-88, Version 1 by Chapman	      19-Sept-88, Version 2 by Chapman		 6-Oct-88, Version 3 by Masinter		 7-Oct-88, Version 4 by Masinter		26-Nov-88, Version 5 by Masinter 		 9-Dec-88, Version 6 by MasinterProblem Description: The descriptions of CLOSE, IN-PACKAGE, RENAME-PACKAGE, TRACE, UNTRACE,INSPECT, SET-SYNTAX-FROM-CHAR, LOCALLY, PROVIDE, and REQUIRE are not clear about the values returned from those constructs. Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY) Clarify that the return values for the listed constructs are as follows: CLOSE -- TIN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after theexecution of IN-PACKAGE.RENAME-PACKAGE -- the renamed package.TRACE (when called with arguments) -- implementation-dependent.UNTRACE -- implementation-dependent.INSPECT -- implementation-dependent.SET-SYNTAX-FROM-CHAR -- TLOCALLY -- the return values of the last form of its body, i.e. the body is	surrounded by an implicit PROGN.PROVIDE -- implementation-dependent.REQUIRE -- implementation-dependent. (NB: the issue CLOSED-STREAM-OPERATIONS proposes modifyingthe return value of CLOSE on closed streams. The issue REQUIRE-PATHNAME-DEFAULTS proposes removing REQUIRE and PROVIDE. Those proposals would take priority over this one.)Rationale: This clarification allows users to know when they can and can notcount on the values returned from these constructs.  Current Practice:Varies; the choices made here are consistent with many butnot all implementations.  Cost to Implementors: Small.Benefits: This clarification will assist users in writing portable code. Cost to users: Small; it seems unlikely that there is much code that currentlydepends on the return values of these functions; such code isn'tportable.Aesthetics: Specified is better than not, when it makes sense. Discussion: PROVIDE and REQUIRE are not likely to appear except in the "top level" offiles, and so their return value is possibly moot.  Another proposal wouldeliminate them from the language, and then their return value would definitelybe moot!There is some sentiment for leaving unspecified the values of thedebugging/environment features such as TRACE and UNTRACE,for the same reasons that so much else of their behavior is unspecified.Notes from Oct 88 X3J13:Except for LOCALLY, why bother?That just causes portability problems. Don't want to leave itunspecified -unless- someone can cite a reason to do so."If many weren't defined, maybe we should leave 'em, butsince nearly all -are- defined, let's just go ahead andround out the set."Most text books she's seen show CLOSE returning NIL.One text book shows it returning T.Since some people like to think of T as success and NILas failure, maybe it should always return T.(See Issue: CLOSED-STREAM-OPERATIONS.)        TITAN 
         TITAN 
           Z              
              x                     Ò              C                            ×              È       -      &              {              X              
       
       C              Ž              7             Ô      ’  zº*start*03822 00024 UU?Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 09 DEC 88 00:47:20 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 9 Dec 88  00:39:40 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 09 DEC 88 00:38:45 PSTDate: 9 Dec 88 00:38 PSTSender: masinter.paTo: x3j13@sail.stanford.eduSubject: Issue: RETURN-VALUES-UNSPECIFIED (Version 6)From: cl-cleanup@sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinter.paline-fold: noMessage-ID: <881209-003845-5561@Xerox>!Issue:        RETURN-VALUES-UNSPECIFIEDReferences:   CLOSE (p 332), IN-PACKAGE (p 183), RENAME-PACKAGE (p 184),	      TRACE (p 440), UNTRACE (p 440), INSPECT (p 442), 	      SET-SYNTAX-FROM-CHAR (p 361),	      LOCALLY (p 156), PROVIDE (p 188), REQUIRE (P 188)Related issues: REQUIRE-PATHNAME-DEFAULTS                CLOSED-STREAM-OPERATIONSCategory:     CLARIFICATIONEdit history: 26-Aug-88, Version 1 by Chapman	      19-Sept-88, Version 2 by Chapman		 6-Oct-88, Version 3 by Masinter		 7-Oct-88, Version 4 by Masinter		26-Nov-88, Version 5 by Masinter 		 9-Dec-88, Version 6 by MasinterProblem Description: The descriptions of CLOSE, IN-PACKAGE, RENAME-PACKAGE, TRACE, UNTRACE,INSPECT, SET-SYNTAX-FROM-CHAR, LOCALLY, PROVIDE, and REQUIRE are not clear about the values returned from those constructs. Proposal (RETURN-VALUES-UNSPECIFIED:SPECIFY) Clarify that the return values for the listed constructs are as follows: CLOSE -- TIN-PACKAGE -- the new package, i.e. the value of *PACKAGE* after theexecution of IN-PACKAGE.RENAME-PACKAGE -- the renamed package.TRACE (when called with arguments) -- implementation-dependent.UNTRACE -- implementation-dependent.INSPECT -- implementation-dependent.SET-SYNTAX-FROM-CHAR -- TLOCALLY -- the return values of the last form of its body, i.e. the body is	surrounded by an implicit PROGN.PROVIDE -- implementation-dependent.REQUIRE -- implementation-dependent. (NB: the issue CLOSED-STREAM-OPERATIONS proposes modifyingthe return value of CLOSE on closed streams. The issue REQUIRE-PATHNAME-DEFAULTS proposes removing REQUIRE and PROVIDE. Those proposals would take priority over this one.)Rationale: This clarification allows users to know when they can and can notcount on the values returned from these constructs.  Current Practice:Varies; the choices made here are consistent with many butnot all implementations.  Cost to Implementors: Small.Benefits: This clarification will assist users in writing portable code. Cost to users: Small; it seems unlikely that there is much code that currentlydepends on the return values of these functions; such code isn'tportable.Aesthetics: Specified is better than not, when it makes sense. Discussion: PROVIDE and REQUIRE are not likely to appear except in the "top level" offiles, and so their return value is possibly moot.  Another proposal wouldeliminate them from the language, and then their return value would definitelybe moot!There is some sentiment for leaving unspecified the values of thedebugging/environment features such as TRACE and UNTRACE,for the same reasons that so much else of their behavior is unspecified.Notes from Oct 88 X3J13:Except for LOCALLY, why bother?That just causes portability problems. Don't want to leave itunspecified -unless- someone can cite a reason to do so."If many weren't defined, maybe we should leave 'em, butsince nearly all -are- defined, let's just go ahead andround out the set."Most text books she's seen show CLOSE returning NIL.One text book shows it returning T.Since some people like to think of T as success and NILas failure, maybe it should always return T.(See Issue: CLOSED-STREAM-OPERATIONS.)*start*00950 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 02 SEP 88 16:38:47 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 2 Sep 88  16:36:55 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 02 SEP 88 16:21:46 PDTDate: 2 Sep 88 16:20 PDTFrom: Masinter.paSubject: Re: RETURN-VALUES-UNSPECIFIEDIn-reply-to: chapman%aitg.DEC@decwrl.dec.com's message of Tue, 30 Aug 88 11:59:00 PDTTo: chapman%aitg.DEC@decwrl.dec.comcc: cl-cleanup@sail.stanford.eduMessage-ID: <880902-162146-7401@Xerox>I might quibble with a few of these:INSPECT: it is marginally more useful to say that INSPECT returns the iteminspected. Some interactive inspectors might allow you to return a new value asthe value of INSPECT, e.g., (SETQ X (INSPECT X)). PROVIDE and REQUIRE are not likely to appear except in the "top level" of files.