*start*04492 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 22 JUN 88 15:10:32 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 22 Jun 88  15:08:15 PDTReceived: from RIO-DE-JANEIRO.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 423409; Wed 22-Jun-88 18:08:02 EDTDate: Wed, 22 Jun 88 18:07 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: LAMBDA-FORM (Version 1)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <880622180746.5.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>Issue:        LAMBDA-FORMReferences:   LAMBDA (p59)Category:     ADDITIONEdit history: 22-Jun-88, Version 1 by PitmanStatus:	      For Internal DiscussionProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  Rationale:   This is an upward-compatible extension which ``codifies current   practice'' in that it makes a commonly defined macro available   as a standard part of the language.Proposal (LAMBDA-FORM:NEW-SPECIAL-FORM):   Add a new special form LAMBDA, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  except that the macro expansion might not be available in all  implementations.  Rationale:   This is a slightly incompatible extension which ``codifies current   practice'' in that it makes a commonly defined feature available   as a standard part of the language. The idea of making it a special   form would be that some people would prefer to treat (LAMBDA ...)   as more primitive than #'(LAMBDA ...).Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      ; The following result is required under NEW-MACRO      ;  and is possible under NEW-SPECIAL-FORM      => (FUNCTION (LAMBDA (X) (+ X Y)))      ; The following result is prohibited under NEW-MACRO      ;  and is permitted but not required under NEW-SPECIAL-FORM.      => (LAMBDA (X) (+ X Y))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. (Actually,  CLtL technically does allow it, but arguably only by technicality.)Cost to Implementors:  NEW-MACRO is trivial to add.  NEW-SPECIAL form might require more work in some implementations, but   probably not a lot more.Cost to Users:  None. This change is basically upward compatible.Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  Improved aesthetics.  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  Some people believe strongly that (LAMBDA ...) looks a lot better  than #'(LAMBDA ...). Certainly it takes up fewer characters, and  (LAMBDA ...) is a notable offender in code needing to be split onto  multiple lines, so every little bit helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.*start*01874 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 28 JUN 88 14:15:09 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 28 Jun 88  14:13:36 PDTReceived: from RIO-DE-JANEIRO.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 426076; Tue 28-Jun-88 17:11:54 EDTDate: Tue, 28 Jun 88 17:11 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: LAMBDA-FORM (Version 1)To: vanroggen%aitg.decnet@Hudson.DEC.COMcc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: The message of 28 Jun 88 12:47 EDT from "AITG::VANROGGEN" <vanroggen%aitg.decnet@hudson.dec.com>Message-ID: <880628171141.8.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>    Date: 28 Jun 88 12:47:00 EDT    From: "AITG::VANROGGEN" <vanroggen%aitg.decnet@hudson.dec.com>    Could you specify the "technicality" referred to in the CURRENT PRACTICE    section (or leave out the argument)?    ...CLtL specifies that "all" of the functions, macros, variables, etc. itdescribes must be in the LISP package, but it doesn't say "all andonly". There's technically nothing keeping any implementation fromdefining any of the variables as a function or macro, or any of thefunctions as a variable.  Indeed, it doesn't say that other things can'toccur in the package besides those things described.On my list of things to submit is a cleanup item clarifying this point.I'll expand it in the next draft if it seems possible to do so concisely,or perhaps move the remark to the discussion.I just wanted to indicate somewhere that implementations like SymbolicsGenera which offer a LAMBDA macro are technically in conformance withCLtL. I could do that in the discussion section, for example.*start*01021 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 01 SEP 88 11:23:56 PDTReceived: from JASPER.SCRC.Symbolics.COM ([128.81.41.58]) by SAIL.Stanford.EDU with TCP; 1 Sep 88  11:23:11 PDTReceived: from GRYPHON.SCRC.Symbolics.COM by JASPER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 213940; Thu 1-Sep-88 14:22:13 EDTDate: Thu, 1 Sep 88 14:21 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: lambda-cleanupTo: beckerle@XX.LCS.MIT.EDUcc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: <12426886201.53.BECKERLE@XX.LCS.MIT.EDU>References: <880622180746.5.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>Message-ID: <880901142148.0.KMP@GRYPHON.SCRC.Symbolics.COM>A proposal called LAMBDA-FORM is already on the table to addressthe issue you raise. I'll forward you a copy. If you find thereare issues which your proposal raises which were not in mine, maybe we can do some merging...*start*00824 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 02 SEP 88 18:47:10 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 2 Sep 88  18:44:48 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 02 SEP 88 17:34:13 PDTDate: 2 Sep 88 17:34 PDTFrom: Masinter.paSubject: Ooops! Issue: LAMBDA-CAR-OF-FORM In-reply-to: Michael J. Beckerle <BECKERLE@XX.LCS.MIT.EDU>'s message of Wed, 31 Aug 88 15:24:41 EDTTo: Michael J. Beckerle <BECKERLE@XX.LCS.MIT.EDU>cc: cl-cleanup@sail.stanford.eduMessage-ID: <880902-173413-7637@Xerox>Sorry, I also didn't notice the message from Kent about LAMBDA-FORM. I shouldhave the issues sorted out over the weekend to start summarizing status earlynext week.*start*01214 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 02 SEP 88 18:47:18 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 2 Sep 88  18:44:42 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 02 SEP 88 17:24:33 PDTDate: 2 Sep 88 17:24 PDTFrom: Masinter.paSubject: Issue: LAMBDA-CAR-OF-FORM (was LAMBDA-IS-OPERATOR)In-reply-to: Michael J. Beckerle <BECKERLE@XX.LCS.MIT.EDU>'s message of Wed, 31 Aug 88 15:24:41 EDTTo: Michael J. Beckerle <BECKERLE@XX.LCS.MIT.EDU>cc: cl-cleanup@sail.stanford.eduMessage-ID: <880902-172433-7582@Xerox>I'll take the perogative of renaming the issue. I've always had a hard time with the "problem" in this one -- the problem isthat you have to say #'(LAMBDA ...) instead of (LAMBDA ...).  However, theproposal increases the number of special forms, since it doesn't eliminate theneed for FUNCTION.  Does it make the language better to have more special forms?Frankly, your argument about Higher-order vs Meta-programming doesn't do muchfor me; its an interesting way of looking at the problem, but is it reallyrelevant to this issue?*start*04140 00024 USaReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 31 AUG 88 21:12:26 PDTReceived: from XX.LCS.MIT.EDU by SAIL.Stanford.EDU with TCP; 31 Aug 88  21:12:21 PDTDate: Wed, 31 Aug 88 15:24:41 EDTFrom: Michael J. Beckerle <BECKERLE@XX.LCS.MIT.EDU>Subject: lambda-cleanupTo: cl-cleanup@sail.stanford.educc: beckerle@XX.LCS.MIT.EDUMessage-ID: <12426886201.53.BECKERLE@XX.LCS.MIT.EDU>Issue:		LAMBDA-IS-OPERATORReferences:     X3J13/86-010, x3j13/86-019 pg 4.Category: 	Compatible ChangeEdit History:   v0 28june88  mike beckerleProblem Description:The symbol LAMBDA in common lisp has odd status.  It is not anoperator of any kind, but is recognized by other forms, likeFUNCTION, as a syntactic construct indicating that an expressionrepresents a function.One must write (FUNCTION (LAMBDA ...)) or #'(LAMBDA ...)to indicate an anonymous function in common lisp, where simply (LAMBDA ...) would be just as clear.The proposal FUNCTION-TYPE passed in June 88 by x3j13 takessignificant steps to help clarify the difference between functions,and lists which "look" like functions. LAMBDA-NON-OPERATOR goesfurther in this direction.Proposal: LAMBDA-IS-SPECIAL-FORMLAMBDA should be a special form which denotes a function.In the light of the FUNCTION-TYPE proposal, this means thatlambda-expressions would denote objects of type FUNCTION, and thatquoted lambda expressions would denote objects of type LIST. Proposal: LAMBDA-IS-MACRODefine lambda as a standard macro as follows:(defmacro lambda (&rest body)  `(function (lambda ,@body)))Discussion: One of the most confusing aspects of lisp for naive users is theconfusion in lisp between "meta" programming, and "higher-order"programming. By meta programs I intend programs which manipulate thelists which are the syntax of other programs; for example, macros areusually "meta" programs.  Higher-order programs, on the other hand,are programs which accept functions as arguments and return functionsas results. Since meta-programming and higher-order programming are reallyorthogonal techniques, it is better to avoid confusing the two.Particularly since both are difficult programming techniques.The key characteristic of meta-programming in lisp is use of QUOTE,quoted expressions, list manipulation, and either explicit orimplicit use of the lisp interpreter, EVAL, (or the compiler).Higher-order programming does not involve the distinction betweenprograms and lists that look like programs, hence, whether EVAL iscalled or not is irrelevant.  Higher-order programming is currentlyconfused with meta-programming by many lisp programmers. This cleanuptaken with the FUNCTION-TYPE cleanup would make the distinction muchclearer; hence, make learning and understanding common-lisp programseasier.If LAMBDA-IS-SPECIAL-FORM was adopted, then one can explain theFUNCTION special-form primarily as a way of distinguishing betweenthe function and value definitions of a variable. It also allows(FUNCTION (LAMBDA ...)) to be equivalent to (LAMBDA ...) for backwardcompatibility. For LAMBDA-IS-MACRO, explaining LAMBDA in terms of(FUNCTION (LAMBDA ...)) seems conceptually less simple.  Note thataccepting LAMBDA-IS-SPECIAL-FORM still allows all implementations todefine it using the macro definition if they wish.Note that this change is orthogonal to any changes made to thelanguage to support '(lambda (...) ...) as an argument to funcall,apply, etc. This was the subject of much debate when theFUNCTION-TYPE proposal was considered at the June 88 x3j13 meeting.Hence, if FUNCTION-TYPE is ammended to allow some common lispoperations to accept lists and coerce them to functions, the LAMBDA-IS-OPERATOR proposal would be unaffected.Implementation Impact:LAMBDA-SPECIAL-FORM would require very minor changes to any programswhich have code-walkers.Some implementations do not allow LAMBDA to be defined as a macro.These implementations are already not in conformance with CLtL.-------*start*00843 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 07 SEP 88 18:53:39 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 7 Sep 88  18:53:13 PDTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 455948; Wed 7-Sep-88 21:52:15 EDTDate: Wed, 7 Sep 88 21:51 EDTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: LAMBDA-FORM (Version 1)To: CL-Cleanup@SAIL.STANFORD.EDUIn-Reply-To: <880622180746.5.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>Message-ID: <19880908015159.3.MOON@EUPHRATES.SCRC.Symbolics.COM>I favor LAMBDA-FORM:NEW-MACRO.  Note the message I am replyingto was mailed June 22.*start*00743 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 12 SEP 88 13:37:27 PDTReceived: from decwrl.dec.com by SAIL.Stanford.EDU with TCP; 12 Sep 88  13:37:05 PDTReceived: by decwrl.dec.com (5.54.5/4.7.34)	id AA12854; Mon, 12 Sep 88 13:35:48 PDTMessage-Id: <8809122035.AA12854@decwrl.dec.com>From: vanroggen%aitg.DEC@decwrl.dec.comDate: 12 Sep 88 16:31To: cl-cleanup@sail.stanford.eduSubject: Issue: LAMBDA-FORMIdeally I'd prefer LAMBDA as a special form and changing some "redundant"special forms to be macros.But in the interest of minimizing not-too-consequential changes, I'llsupport LAMBDA-FORM:NEW-MACRO.*start*01083 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 16 SEP 88 02:41:30 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 16 Sep 88  02:41:26 PDTReceived: from Cabernet.ms by ArpaGateway.ms ; 16 SEP 88 02:40:06 PDTDate: 16 Sep 88 02:40 PDTFrom: masinter.paSubject: Re: Issue: LAMBDA-FORM (Version 1)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Wed, 22 Jun 88 18:07 EDTTo: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>cc: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <880916-024006-3889@Xerox>I think this issue needs only minor patches. I think that the improvement ofaesthetics has a counterbalance, in that it makes the language slightly larger;however, it is a minor increment.(The phrase "gilding the lilly" comes to mind,but at this hour I'm no longer sure what it means.)I guess we should come out with NEW-MACRO and mention in the discussion that weconsidered NEW-SPECIAL-FORM.Other opinions?*start*04637 00024 USaReturn-Path: <KMP@STONY-BROOK.SCRC.Symbolics.COM>Received: from STONY-BROOK.SCRC.Symbolics.COM ([128.81.41.144]) by Xerox.COM ; 16 SEP 88 07:53:42 PDTReceived: from GRYPHON.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 460367; Fri 16-Sep-88 10:53:31 EDTDate: Fri, 16 Sep 88 10:53 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Re: Issue: LAMBDA-FORM (Version 2)To: masinter.pacc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: <880916-024006-3889@Xerox>Message-ID: <880916105334.3.KMP@GRYPHON.SCRC.Symbolics.COM>    Date: 16 Sep 88 02:40 PDT    From: masinter.pa@Xerox.COM    I think this issue needs only minor patches...    I guess we should come out with NEW-MACRO and mention in the discussion that we    considered NEW-SPECIAL-FORM.    Other opinions?I concur.Here's a proposed rewrite. I took care of Walter's concern about the"technicality" alluded to at one point in the current practice by movingit to the discussion and expanding it.-----Issue:        LAMBDA-FORMReferences:   LAMBDA (p59)Category:     ADDITIONEdit history: 22-Jun-88, Version 1 by Pitman	      16-Sep-88, Version 2 by PitmanStatus:	      For Internal DiscussionProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))Rationale: This is an upward-compatible extension which ``codifies current practice'' in that it makes a commonly defined macro available as a standard part of the language.Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      => (FUNCTION (LAMBDA (X) (+ X Y)))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. [Ironically,  the redefinition warnings always came when they tried to define LAMBDA  in the way it was already defined!]Cost to Implementors:  The cost is trivial. A portable definition is shown in the  problem description above.Cost to Users:  None. This change is basically upward compatible.Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  Improved aesthetics.  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  Some people believe strongly that (LAMBDA ...) looks a lot better  than #'(LAMBDA ...). Certainly it takes up fewer characters, and  (LAMBDA ...) is a notable offender in code needing to be split onto  multiple lines, so every little bit helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.  Technically, CLtL does already permit implementations to predefine a  LAMBDA macro, but most argue that this leeway was accidental. CLtL  says that "all" functions,etc in CLtL must be in the LISP package,  but it does not say "all and only". This oversight leaves enough room  for implementors to add all manner of extra junk in the LISP package.  A separate cleanup item addresses this issue.  An earlier revision of this proposal considered the alternative of  making this a new special form, but most people seemed to prefer the  simpler alternative of just making it a macro for now.*start*00773 00024 US Date: 16 Sep 88 15:37 PDTFrom: masinter.paSubject: Re: Issue: LAMBDA-FORM (Version 2)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Fri, 16 Sep 88 10:53 EDTTo: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>cc: masinter.pa, CL-Cleanup@SAIL.Stanford.EDUIn re-reading, I realize that there is a small counter to the Aesthetic argument that says that since it makes the language slightly bigger, with two ways of doing the same thing: you can now say (lambda (x) ...) or #'(lambda (x) ...), and thus makes the language more confusing, harder to explain, read, etc.I think we do well when we at least acknowledge the pros and cons in issues, and this one isn't as clearcut as the writeup makes it out to be.*start*02533 00024 US Return-Path: <@STONY-BROOK.SCRC.Symbolics.COM,@GRYPHON.SCRC.Symbolics.COM:KMP@STONY-BROOK.SCRC.Symbolics.COM>Received: from STONY-BROOK.SCRC.Symbolics.COM ([128.81.41.144]) by Xerox.COM ; 16 SEP 88 16:01:38 PDTReceived: from GRYPHON.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 460705; 16 Sep 88 19:01:32 EDTDate: Fri, 16 Sep 88 19:01 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Re: Issue: LAMBDA-FORM (Version 2)To: masinter.pacc: KMP@STONY-BROOK.SCRC.Symbolics.COM, CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: <880916-153700-1591@Xerox>Message-ID: <880916190136.3.KMP@GRYPHON.SCRC.Symbolics.COM>    Date: 16 Sep 88 15:37 PDT    From: masinter.pa@Xerox.COM    ... I think we do well when we at least acknowledge the pros    and cons in issues,Sure.    and this one isn't as clearcut as the writeup makes it out to be.I think simply mentioning your concern under aesthetics is enough.People can then read it and decide if it bugs them.There are several ways of rationalizing the dual existence of (lambda ...) and #'(lambda ...).One says that you'd have flushed #'(lambda ...) if only you could havebut you couldn't for compatibility reasons. I personally think thesituation is more complicated than this, but I have no doubt that somepeople hold this position. In any case, there's no argument with thefact that if people convert from #'(lambda ...) to (lambda ...), it'llbe easier to tell whether there are places that such a changeover cannot be done and why. [Some of the reasons may be philosophical, nottechnical.]Another argument says that (LAMBDA ...) creates a closure, while(FUNCTION ...) accesses a function by name -- and that (LAMBDA ...)is the name of the closure which is created by (LAMBDA ...). So whilethey do functionally the same thing, they could be argued to be intentionally different (like NOT and NULL -- surely there must havebeen dispute over that, but it definitely turned out to be a gooddistinction to make). I'm a fan of this argument.Yet another argument says that since #'(LAMBDA ...) is used so muchand is so cumbersome to type, ``two fewer spaces of indentation'' isa stronger argument than ``one more function.'' If everyone had a LAMBDA (Greek-L) key on their keyboard, you can bet I'd advocate allowing ( ...) as a synonym as well, just on syntactic grounds.[Well, it looked like a LAMBDA on -my- screen! But I suppose itlooks like BS to the rest of you, huh? :-]*start*01135 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 16 SEP 88 17:53:02 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 16 Sep 88  17:51:51 PDTReceived: from Salvador.ms by ArpaGateway.ms ; 16 SEP 88 15:37:00 PDTDate: 16 Sep 88 15:37 PDTFrom: masinter.paSubject: Re: Issue: LAMBDA-FORM (Version 2)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Fri, 16 Sep 88 10:53 EDTTo: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>cc: masinter.pa, CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <880916-153700-1591@Xerox>In re-reading, I realize that there is a small counter to the Aesthetic argumentthat says that since it makes the language slightly bigger, with two ways ofdoing the same thing: you can now say (lambda (x) ...) or #'(lambda (x) ...),and thus makes the language more confusing, harder to explain, read, etc.I think we do well when we at least acknowledge the pros and cons in issues, andthis one isn't as clearcut as the writeup makes it out to be.*start*01624 00024 US Return-Path: <jeff%aiai.edinburgh.ac.uk@NSS.Cs.Ucl.AC.UK>Received: from NSS.Cs.Ucl.AC.UK ([128.41.9.3]) by Xerox.COM ; 17 SEP 88 10:46:18 PDTReceived: from aiai.edinburgh.ac.uk by NSS.Cs.Ucl.AC.UK   via Janet with NIFTP           id aa03846; 17 Sep 88 16:20 BSTDate: Sat, 17 Sep 88 16:54:47 BSTMessage-Id: <2325.8809171554@subnode.aiai.ed.ac.uk>From: Jeff Dalton <jeff%aiai.edinburgh.ac.uk@NSS.Cs.Ucl.AC.UK>Subject: Re: Issue: LAMBDA-FORM (Version 2)To: Kent M Pitman <KMP@scrc-stony-brook.arpa>, masinter.paIn-Reply-To: Kent M Pitman's message of Fri, 16 Sep 88 19:01 EDTCc: CL-Cleanup@sail.stanford.eduBTW, I would prefer that LAMBDA be a special form rather than a macroso that (LAMBDA ...) rather than (FUNCTION (LAMBDA ...)) could beconsidered the more fundamental form.> There are several ways of rationalizing the dual existence of > (lambda ...) and #'(lambda ...).> > One says that you'd have flushed #'(lambda ...) if only you could have> but you couldn't for compatibility reasons. I personally think the> situation is more complicated than this,I do too.  For one thing, I may be convenient to speak of a singlecase, FUNCTION, rather than two, LAMBDA-expressions and (FUNCTION <symbol>).> Another argument says that (LAMBDA ...) creates a closure, while> (FUNCTION ...) accesses a function by name -- and that (LAMBDA ...)> is the name of the closure which is created by (LAMBDA ...). > [...]  I'm a fan of this argument.I guess I am too, given the overlong discussion of whether FUNCTIONshould simply access a value or create one on the general CL list.*start*01741 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 17 SEP 88 09:07:45 PDTReceived: from NSS.Cs.Ucl.AC.UK by SAIL.Stanford.EDU with TCP; 17 Sep 88  09:04:26 PDTReceived: from aiai.edinburgh.ac.uk by NSS.Cs.Ucl.AC.UK   via Janet with NIFTP           id aa03846; 17 Sep 88 16:20 BSTDate: Sat, 17 Sep 88 16:54:47 BSTMessage-Id: <2325.8809171554@subnode.aiai.ed.ac.uk>From: Jeff Dalton <jeff%aiai.edinburgh.ac.uk@NSS.Cs.Ucl.AC.UK>Subject: Re: Issue: LAMBDA-FORM (Version 2)To: Kent M Pitman <KMP@scrc-stony-brook.arpa>, masinter.paIn-Reply-To: Kent M Pitman's message of Fri, 16 Sep 88 19:01 EDTCc: CL-Cleanup@sail.stanford.eduBTW, I would prefer that LAMBDA be a special form rather than a macroso that (LAMBDA ...) rather than (FUNCTION (LAMBDA ...)) could beconsidered the more fundamental form.> There are several ways of rationalizing the dual existence of > (lambda ...) and #'(lambda ...).> > One says that you'd have flushed #'(lambda ...) if only you could have> but you couldn't for compatibility reasons. I personally think the> situation is more complicated than this,I do too.  For one thing, I may be convenient to speak of a singlecase, FUNCTION, rather than two, LAMBDA-expressions and (FUNCTION <symbol>).> Another argument says that (LAMBDA ...) creates a closure, while> (FUNCTION ...) accesses a function by name -- and that (LAMBDA ...)> is the name of the closure which is created by (LAMBDA ...). > [...]  I'm a fan of this argument.I guess I am too, given the overlong discussion of whether FUNCTIONshould simply access a value or create one on the general CL list.*start*05192 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 02 OCT 88 16:20:18 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 2 Oct 88  16:20:16 PDTReceived: from GRYPHON.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 469145; Sun 2-Oct-88 19:19:06 EDTDate: Sun, 2 Oct 88 19:18 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: LAMBDA-FORM (Version 3)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881002191827.0.KMP@GRYPHON.SCRC.Symbolics.COM>Ok, I just modified the benefits, aesthetics, and discussion toreflect Masinter's concerns that this would make for two ways todo the same thing. Hopefully this just makes the writeup morefair and doesn't change anyone's vote. -kmp-----Issue:        LAMBDA-FORMReferences:   LAMBDA (p59)Category:     ADDITIONEdit history: 22-Jun-88, Version 1 by Pitman	      16-Sep-88, Version 2 by Pitman	      02-Oct-88, Version 3 by PitmanStatus:	      For Internal DiscussionProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))Rationale: This is an upward-compatible extension which ``codifies current practice'' in that it makes a commonly defined macro available as a standard part of the language.Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      => (FUNCTION (LAMBDA (X) (+ X Y)))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. [Ironically,  the redefinition warnings always came when they tried to define LAMBDA  in the way it was already defined!]Cost to Implementors:  The cost is trivial. A portable definition is shown in the  problem description above.Cost to Users:  None. This change is basically upward compatible.Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  Some people believe that this makes two different ways to get  essentially the same functionality, and so it clutters the language.  On the other hand, there is at least one precedent for having two  operations that do the identical thing -- NOT and NULL. Both have  been retained because they express different intents. In this case,  the intent of #'xxx might be to ``access'' a function by name (the  name of an anoymous function being its lambda expression), and the  intent of (LAMBDA ...) is to ``create'' a function. This distinction  is subtle but may be expressionally interesting to some programmers  in some situations.  Notationally, some people believe strongly that (LAMBDA ...) looks  a lot better than #'(LAMBDA ...). Certainly it takes up fewer  characters, and (LAMBDA ...) is a notable offender in code needing  to be split onto multiple lines, so every little bit probably helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.  Technically, CLtL does already permit implementations to predefine a  LAMBDA macro, but most argue that this leeway was accidental. CLtL  says that "all" functions,etc in CLtL must be in the LISP package,  but it does not say "all and only". This oversight leaves enough room  for implementors to add all manner of extra junk in the LISP package.  A separate cleanup item addresses this issue.  An earlier revision of this proposal considered the alternative of  making this a new special form, but most people seemed to prefer the  simpler alternative of just making it a macro for now.*start*04797 00024 US Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 07 OCT 88 16:58:16 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 7 Oct 88  16:42:42 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 07 OCT 88 16:07:33 PDTDate: 7 Oct 88 16:07 PDTFrom: masinter.paSubject: Issue: LAMBDA-FORM (Version 3)To: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.eduline-fold: NOcc: Masinter.paMessage-ID: <881007-160733-1324@Xerox>!Issue:        LAMBDA-FORMReferences:   LAMBDA (p59)Category:     ADDITIONEdit history: 22-Jun-88, Version 1 by Pitman	      16-Sep-88, Version 2 by Pitman	      02-Oct-88, Version 3 by PitmanStatus:	      For Internal DiscussionProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))Rationale: This is an upward-compatible extension which ``codifies current practice'' in that it makes a commonly defined macro available as a standard part of the language.Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      => (FUNCTION (LAMBDA (X) (+ X Y)))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. [Ironically,  the redefinition warnings always came when they tried to define LAMBDA  in the way it was already defined!]Cost to Implementors:  The cost is trivial. A portable definition is shown in the  problem description above.Cost to Users:  None. This change is basically upward compatible.Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  Some people believe that this makes two different ways to get  essentially the same functionality, and so it clutters the language.  On the other hand, there is at least one precedent for having two  operations that do the identical thing -- NOT and NULL. Both have  been retained because they express different intents. In this case,  the intent of #'xxx might be to ``access'' a function by name (the  name of an anoymous function being its lambda expression), and the  intent of (LAMBDA ...) is to ``create'' a function. This distinction  is subtle but may be expressionally interesting to some programmers  in some situations.  Notationally, some people believe strongly that (LAMBDA ...) looks  a lot better than #'(LAMBDA ...). Certainly it takes up fewer  characters, and (LAMBDA ...) is a notable offender in code needing  to be split onto multiple lines, so every little bit probably helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.  Technically, CLtL does already permit implementations to predefine a  LAMBDA macro, but most argue that this leeway was accidental. CLtL  says that "all" functions, etc in CLtL must be in the LISP package,  but it does not say "all and only". This oversight leaves enough room  for implementors to add all manner of extra junk in the LISP package.  A separate cleanup item addresses this issue.  An earlier revision of this proposal considered the alternative of  making this a new special form, but most people seemed to prefer the  simpler alternative of just making it a macro for now.*start*04473 00024 USfDate:  7 Oct 88 16:07 PDTFrom: masinter.paSubject: Issue: LAMBDA-FORM (Version 3)To: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.eduline-fold: NOcc: MasinterIssue:        LAMBDA-FORMReferences:   LAMBDA (p59)Category:     ADDITIONEdit history: 22-Jun-88, Version 1 by Pitman	      16-Sep-88, Version 2 by Pitman	      02-Oct-88, Version 3 by PitmanStatus:	      For Internal DiscussionProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))Rationale: This is an upward-compatible extension which ``codifies current practice'' in that it makes a commonly defined macro available as a standard part of the language.Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      => (FUNCTION (LAMBDA (X) (+ X Y)))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. [Ironically,  the redefinition warnings always came when they tried to define LAMBDA  in the way it was already defined!]Cost to Implementors:  The cost is trivial. A portable definition is shown in the  problem description above.Cost to Users:  None. This change is basically upward compatible.Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  Some people believe that this makes two different ways to get  essentially the same functionality, and so it clutters the language.  On the other hand, there is at least one precedent for having two  operations that do the identical thing -- NOT and NULL. Both have  been retained because they express different intents. In this case,  the intent of #'xxx might be to ``access'' a function by name (the  name of an anoymous function being its lambda expression), and the  intent of (LAMBDA ...) is to ``create'' a function. This distinction  is subtle but may be expressionally interesting to some programmers  in some situations.  Notationally, some people believe strongly that (LAMBDA ...) looks  a lot better than #'(LAMBDA ...). Certainly it takes up fewer  characters, and (LAMBDA ...) is a notable offender in code needing  to be split onto multiple lines, so every little bit probably helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.  Technically, CLtL does already permit implementations to predefine a  LAMBDA macro, but most argue that this leeway was accidental. CLtL  says that "all" functions, etc in CLtL must be in the LISP package,  but it does not say "all and only". This oversight leaves enough room  for implementors to add all manner of extra junk in the LISP package.  A separate cleanup item addresses this issue.  An earlier revision of this proposal considered the alternative of  making this a new special form, but most people seemed to prefer the  simpler alternative of just making it a macro for now.*start*01589 00024 US Return-Path: <@IVORY.S4CC.Symbolics.COM,@ROCKY-MOUNTAINS.S4CC.Symbolics.COM:ACW@IVORY.S4CC.Symbolics.COM>Received: from IVORY.S4CC.Symbolics.COM ([128.81.51.1]) by Xerox.COM ; 11 OCT 88 08:53:24 PDTReceived: from ROCKY-MOUNTAINS.S4CC.Symbolics.COM by IVORY.S4CC.Symbolics.COM via INTERNET with SMTP id 194646; 11 Oct 88 11:10:05 EDTDate: Tue, 11 Oct 88 11:16 EDTFrom: Allan C. Wechsler <ACW@IVORY.S4CC.Symbolics.COM>Subject: Issue: LAMBDA-FORM (Version 3)To: cl-cleanup@sail.stanford.educc: Masinter.paIn-Reply-To: <881007-160733-1324@Xerox>Message-ID: <19881011151620.6.ACW@ROCKY-MOUNTAINS.S4CC.Symbolics.COM>I have an observation against the proposal LAMBDA-FORM:NEW-MACRO.In Scheme, the operator of a function invocation form has the sameevaluation semantics as the operands.  In CL, however, the operator isnot evaluated in the same way that the operands are.I am concerned lest the new macro called LAMBDA should obscure thisdifference in evaluation semantics.  A novice Lisp programmer would havea hard time understanding why the #' is optional in     (MAP [#'](LAMBDA (POINT) (+ (POINT-X POINT) (POINT-Y POINT)))           POINT-LIST)... but is required in     (MAP #'SUM-OF-COORDS POINT-LIST).  In sum, I believe that #' is a valuable marker of the difference insyntax between operator and operand.(If CL were to become truly Scheme-like, and the evaluation semantics ofoperators and operands became the same, I would certainly drop thisobjection.  But I am opposed to papering over asymmetries with deceptivemacrology.)*start*01114 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 15:32:20 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  15:26:02 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 476029; Thu 13-Oct-88 18:24:26 EDTDate: Thu, 13 Oct 88 18:24 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: LAMBDA-FORM (Version 3)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881013182415.7.KMP@BOBOLINK.SCRC.Symbolics.COM>My notes from Fairfax meeting...X3J13 meeting: Masinter: Another motivation is that once LISP-SYMBOL-REDEFINITION passes,	   people won't be able to write a LAMBDA macro portably. RWK: Issue should say why a special form was ultimately not proposed. RG: With this proposal, will LAMBDA be a flag, form, macro, ...? The issue     adds confusion on this point, complicating the language where it was     once simple.*start*01215 00024 US Return-Path: <jonl@lucid.com>Received: from lucid.com ([192.26.25.1]) by Xerox.COM ; 21 OCT 88 17:56:47 PDTReceived: from bhopal ([192.9.200.13]) by heavens-gate.lucid.com id AA00690g; Fri, 21 Oct 88 17:56:17 PDTReceived: by bhopal id AA12447g; Fri, 21 Oct 88 17:54:44 PDTDate: Fri, 21 Oct 88 17:54:44 PDTFrom: Jon L White <jonl@lucid.com>Message-Id: <8810220054.AA12447@bhopal>To: ACW@IVORY.S4CC.Symbolics.COMCc: cl-cleanup@sail.stanford.edu, Masinter.paIn-Reply-To: Allan C. Wechsler's message of Tue, 11 Oct 88 11:16 EDT <19881011151620.6.ACW@ROCKY-MOUNTAINS.S4CC.Symbolics.COM>Subject: Issue: LAMBDA-FORM (Version 3)re: In Scheme, the operator of a function invocation form has the same    evaluation semantics as the operands.  In CL, however, the operator is    not evaluated in the same way that the operands are.    I am concerned lest the new macro called LAMBDA should obscure this    difference in evaluation semantics.  A novice Lisp programmer would have    a hard time understanding why the #' is optional inHmmmm, having read your reasoning here, now I'm leaning towards rescindingmy tentative approval ("silence gives consent") on this issue.-- JonL --*start*05912 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 22 NOV 88 13:48:29 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 22 Nov 88  13:47:08 PSTReceived: from Cabernet.ms by ArpaGateway.ms ; 22 NOV 88 13:38:20 PSTDate: 22 Nov 88 13:35 PSTFrom: masinter.paSubject: Issue: LAMBDA-FORM (Version 4)To: cl-cleanup@sail.stanford.eduline-fold: NOMessage-ID: <881122-133820-10646@Xerox>I added to the cost, benefits and discussion section in an attempt toreflect the subsequent discussion. NACKs only, please.!Forum: CLeanupIssue:        LAMBDA-FORMReferences:   LAMBDA (p59)Related Issues: LISP-SYMBOL-REDEFINITION, PACKAGE-CLUTTERCategory:     ADDITIONEdit history: 22-Jun-88, Version 1 by Pitman	      16-Sep-88, Version 2 by Pitman	      02-Oct-88, Version 3 by Pitman	      22-Nov-88, Version 4 by MasinterProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))Rationale: This is an upward-compatible extension which ``codifies current practice'' in that it makes a commonly defined macro available as a standard part of the language.Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      => (FUNCTION (LAMBDA (X) (+ X Y)))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. [Ironically,  the redefinition warnings always came when they tried to define LAMBDA  in the way it was already defined!]  Many other Common Lisp implementations do not offer such a macro.Cost to Implementors:  The cost is trivial. A portable definition is shown in the  problem description above.Cost to Users:  No conversion cost. This change is basically upward compatible.  Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  In Scheme, the operator of a function invocation form has the same  evaluation semantics as the operands.  In CL, however, the operator is  not evaluated in the same way that the operands are.  This definition  of LAMBDA as a macro would obscure this difference. A novice Lisp   programmer might have a hard time understanding why the #' is   optional in  (MAP [#'](LAMBDA (POINT) (+ (POINT-X POINT) (POINT-Y POINT)))           POINT-LIST)   but is required in     (MAP #'SUM-OF-COORDS POINT-LIST)  This proposal "clutters" the language because it makes the syntax  more complex.  LAMBDA is then used not only as a "flag" for  introducing lambda-expressions, but also is a macro which generates  functions. There is at least one precedent for having two  operations that do the identical thing -- NOT and NULL. Both have  been retained because they express different intents. In this case,  the intent of #'xxx might be to ``access'' a function by name (the  name of an anoymous function being its lambda expression), and the  intent of (LAMBDA ...) is to ``create'' a function. This distinction  is subtle but may be expressionally interesting to some programmers  in some situations.  Notationally, some people believe strongly that (LAMBDA ...) looks  a lot better than #'(LAMBDA ...). Certainly it takes up fewer  characters, and (LAMBDA ...) is a notable offender in code needing  to be split onto multiple lines, so every little bit probably helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.  Technically, CLtL does already permit implementations to predefine a  LAMBDA macro, but most argue that this leeway was accidental. CLtL  says that "all" functions, etc in CLtL must be in the LISP package,  but it does not say "all and only". This oversight leaves enough room  for implementors to add all manner of extra junk in the LISP package.  A separate cleanup item (LISP-SYMBOL-REDEFINITION) addresses this issue.  An earlier revision of this proposal considered the alternative of  making this a new special form. Many people prefered that alternative.  However, there were also strong objections to requiring a new special form;  since the FUNCTION special form is still necessary (for #'symbol),   it was deemed better  to have LAMBDA a macro which is defined  in terms of FUNCTION than to have both LAMBDA and FUNCTION  as special forms.*start*00913 00024 US Date: 29 Nov 88 10:42 PSTFrom: masinter.paSubject: Re: Issue: LAMBDA-FORM (Version 4)In-reply-to: your message of Tue, 29 Nov 88 10:35 ESTTo: Richard Mlynarik <Mly@AI.AI.MIT.EDU>cc: masinterThe NEW-SPECIAL-FORM proposal was removed from LAMBDA-FORM for the reasons given in the discussion section:"An earlier revision of this proposal considered the alternative of  making this a new special form. Many people prefered that alternative.  However, there were also strong objections to requiring a new special form;  since the FUNCTION special form is still necessary (for #'symbol),   it was deemed better  to have LAMBDA a macro which is defined  in terms of FUNCTION than to have both LAMBDA and FUNCTION  as special forms."If there is in fact not consensus on this, we can include the LAMBDA-FORM:NEW-SPECIAL-FORM option on the ballot. I thought there was consensus. *start*01472 00024 USaReturn-Path: <@REAGAN.AI.MIT.EDU:Mly@AI.AI.MIT.EDU>Received: from REAGAN.AI.MIT.EDU ([128.52.22.53]) by Xerox.COM ; 29 NOV 88 07:12:36 PSTReceived: from ISABEL-PERON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 152154; Tue 29-Nov-88 10:11:37 ESTDate: Tue, 29 Nov 88 10:35 ESTFrom: Richard Mlynarik <Mly@AI.AI.MIT.EDU>Subject: Issue: LAMBDA-FORM (Version 4)To: masinter.paIn-Reply-To: <881122-133820-10646@Xerox>Message-ID: <19881129153515.3.MLY@ISABEL-PERON.AI.MIT.EDU>    Date: 22 Nov 88 13:35 PST    From: masinter.pa@Xerox.COM    I added to the cost, benefits and discussion section in an attempt to    reflect the subsequent discussion. NACKs only, please.I would really very much like to know why LAMBDA-FORM:NEW-SPECIAL-FORMwas flushed.I see no advantage to making LAMBDA a macro which expands into(FUNCTION (LAMBDA ...)) -- in fact, this probably makes life moredifficult for hyopthetical code-analysis tools than adding one case fora new special form (remembering that CLOS is adding several new specialforms.)As an aside, LAMBDA is one of the few fundamental special forms inScheme.  It would seem that CL has IF rather than COND as a special formfor such reasons of cultural compatibility...I'm not sending this message to cl-cleanup because I'm uninterested inhearing JonL's opinions on the subject.Perhaps LAMBDA-FORM:NEW-SPECIAL-FORM could at least be presented analternative to X3J13.*start*00686 00024 US Date: 29 Nov 88 13:50 PSTFrom: masinter.paSubject: Re: Issue: LAMBDA-FORM (Version 4)In-reply-to: your message of Tue, 29 Nov 88 16:11 ESTTo: Richard Mlynarik <Mly@AI.AI.MIT.EDU>cc: masinter.paDo you think the reason given for not introducing a new special form is inadequate? I.e., would you prefer to have both LAMBDA and FUNCTION a special form?I remember originally being concerned that COND was a macro while IF was the special form; I realized that it didn't matter much, since any program that cared was free to treat COND as if it were a special form. The same is true for LAMBDA; I don't care much.If you do, maybe you could explain why?*start*01871 00024 USaReturn-Path: <@REAGAN.AI.MIT.EDU:Mly@AI.AI.MIT.EDU>Received: from REAGAN.AI.MIT.EDU ([128.52.22.53]) by Xerox.COM ; 29 NOV 88 12:49:17 PSTReceived: from ISABEL-PERON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 152262; Tue 29-Nov-88 15:48:05 ESTDate: Tue, 29 Nov 88 16:11 ESTFrom: Richard Mlynarik <Mly@AI.AI.MIT.EDU>Subject: Re: Issue: LAMBDA-FORM (Version 4)To: masinter.paIn-Reply-To: <881129-104308-5420@Xerox>Message-ID: <19881129211139.2.MLY@ISABEL-PERON.AI.MIT.EDU>    Date: 29 Nov 88 10:42 PST    From: masinter.pa@Xerox.COM    The NEW-SPECIAL-FORM proposal was removed from LAMBDA-FORM for the reasons    given in the discussion section:    "An earlier revision of this proposal considered the alternative of      making this a new special form. Many people prefered that alternative.      However, there were also strong objections to requiring a new special    form;      since the FUNCTION special form is still necessary (for #'symbol),       it was deemed better  to have LAMBDA a macro which is defined      in terms of FUNCTION than to have both LAMBDA and FUNCTION      as special forms."I'm really sorry for wasting your time -- I was reading a hardcopy of anolder version even as I replied to a current version.  I apologise fornot reading more carefully.    If there is in fact not consensus on this, we can include the    LAMBDA-FORM:NEW-SPECIAL-FORM option on the ballot. I thought there was    consensus. Well, register my objection, for what that is worth.It often seems to me that "concensus" is reached people think that thehassle of spurious-flame-fighting which follows a proposal is greaterthan the benefit of seeing things fixed or Done Right.Sigh.I'm sending you my condition criticisms -- I've revising them againagain.Sorry again to shoot off like that.*start*05909 00024 US Date:  8 Dec 88 15:30 PSTSender: masinter.paTo: x3j13@sail.stanford.eduSubject: Issue: LAMBDA-FORM (Version 4)From: cl-cleanup@sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinterline-fold: noForum:        CLeanupIssue:        LAMBDA-FORMReferences:   LAMBDA (p59)Related Issues: LISP-SYMBOL-REDEFINITION, PACKAGE-CLUTTERCategory:     ADDITIONEdit history: 22-Jun-88, Version 1 by Pitman	      16-Sep-88, Version 2 by Pitman	      02-Oct-88, Version 3 by Pitman	      22-Nov-88, Version 4 by MasinterProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))Rationale: This is an upward-compatible extension which ``codifies current practice'' in that it makes a commonly defined macro available as a standard part of the language.Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      => (FUNCTION (LAMBDA (X) (+ X Y)))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. [Ironically,  the redefinition warnings always came when they tried to define LAMBDA  in the way it was already defined!]  Many other Common Lisp implementations do not offer such a macro.Cost to Implementors:  The cost is trivial. A portable definition is shown in the  problem description above.Cost to Users:  No conversion cost. This change is basically upward compatible.  Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  In Scheme, the operator of a function invocation form has the same  evaluation semantics as the operands.  In CL, however, the operator is  not evaluated in the same way that the operands are.  This definition  of LAMBDA as a macro would obscure this difference. A novice Lisp   programmer might have a hard time understanding why the #' is   optional in  (MAP [#'](LAMBDA (POINT) (+ (POINT-X POINT) (POINT-Y POINT)))           POINT-LIST)   but is required in     (MAP #'SUM-OF-COORDS POINT-LIST)  This proposal "clutters" the language because it makes the syntax  more complex.  LAMBDA is then used not only as a "flag" for  introducing lambda-expressions, but also is a macro which generates  functions. There is at least one precedent for having two  operations that do the identical thing -- NOT and NULL. Both have  been retained because they express different intents. In this case,  the intent of #'xxx might be to ``access'' a function by name (the  name of an anoymous function being its lambda expression), and the  intent of (LAMBDA ...) is to ``create'' a function. This distinction  is subtle but may be expressionally interesting to some programmers  in some situations.  Notationally, some people believe strongly that (LAMBDA ...) looks  a lot better than #'(LAMBDA ...). Certainly it takes up fewer  characters, and (LAMBDA ...) is a notable offender in code needing  to be split onto multiple lines, so every little bit probably helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.  Technically, CLtL does already permit implementations to predefine a  LAMBDA macro, but most argue that this leeway was accidental. CLtL  says that "all" functions, etc in CLtL must be in the LISP package,  but it does not say "all and only". This oversight leaves enough room  for implementors to add all manner of extra junk in the LISP package.  A separate cleanup item (LISP-SYMBOL-REDEFINITION) addresses  this issue.  An earlier revision of this proposal considered the alternative of  making this a new special form. Many people prefered that alternative.  However, there were also strong objections to requiring a new special form;  since the FUNCTION special form is still necessary (for #'symbol),   it was deemed better  to have LAMBDA a macro which is defined  in terms of FUNCTION than to have both LAMBDA and FUNCTION  as special forms.        TITAN 
         TITAN 
           Z              
              x                                                 *              	                                  "       x                                                       \              G              <       
      e                          7      q &z*start*05837 00024 US Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 08 DEC 88 16:59:15 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 8 Dec 88  16:43:41 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 08 DEC 88 16:29:39 PSTDate: 8 Dec 88 15:30 PSTSender: masinter.paTo: x3j13@sail.stanford.eduSubject: Issue: LAMBDA-FORM (Version 4)From: cl-cleanup@sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinter.paline-fold: noMessage-ID: <881208-162939-4858@Xerox>!Forum:        CLeanupIssue:        LAMBDA-FORMReferences:   LAMBDA (p59)Related Issues: LISP-SYMBOL-REDEFINITION, PACKAGE-CLUTTERCategory:     ADDITIONEdit history: 22-Jun-88, Version 1 by Pitman	      16-Sep-88, Version 2 by Pitman	      02-Oct-88, Version 3 by Pitman	      22-Nov-88, Version 4 by MasinterProblem Description:  In Scheme, one writes not #'(LAMBDA ...) but just (LAMBDA ...).  Many Common Lisp programmers have asked for this feature.  It can be written by the user, but since it's a commonly asked  for feature, it would make sense for it to be in the standard.  Also, even though the definition is trivial,    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))  it is difficult to offer this as an extension because then "portable  code" tries to define it, it will get a redefinition warning because  it will be clobbering the system's predefined definition.  [An implementation could shadow LAMBDA, but that, too, has associated  problems.]Proposal (LAMBDA-FORM:NEW-MACRO):  Add a LAMBDA macro, which has equivalent effect to:    (DEFMACRO LAMBDA (BVL &REST BODY) `#'(LAMBDA ,BVL ,@BODY))Rationale: This is an upward-compatible extension which ``codifies current practice'' in that it makes a commonly defined macro available as a standard part of the language.Test Case:  #1: (DEFUN ADDER (N) (LAMBDA (X) (+ X N)))      (FUNCALL (ADDER 5) 3) => 8    #2: (MAPCAR (LAMBDA (X) (+ X 3)) '(1 2 3)) => (4 5 6)  #3: (MACROEXPAND '(LAMBDA (X) (+ X Y)))      => (FUNCTION (LAMBDA (X) (+ X Y)))Current Practice:  Symbolics Genera implements NEW-MACRO.  Symbolics Cloe does not offer a LAMBDA macro because users who defined  their own in portable code complained that they were getting redefinition  warnings that CLtL had led them to believe shouldn't happen. [Ironically,  the redefinition warnings always came when they tried to define LAMBDA  in the way it was already defined!]  Many other Common Lisp implementations do not offer such a macro.Cost to Implementors:  The cost is trivial. A portable definition is shown in the  problem description above.Cost to Users:  No conversion cost. This change is basically upward compatible.  Cost of Non-Adoption:  There are no really major consequences of non-adoption.Benefits:  It's been suggested that some people write '(LAMBDA ...) rather than  #'(LAMBDA ...) because it's less ugly, and then run into confusion  later. If they could just write (LAMBDA ...), some that use overly  superficial reasons for the choice of one notation over another might  accidentally select the primitive they should probably really be using.Aesthetics:  In Scheme, the operator of a function invocation form has the same  evaluation semantics as the operands.  In CL, however, the operator is  not evaluated in the same way that the operands are.  This definition  of LAMBDA as a macro would obscure this difference. A novice Lisp   programmer might have a hard time understanding why the #' is   optional in  (MAP [#'](LAMBDA (POINT) (+ (POINT-X POINT) (POINT-Y POINT)))           POINT-LIST)   but is required in     (MAP #'SUM-OF-COORDS POINT-LIST)  This proposal "clutters" the language because it makes the syntax  more complex.  LAMBDA is then used not only as a "flag" for  introducing lambda-expressions, but also is a macro which generates  functions. There is at least one precedent for having two  operations that do the identical thing -- NOT and NULL. Both have  been retained because they express different intents. In this case,  the intent of #'xxx might be to ``access'' a function by name (the  name of an anoymous function being its lambda expression), and the  intent of (LAMBDA ...) is to ``create'' a function. This distinction  is subtle but may be expressionally interesting to some programmers  in some situations.  Notationally, some people believe strongly that (LAMBDA ...) looks  a lot better than #'(LAMBDA ...). Certainly it takes up fewer  characters, and (LAMBDA ...) is a notable offender in code needing  to be split onto multiple lines, so every little bit probably helps.Discussion:  Numerous people have suggested this from time to time in the past,  but it's often been amidst a bunch of other more controversial issues.  Pitman wrote up this proposal and supports LAMBDA-FORM:NEW-MACRO.  Technically, CLtL does already permit implementations to predefine a  LAMBDA macro, but most argue that this leeway was accidental. CLtL  says that "all" functions, etc in CLtL must be in the LISP package,  but it does not say "all and only". This oversight leaves enough room  for implementors to add all manner of extra junk in the LISP package.  A separate cleanup item (LISP-SYMBOL-REDEFINITION) addresses  this issue.  An earlier revision of this proposal considered the alternative of  making this a new special form. Many people prefered that alternative.  However, there were also strong objections to requiring a new special form;  since the FUNCTION special form is still necessary (for #'symbol),   it was deemed better  to have LAMBDA a macro which is defined  in terms of FUNCTION than to have both LAMBDA and FUNCTION  as special forms.