*start*00881 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 20 JUN 88 14:18:50 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 20 Jun 88  14:18:37 PDTReceived: from RIO-DE-JANEIRO.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 422192; Mon 20-Jun-88 17:17:22 EDTDate: Mon, 20 Jun 88 17:16 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: DECODE-UNIVERSAL-TIME-DAYLIGHT (Version 1)To: CL-Cleanup@SAIL.STANFORD.EDUReferences: <880620170950.6.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>Message-ID: <880620171657.7.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>That last subject line should have been DECODE-UNIVERSAL-TIME-DAYLIGHTto match what's in the proposal. Sorry.*start*03769 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 20 JUN 88 14:11:49 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 20 Jun 88  14:11:26 PDTReceived: from RIO-DE-JANEIRO.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 422182; Mon 20-Jun-88 17:10:16 EDTDate: Mon, 20 Jun 88 17:09 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: DECODE-UNIVERSAL-DAYLIGHT (Version 1)To: CL-Cleanup@SAIL.STANFORD.EDUMessage-ID: <880620170950.6.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>Issue:        DECODE-UNIVERSAL-TIME-DAYLIGHTReferences:   DECODE-UNIVERSAL-TIME (p445)Category:     CLARIFICATIONEdit history: 20-Jun-88, Version 1 by PitmanStatus:	      For Internal DiscussionProblem Description:  The description of DECODE-UNIVERSAL-TIME does not say what happens with  TIME-ZONE. Since the description of ENCODE-UNIVERSAL-TIME mentions that  its behavior differs depending on whether a time zone is explicitly passed,  some implementors may have assumed that DECODE-UNIVERSAL-TIME should do  likewise.  Even if all implementations did the same thing, it should still be clarified  whether an implementation were permitted to return dsp=NIL tz=n rather than  dsp=T tz=n+1 for time zones in which daylight savings time was believed to  be (or known to be) in effect. Currently, you cannot tell whether "NIL" for  daylight-savings-time-p means "daylight savings time is in effect" or  just "daylight savings time is not known to not be in effect".  These tools appear to be more portable than they are.Proposal (DECODE-UNIVERSAL-TIME-DAYLIGHT:LIKE-ENCODE):  Specify that, like ENCODE-UNIVERSAL-TIME, DECODE-UNIVERSAL-TIME ignores  daylight savings information if a timezone is explicitly specified.  Rationale:    This makes things consistent with ENCODE-UNIVERSAL-TIME.Proposal (DECODE-UNIVERSAL-TIME-DAYLIGHT:UNLIKE-ENCODE):  Specify that, unlike ENCODE-UNIVERSAL-TIME, DECODE-UNIVERSAL-TIME treats  daylight savings information the same regardless of whether a time zone  argument is explicitly or not.  Rationale:    Although inconsistent with ENCODE-UNIVERSAL-TIME, this seems    to be what was intended.    [Maybe someone can suggest a better motivation? -kmp]Test Case:  ;; ### Kludge: This test case relies on time zone not changing in real  ;; ###   time, in blatant defiance of warning in note at bottom  ;; ###   of p445.  (LET* ((HERE (NTH 8 (MULTIPLE-VALUE-LIST (GET-DECODED-TIME)))) ;Time zone	 (RECENTLY (GET-UNIVERSAL-TIME))	 (A (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY))))	 (B (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY HERE)))))    (LIST A B (EQUAL A B)))Current Practice:  Symbolics Genera and Symbolics Cloe return ((T 5) (NIL 5) NIL) in EDT.Cost to Implementors:  The cost of changing this should be trivial.Cost to Users:  This feature is already not well-defined since no portable program can rely  on the current behavior, so the cost is effectively zero.Cost of Non-Adoption:  The time primitives are considerably less useful if this point is not  clearly spelled out.Benefits:  The cost of non-adoption would be avoided.Aesthetics:  Anything that improves the intelligibility of language primitives improves  language aesthetics.Discussion:  Pitman wrote this proposal after running into this problem while trying  to port Macsyma between different Common Lisp implementations. He doesn't  have a strong preference on which proposal should be adopted, but thinks  this issue should be nailed down.*start*00808 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 22 JUN 88 23:39:53 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 22 Jun 88  23:38:39 PDTReceived: from Cabernet.ms by ArpaGateway.ms ; 22 JUN 88 23:35:08 PDTDate: 22 Jun 88 23:24 PDTFrom: masinter.paSubject: Re: Issue: DECODE-UNIVERSAL-TIME-DAYLIGHT (Version 1)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Mon, 20 Jun 88 17:16 EDTTo: KMP@STONY-BROOK.SCRC.Symbolics.COMcc: CL-Cleanup@SAIL.STANFORD.EDUMessage-ID: <880622-233508-3081@Xerox>I think it takes more deduction than most of our readers are willing to expendto figure out how to interpret various return values for your test case.*start*00997 00024 US Return-Path: <KMP@STONY-BROOK.SCRC.Symbolics.COM>Received: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by Xerox.COM ; 23 JUN 88 07:39:38 PDTReceived: from RIO-DE-JANEIRO.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 423625; Thu 23-Jun-88 10:39:27 EDTDate: Thu, 23 Jun 88 10:39 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Re: Issue: DECODE-UNIVERSAL-TIME-DAYLIGHT (Version 1)To: masinter.pacc: KMP@STONY-BROOK.SCRC.Symbolics.COMIn-Reply-To: <880622-233508-3081@Xerox>Message-ID: <880623103912.1.KMP@RIO-DE-JANEIRO.SCRC.Symbolics.COM>[CL-Cleanup removed.]    Date: 22 Jun 88 23:24 PDT    From: masinter.pa@Xerox.COM    I think it takes more deduction than most of our readers are willing to expend    to figure out how to interpret various return values for your test case.Could be. I'll think about making the example clearer and mail toCL-Cleanup when I have something to say.*start*01356 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 14 SEP 88 02:45:05 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 14 Sep 88  02:44:28 PDTReceived: from Salvador.ms by ArpaGateway.ms ; 14 SEP 88 02:43:10 PDTDate: 14 Sep 88 02:43 PDTFrom: masinter.paSubject: Re: Issue: DECODE-UNIVERSAL-DAYLIGHT (Version 1)In-reply-to: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>'s message of Mon, 20 Jun 88 17:09 EDTTo: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>cc: CL-Cleanup@SAIL.STANFORD.EDUMessage-ID: <880914-024310-1128@Xerox>There's been no discussion on this issue since last June.The wording "If {\arg time-zone\/} is not specified, the current time zone isused." seems to me to be justification to say that leaving the time zone out isthe same as supplying it.The Xerox implementor assumed LIKE-ENCODE also.I'd like a few more words explaining that the test case only is useful whendaylight savings is in effect (or else supplying constant values that are knownto be in the daylight savings time range.)I think test cases can either be 'automatic' -- you can just run them, but theytake a while to figure out, or 'explanatory' -- they illustrate the point. Thisone isn't either yet.*start*03622 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 30 SEP 88 22:17:30 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 30 Sep 88  22:13:37 PDTReceived: from Cabernet.ms by ArpaGateway.ms ; 30 SEP 88 22:08:44 PDTDate: 30 Sep 88 22:08 PDTFrom: masinter.paSubject: Issue: DECODE-UNIVERSAL-TIME-DAYLIGHT (Version 2)To: CL-Cleanup@SAIL.STANFORD.EDUline-fold: NOMessage-ID: <880930-220844-1787@Xerox>OK, I picked LIKE-ENCODE and tried out a couple of other implementations.Ready? (NACKs only)!Issue:        DECODE-UNIVERSAL-TIME-DAYLIGHTReferences:   DECODE-UNIVERSAL-TIME (p445)Category:     CLARIFICATIONEdit history: 20-Jun-88, Version 1 by Pitman		30-Sep-88, Version 2 by MasinterProblem Description:  The description of DECODE-UNIVERSAL-TIME does not say what happens with  TIME-ZONE. Since the description of ENCODE-UNIVERSAL-TIME mentions that  its behavior differs depending on whether a time zone is explicitly passed,  some implementors may have assumed that DECODE-UNIVERSAL-TIME should do  likewise.  Even if all implementations did the same thing, it should still be clarified  whether an implementation were permitted to return dsp=NIL tz=n rather than  dsp=T tz=n+1 for time zones in which daylight savings time was believed to  be (or known to be) in effect. Currently, you cannot tell whether "NIL" for  daylight-savings-time-p means "daylight savings time is in effect" or  just "daylight savings time is not known to not be in effect".  These tools appear to be more portable than they are.Proposal (DECODE-UNIVERSAL-TIME-DAYLIGHT:LIKE-ENCODE):  Specify that, like ENCODE-UNIVERSAL-TIME, DECODE-UNIVERSAL-TIME ignores  daylight savings information if a timezone is explicitly specified.Rationale:  This makes things consistent with ENCODE-UNIVERSAL-TIME.Test Case:  ;; ### This test case relies on time zone not changing in real  ;; ###   time, in defiance of warning in note at bottom  ;; ###   of p445.  (LET* ((HERE (NTH 8 (MULTIPLE-VALUE-LIST (GET-DECODED-TIME)))) ;Time zone	 (RECENTLY (GET-UNIVERSAL-TIME))	 (A (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY))))	 (B (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY HERE)))))    (LIST A B (EQUAL A B)))Under this proposal, this would return ((T 5) (NIL 5) NIL) in EDT, for example. Current Practice: Symbolics Genera, Symbolics Cloe, Lucid 3.0 and Envos Medley seem to implement this proposal. Some other implementations do not.Cost to Implementors:  The cost of changing this should be trivial.Cost to Users:  This feature is already not well-defined since no portable program can rely  on the current behavior, so the cost is small.Cost of Non-Adoption:  The time primitives are considerably less useful if this point is not  clearly spelled out.Benefits:  The cost of non-adoption would be avoided.Aesthetics:  Anything that improves the intelligibility of language primitives improves  language aesthetics.Discussion:  An alternative would be to specify that, unlike ENCODE-UNIVERSAL-TIME,  DECODE-UNIVERSAL-TIME treats daylight savings information the same  regardless of whether a time zone argument is explicitly or not. This seems   actually to be what was intended originally.  This problem arose while trying to port Macsyma between different Common Lisp implementations. The cleanup committee does not have  a strong opinion on this matter, as long as the behavior is specified.*start*03518 00024 USfReturn-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 06 OCT 88 21:12:55 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 6 Oct 88  20:57:57 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 06 OCT 88 19:40:12 PDTDate: 6 Oct 88 19:40 PDTFrom: masinter.paSubject: Issue: DECODE-UNIVERSAL-TIME-DAYLIGHT (Version 2)To: x3j13@SAIL.STANFORD.EDUREPLY-TO: CL-CLEANUP@Sail.stanford.eduline-fold: NOMessage-ID: <881006-194012-2001@Xerox>!Issue:        DECODE-UNIVERSAL-TIME-DAYLIGHTReferences:   DECODE-UNIVERSAL-TIME (p445)Category:     CLARIFICATIONEdit history: 20-Jun-88, Version 1 by Pitman		30-Sep-88, Version 2 by MasinterProblem Description:  The description of DECODE-UNIVERSAL-TIME does not say what happens with  TIME-ZONE. Since the description of ENCODE-UNIVERSAL-TIME mentions that  its behavior differs depending on whether a time zone is explicitly passed,  some implementors may have assumed that DECODE-UNIVERSAL-TIME should do  likewise.  Even if all implementations did the same thing, it should still be clarified  whether an implementation were permitted to return dsp=NIL tz=n rather than  dsp=T tz=n+1 for time zones in which daylight savings time was believed to  be (or known to be) in effect. Currently, you cannot tell whether "NIL" for  daylight-savings-time-p means "daylight savings time is in effect" or  just "daylight savings time is not known to not be in effect".  These tools appear to be more portable than they are.Proposal (DECODE-UNIVERSAL-TIME-DAYLIGHT:LIKE-ENCODE):  Specify that, like ENCODE-UNIVERSAL-TIME, DECODE-UNIVERSAL-TIME ignores  daylight savings information if a timezone is explicitly specified.Rationale:  This makes things consistent with ENCODE-UNIVERSAL-TIME.Test Case:  ;; ### This test case relies on time zone not changing in real  ;; ###   time, in defiance of warning in note at bottom  ;; ###   of p445.  (LET* ((HERE (NTH 8 (MULTIPLE-VALUE-LIST (GET-DECODED-TIME)))) ;Time zone	 (RECENTLY (GET-UNIVERSAL-TIME))	 (A (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY))))	 (B (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY HERE)))))    (LIST A B (EQUAL A B)))Under this proposal, this would return ((T 5) (NIL 5) NIL) in EDT, for example. Current Practice: Symbolics Genera, Symbolics Cloe, Lucid 3.0 and Envos Medley seem to  implement this proposal. Some other implementations do not.Cost to Implementors:  The cost of changing this should be trivial.Cost to Users:  This feature is already not well-defined since no portable program can rely  on the current behavior, so the cost is small.Cost of Non-Adoption:  The time primitives are considerably less useful if this point is not  clearly spelled out.Benefits:  The cost of non-adoption would be avoided.Aesthetics:  Anything that improves the intelligibility of language primitives improves  language aesthetics.Discussion:  An alternative would be to specify that, unlike ENCODE-UNIVERSAL-TIME,  DECODE-UNIVERSAL-TIME treats daylight savings information the same  regardless of whether a time zone argument is explicitly or not. This seems   actually to be what was intended originally.  This problem arose while trying to port Macsyma between different Common Lisp implementations. The cleanup committee does not have  a strong opinion on this matter, as long as the behavior is specified.*start*00882 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 13:02:59 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  13:03:23 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 475763; Thu 13-Oct-88 16:01:37 EDTDate: Thu, 13 Oct 88 16:01 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: DECODE-UNIVERSAL-TIME-DAYLIGHT (Version 2)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881013160128.2.KMP@BOBOLINK.SCRC.Symbolics.COM>My notes from Fairfax meeting...Cleanup meeting: No opposition -- ready to vote.X3J13 meeting: RWK thought he'd probably go along, but wanted time to study the issue.*start*03521 00024 US Date:  5 Dec 88 16:31 PSTFrom: masinter.pato: MasinterSubject: Issue: DECODE-UNIVERSAL-TIME-DAYLIGHT (Version 2)Issue:        DECODE-UNIVERSAL-TIME-DAYLIGHTReferences:   DECODE-UNIVERSAL-TIME (p445)Category:     CLARIFICATIONEdit history: 20-Jun-88, Version 1 by Pitman		30-Sep-88, Version 2 by MasinterProblem Description:  The description of DECODE-UNIVERSAL-TIME does not say what happens with  TIME-ZONE. Since the description of ENCODE-UNIVERSAL-TIME mentions that  its behavior differs depending on whether a time zone is explicitly passed,  some implementors may have assumed that DECODE-UNIVERSAL-TIME should do  likewise.  Even if all implementations did the same thing, it should still be clarified  whether an implementation were permitted to return dsp=NIL tz=n rather than  dsp=T tz=n+1 for time zones in which daylight savings time was believed to  be (or known to be) in effect. Currently, you cannot tell whether "NIL" for  daylight-savings-time-p means "daylight savings time is in effect" or  just "daylight savings time is not known to not be in effect".  These tools appear to be more portable than they are.Proposal (DECODE-UNIVERSAL-TIME-DAYLIGHT:LIKE-ENCODE):  Specify that, like ENCODE-UNIVERSAL-TIME, DECODE-UNIVERSAL-TIME ignores  daylight savings information if a timezone is explicitly specified.Rationale:  This makes things consistent with ENCODE-UNIVERSAL-TIME.Test Case:  ;; ### This test case relies on time zone not changing in real  ;; ###   time, in defiance of warning in note at bottom  ;; ###   of p445.  (LET* ((HERE (NTH 8 (MULTIPLE-VALUE-LIST (GET-DECODED-TIME)))) ;Time zone	 (RECENTLY (GET-UNIVERSAL-TIME))	 (A (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY))))	 (B (NTHCDR 7 (MULTIPLE-VALUE-LIST (DECODE-UNIVERSAL-TIME RECENTLY HERE)))))    (LIST A B (EQUAL A B)))Under this proposal, this would return ((T 5) (NIL 5) NIL) in EDT, for example. Current Practice: Symbolics Genera, Symbolics Cloe, Lucid 3.0 and Envos Medley seem to  implement this proposal. Some other implementations do not.Cost to Implementors:  The cost of changing this should be trivial.Cost to Users:  This feature is already not well-defined since no portable program can rely  on the current behavior, so the cost is small.Cost of Non-Adoption:  The time primitives are considerably less useful if this point is not  clearly spelled out.Benefits:  The cost of non-adoption would be avoided.Aesthetics:  Anything that improves the intelligibility of language primitives improves  language aesthetics.Discussion:  An alternative would be to specify that, unlike ENCODE-UNIVERSAL-TIME,  DECODE-UNIVERSAL-TIME treats daylight savings information the same  regardless of whether a time zone argument is explicitly or not. This seems   actually to be what was intended originally.  This problem arose while trying to port Macsyma between different  Common Lisp implementations. The cleanup committee does not have  a strong opinion on this matter, as long as the behavior is specified.       ; -(TEXTFONT 7 (TIMESROMAN 12) NIL (CLASSIC 10))           TITAN 
         TITAN 
           w                                                        C             5       7       í              =                           Ü              1              Å              a       
       /              f             ﬁ      ! z∫