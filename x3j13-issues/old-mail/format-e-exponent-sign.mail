*start*03441 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([10.0.0.11]) by Xerox.COM ; 13 SEP 88 12:15:59 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Sep 88  12:13:24 PDTReceived: from KRYPTON.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 458477; Tue 13-Sep-88 15:12:33 EDTDate: Tue, 13 Sep 88 15:11 EDTFrom: Robert A. Cassels <Cassels@STONY-BROOK.SCRC.Symbolics.COM>Subject: Exponent sign printing with ~ETo: CL-CLeanup@Sail.stanford.edu, Cassels@STONY-BROOK.SCRC.Symbolics.COMIn-Reply-To: <870703-173352-132@Xerox>Message-ID: <19880913191142.7.CASSELS@KRYPTON.SCRC.Symbolics.COM>Issue:         ~E-EXPONENT-SIGNReferences:    CLtL pp. 366, 393Category:      CLARIFICATIONEdit history:  Bob Cassels, 13 Sep 88Related issues: <none>Problem description:    The result of (format nil "~E" 1.0) is specified in a contradictory way.    The ambiguity is whether a plus sign should be printed in front of    the exponent.        The top of page 393 says, "Next, either a plus or a minus sign is    printed, followed by e digits ... [decimal exponent]"        Later on page 393 we see, "If all of w, d, and e are omitted, then the    effect is ... [like prin1].        Page 366 [presumably where prin1 is defined] doesn't explicitly say that    the plus sign is omitted from the exponent, but all the examples (and    usual practice) indicate that.        So the posssibilities are:	A. "1.0e+0"	B. "1.0e0"        The first reference implies that A is correct, the third reference    implies that B is correct.  The second reference implies that A and B    are the same.Proposal (~E-EXPONENT-SIGN:FORCE-SIGN):    Change the wording on page 393 to:    "If all of w, d, and e are omitted, then the effect is to print the    value using ordinary free-format exponential-notation output; PRIN1 uses    a similar format for any non-zero number whose magnitude is less than    10**-3 or greater than or equal to 10**7.  The only difference is that    the ~E directive always prints a plus or minus sign in front of the    exponent, while PRIN1 omits the plus sign if the exponent is    non-negative."Test Case:    (format nil "~E" 1.0) => "1.0e+0"Rationale:    This proposal makes ~E self-consistent.  That is more important than    making ~E consistent with PRIN1.Current practice:    Symbolics Common Lisp, Ibuki Lisp, and VAX Lisp all print the plus    sign as in the test case above.  Apollo DOMAIN Common Lisp (version    2.10) produces "1.0", which is simply wrong.Adoption Cost:    Minimal changes to one printing routine for non-conforming    implementations.  (No change to the three implementations mentioned    above.)Cost of non-adoption:    Minor confusion and possible incompatibility among implementations.Benefits:    Less confusion, more compatibility.Conversion Cost:    Minimal.  It is doubtful that any user programs depend on this    obscure distinction.Esthetics:    A matter of opinion.Discussion:    Fortran ~E format requires a sign before the exponent, since the exponent    mark character may be dropped.  Since Common Lisp ~E always prints    the exponent marker, the exponent sign may be dropped in the case    that it would be a plus sign.*start*01126 00024 US Return-Path: <@STONY-BROOK.SCRC.Symbolics.COM,@KRYPTON.SCRC.Symbolics.COM:Cassels@STONY-BROOK.SCRC.Symbolics.COM>Received: from STONY-BROOK.SCRC.Symbolics.COM ([128.81.41.144]) by Xerox.COM ; 14 SEP 88 12:13:28 PDTReceived: from KRYPTON.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 459133; 14 Sep 88 14:46:42 EDTDate: Wed, 14 Sep 88 14:45 EDTFrom: Robert A. Cassels <Cassels@STONY-BROOK.SCRC.Symbolics.COM>Subject: Re: Exponent sign printing with ~ETo: masinter.paIn-Reply-To: <880913-235947-1036@Xerox>Message-ID: <19880914184548.0.CASSELS@KRYPTON.SCRC.Symbolics.COM>    Date: 14 Sep 88 00:00 PDT    From: masinter.pa@Xerox.COM    To make my filing system happier, I'm going to rename this issue FORMAT-E-EXPONENT-SIGN.The instructions said,	     >>A short descriptive label, which starts with a name               which occurs in the index of CLtL, and be a suitable               symbol in the Common Lisp style, e.g., CDR-TERMINATION.<<I looked in my CLtL and found "~E", and my Lisp reader accepts ~E as asymbol.But if you insist....   :-)*start*03601 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 02 OCT 88 13:11:36 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 2 Oct 88  13:11:50 PDTReceived: from Burger.ms by ArpaGateway.ms ; 02 OCT 88 13:10:16 PDTDate: 2 Oct 88 13:10 PDTFrom: masinter.paSubject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)To: cl-cleanup@sail.stanford.eduMessage-ID: <881002-131016-2657@Xerox>In addition to changing the issue name, I changed the Proposal wording sothat it read as a change to Common Lisp rather than a change to CLtL.I think this is ready for release. NAK's only, please.!Issue:         FORMAT-E-EXPONENT-SIGNReferences:    CLtL pp. 366, 393Category:      CLARIFICATIONEdit history:  Bob Cassels, 13 Sep 88			Masinter,  2-Oct-88 (change issue name)Related issues: <none>Problem description:    The result of (format nil "~E" 1.0) is specified in a contradictoryway.    The ambiguity is whether a plus sign should be printed in front of    the exponent.        The top of page 393 says, "Next, either a plus or a minus sign is    printed, followed by e digits ... [decimal exponent]"        Later on page 393 we see, "If all of w, d, and e are omitted, then the    effect is ... [like prin1].        Page 366 [presumably where prin1 is defined] doesn't explicitly saythat    the plus sign is omitted from the exponent, but all the examples (and    usual practice) indicate that.        So the posssibilities are:	A. "1.0e+0"	B. "1.0e0"        The first reference implies that A is correct, the third reference    implies that B is correct.  The second reference implies that A and B    are the same.Proposal (FORMAT-E-EXPONENT-SIGN:FORCE-SIGN):    Specify that ~E always prints a plus or minus sign in front of theexponent. This would cause the language on page 393 of CLtL to to change:    "If all of w, d, and e are omitted, then the effect is to print the    value using ordinary free-format exponential-notation output; PRIN1uses    a similar format for any non-zero number whose magnitude is less than    10**-3 or greater than or equal to 10**7.  The only difference is that    the ~E directive always prints a plus or minus sign in front of the    exponent, while PRIN1 omits the plus sign if the exponent is    non-negative."Test Case:    (format nil "~E" 1.0) => "1.0e+0"Rationale:    This proposal makes ~E self-consistent.  That is more important than    making ~E consistent with PRIN1.Current practice:    Symbolics Common Lisp, Ibuki Lisp, and VAX Lisp all print the plus    sign as in the test case above.  Apollo DOMAIN Common Lisp (version    2.10) and Xerox Common Lisp produce "1.0", which is wrong because     it includes no exponent at all.Adoption Cost:    Minimal changes to one printing routine for non-conforming    implementations.  (No change to the three implementations mentioned    above.)Cost of non-adoption:    Minor confusion and possible incompatibility among implementations.Benefits:    Less confusion, more compatibility.Conversion Cost:    Minimal.  It is doubtful that any user programs depend on this    obscure distinction.Esthetics:    A matter of opinion.Discussion:    Fortran ~E format requires a sign before the exponent, since theexponent    mark character may be dropped.  Since Common Lisp ~E always prints    the exponent marker, the exponent sign may be dropped in the case    that it would be a plus sign.*start*01479 00024 US Return-Path: <KMP@ELEPHANT-BUTTE.SCRC.Symbolics.COM>Received: from ELEPHANT-BUTTE.SCRC.Symbolics.COM ([128.81.41.41]) by Xerox.COM ; 02 OCT 88 13:24:53 PDTReceived: from GRYPHON.SCRC.Symbolics.COM by ELEPHANT-BUTTE.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 324084; Sun 2-Oct-88 16:24:51 EDTDate: Sun, 2 Oct 88 16:24 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)To: masinter.pacc: cl-cleanup@sail.stanford.edu, GLS@Think.COMIn-Reply-To: <881002-131016-2657@Xerox>Message-ID: <881002162430.7.KMP@GRYPHON.SCRC.Symbolics.COM>I don't care about PRIN1 and ~E being compatible, particularly, but it'smy vague recollection that some of the way ~E, ~G, and ~F are set up isto be compatible with some Fortran programs to make translation easy. Idon't recall the details, but I even recall we talked half-seriously aboutputting in Cobol picture-mode as well. I think that if this was a goal,that we should make sure we don't accidentally violate that goal.As long as the proposed change is not going to cause problems for peopledoing translation of Fortran programs, I'm happy with the change.I don't remember the details of this issue nor do I have a fortranspecification handy but maybe GLS or someone else reading this messageremembers the issue. Based on what other people remember about theissue, it may be useful to mention that it was considered in theDiscussion.*start*02041 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 04 OCT 88 14:35:20 PDTReceived: from Think.COM by SAIL.Stanford.EDU with TCP; 4 Oct 88  14:34:05 PDTReturn-Path: <gls@Think.COM>Received: from joplin.think.com ([192.31.181.10]) by Think.COM; Tue, 4 Oct 88 16:54:02 EDTReceived: by joplin.think.com; Tue, 4 Oct 88 17:30:01 EDTDate: Tue, 4 Oct 88 17:30:01 EDTFrom: gls@Think.COMMessage-Id: <8810042130.AA25019@joplin.think.com>To: KMP@stony-brook.scrc.symbolics.comCc: masinter.pa, cl-cleanup@sail.stanford.edu, GLS@Think.COMIn-Reply-To: Kent M Pitman's message of Sun, 2 Oct 88 16:24 EDT <881002162430.7.KMP@GRYPHON.SCRC.Symbolics.COM>Subject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)   Date: Sun, 2 Oct 88 16:24 EDT   From: Kent M Pitman <KMP@stony-brook.scrc.symbolics.com>   I don't care about PRIN1 and ~E being compatible, particularly, but it's   my vague recollection that some of the way ~E, ~G, and ~F are set up is   to be compatible with some Fortran programs to make translation easy. I   don't recall the details, but I even recall we talked half-seriously about   putting in Cobol picture-mode as well. I think that if this was a goal,   that we should make sure we don't accidentally violate that goal.   As long as the proposed change is not going to cause problems for people   doing translation of Fortran programs, I'm happy with the change.   I don't remember the details of this issue nor do I have a fortran   specification handy but maybe GLS or someone else reading this message   remembers the issue. Based on what other people remember about the   issue, it may be useful to mention that it was considered in the   Discussion.It doesn't much matter to Fortran what ~E does when w and d are missingbecause Fortran does not allow them to be omitted.  I agree that thispoint should be tied down, but have no string opinion over which wayit should go.--Guy*start*01892 00024 US Return-Path: <gls@Think.COM>Received: from Think.COM ([10.4.0.6]) by Xerox.COM ; 04 OCT 88 14:31:50 PDTReturn-Path: <gls@Think.COM>Received: from joplin.think.com ([192.31.181.10]) by Think.COM; Tue, 4 Oct 88 16:54:02 EDTReceived: by joplin.think.com; Tue, 4 Oct 88 17:30:01 EDTDate: Tue, 4 Oct 88 17:30:01 EDTFrom: gls@Think.COMMessage-Id: <8810042130.AA25019@joplin.think.com>To: KMP@stony-brook.scrc.symbolics.comCc: masinter.pa, cl-cleanup@sail.stanford.edu, GLS@Think.COMIn-Reply-To: Kent M Pitman's message of Sun, 2 Oct 88 16:24 EDT <881002162430.7.KMP@GRYPHON.SCRC.Symbolics.COM>Subject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)   Date: Sun, 2 Oct 88 16:24 EDT   From: Kent M Pitman <KMP@stony-brook.scrc.symbolics.com>   I don't care about PRIN1 and ~E being compatible, particularly, but it's   my vague recollection that some of the way ~E, ~G, and ~F are set up is   to be compatible with some Fortran programs to make translation easy. I   don't recall the details, but I even recall we talked half-seriously about   putting in Cobol picture-mode as well. I think that if this was a goal,   that we should make sure we don't accidentally violate that goal.   As long as the proposed change is not going to cause problems for people   doing translation of Fortran programs, I'm happy with the change.   I don't remember the details of this issue nor do I have a fortran   specification handy but maybe GLS or someone else reading this message   remembers the issue. Based on what other people remember about the   issue, it may be useful to mention that it was considered in the   Discussion.It doesn't much matter to Fortran what ~E does when w and d are missingbecause Fortran does not allow them to be omitted.  I agree that thispoint should be tied down, but have no string opinion over which wayit should go.--Guy*start*02070 00024 US Return-Path: <Cassels@STONY-BROOK.SCRC.Symbolics.COM>Received: from STONY-BROOK.SCRC.Symbolics.COM ([128.81.41.144]) by Xerox.COM ; 05 OCT 88 15:40:57 PDTReceived: from GROUSE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 471338; Wed 5-Oct-88 18:41:09 EDTDate: Wed, 5 Oct 88 18:40 EDTFrom: Robert A. Cassels <Cassels@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)To: KMP@STONY-BROOK.SCRC.Symbolics.COM, masinter.pacc: cl-cleanup@sail.stanford.edu, GLS@Think.COMIn-Reply-To: <881002162430.7.KMP@GRYPHON.SCRC.Symbolics.COM>Message-ID: <19881005224056.3.CASSELS@GROUSE.SCRC.Symbolics.COM>    Date: Sun, 2 Oct 88 16:24 EDT    From: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>    I don't care about PRIN1 and ~E being compatible, particularly, but it's    my vague recollection that some of the way ~E, ~G, and ~F are set up is    to be compatible with some Fortran programs to make translation easy.The proposal in these terms is that PRIN1 and ~E be (slightly)incompatible, so that ~E can be internally consistent.									  I    don't recall the details, but I even recall we talked half-seriously about    putting in Cobol picture-mode as well. I think that if this was a goal,    that we should make sure we don't accidentally violate that goal.    As long as the proposed change is not going to cause problems for people    doing translation of Fortran programs, I'm happy with the change.Since ~E is being made self-consistent, the proposal should make iteasier for people doing translation of Fortran programs.  Note that theCL formats do not correspond character for character with Fortran, butgive the same general capability.    I don't remember the details of this issue nor do I have a fortran    specification handy but maybe GLS or someone else reading this message    remembers the issue. Based on what other people remember about the    issue, it may be useful to mention that it was considered in the    Discussion.*start*03425 00024 US Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 06 OCT 88 21:39:05 PDTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 6 Oct 88  21:23:24 PDTReceived: from Semillon.ms by ArpaGateway.ms ; 06 OCT 88 21:20:45 PDTDate: 6 Oct 88 21:20 PDTFrom: masinter.paSubject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)To: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.eduline-fold: NOcc: Masinter.paMessage-ID: <881006-212045-2149@Xerox>!Issue:         FORMAT-E-EXPONENT-SIGNReferences:    CLtL pp. 366, 393Category:      CLARIFICATIONEdit history:  Bob Cassels, 13 Sep 88			Masinter,  2-Oct-88 (change issue name)Related issues: <none>Problem description:    The result of (format nil "~E" 1.0) is specified in a contradictory way.    The ambiguity is whether a plus sign should be printed in front of    the exponent.        The top of page 393 says, "Next, either a plus or a minus sign is    printed, followed by e digits ... [decimal exponent]"        Later on page 393 we see, "If all of w, d, and e are omitted, then the    effect is ... [like prin1].        Page 366 [presumably where prin1 is defined] doesn't explicitly say that    the plus sign is omitted from the exponent, but all the examples (and    usual practice) indicate that.        So the posssibilities are:	A. "1.0e+0"	B. "1.0e0"        The first reference implies that A is correct, the third reference    implies that B is correct.  The second reference implies that A and B    are the same.Proposal (FORMAT-E-EXPONENT-SIGN:FORCE-SIGN):    Specify that ~E always prints a plus or minus sign in front of theexponent. This would cause the language on page 393 of CLtL to to change:    "If all of w, d, and e are omitted, then the effect is to print the    value using ordinary free-format exponential-notation output; PRIN1 uses    a similar format for any non-zero number whose magnitude is less than    10**-3 or greater than or equal to 10**7.  The only difference is that    the ~E directive always prints a plus or minus sign in front of the    exponent, while PRIN1 omits the plus sign if the exponent is    non-negative."Test Case:    (format nil "~E" 1.0) => "1.0e+0"Rationale:    This proposal makes ~E self-consistent.  That is more important than    making ~E consistent with PRIN1.Current practice:    Symbolics Common Lisp, Ibuki Lisp, and VAX Lisp all print the plus    sign as in the test case above.  Apollo DOMAIN Common Lisp (version    2.10) and Xerox Common Lisp produce "1.0", which is wrong because     it includes no exponent at all.Adoption Cost:    Minimal changes to one printing routine for non-conforming    implementations.  (No change to the three implementations mentioned    above.)Cost of non-adoption:    Minor confusion and possible incompatibility among implementations.Benefits:    Less confusion, more compatibility.Conversion Cost:    Minimal.  It is doubtful that any user programs depend on this    obscure distinction.Esthetics:    A matter of opinion.Discussion:    Fortran ~E format requires a sign before the exponent, since the exponent    mark character may be dropped.  Since Common Lisp ~E always prints    the exponent marker, the exponent sign may be dropped in the case    that it would be a plus sign.*start*00805 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 13:59:18 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  13:59:13 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 475870; Thu 13-Oct-88 16:57:54 EDTDate: Thu, 13 Oct 88 16:57 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881013165746.2.KMP@BOBOLINK.SCRC.Symbolics.COM>My notes from Fairfax meeting...Cleanup meeting: Ready for vote.X3J13 meeting: No vote was taken.*start*03365 00024 US Date:  7 Dec 88 21:13 PSTFrom: masinter.pato: MasinterSubject: Issue: FORMAT-E-EXPONENT-SIGN (Version 2)Forum:         CleanupIssue:         FORMAT-E-EXPONENT-SIGNReferences:    CLtL pp. 366, 393Category:      CLARIFICATIONEdit history:  Bob Cassels, 13 Sep 88			Masinter,  2-Oct-88 (change issue name)Problem description:    The result of (format nil "~E" 1.0) is specified in a contradictory way.    The ambiguity is whether a plus sign should be printed in front of    the exponent.        The top of page 393 says, "Next, either a plus or a minus sign is    printed, followed by e digits ... [decimal exponent]"        Later on page 393 we see, "If all of w, d, and e are omitted, then the    effect is ... [like prin1].        Page 366 [presumably where prin1 is defined] doesn't explicitly say that    the plus sign is omitted from the exponent, but all the examples (and    usual practice) indicate that.        So the posssibilities are:	A. "1.0e+0"	B. "1.0e0"        The first reference implies that A is correct, the third reference    implies that B is correct.  The second reference implies that A and B    are the same.Proposal (FORMAT-E-EXPONENT-SIGN:FORCE-SIGN):    Specify that ~E always prints a plus or minus sign in front of the    exponent. This would cause the language on page 393 of CLtL to to change:    "If all of w, d, and e are omitted, then the effect is to print the    value using ordinary free-format exponential-notation output; PRIN1 uses    a similar format for any non-zero number whose magnitude is less than    10**-3 or greater than or equal to 10**7.  The only difference is that    the ~E directive always prints a plus or minus sign in front of the    exponent, while PRIN1 omits the plus sign if the exponent is    non-negative."Test Case:    (format nil "~E" 1.0) => "1.0e+0"Rationale:    This proposal makes ~E self-consistent.  That is more important than    making ~E consistent with PRIN1.Current practice:    Symbolics Common Lisp, Ibuki Lisp, and VAX Lisp all print the plus    sign as in the test case above.  Apollo DOMAIN Common Lisp (version    2.10) and Xerox Common Lisp produce "1.0", which is wrong because     it includes no exponent at all.Adoption Cost:    Minimal changes to one printing routine for non-conforming    implementations.  (No change to the three implementations mentioned    above.)Cost of non-adoption:    Minor confusion and possible incompatibility among implementations.Benefits:    Less confusion, more compatibility.Conversion Cost:    Minimal.  It is doubtful that any user programs depend on this    obscure distinction.Esthetics:    A matter of opinion.Discussion:    Fortran ~E format requires a sign before the exponent, since the exponent    mark character may be dropped.  Since Common Lisp ~E always prints    the exponent marker, the exponent sign may be dropped in the case    that it would be a plus sign.        TITAN 
         TITAN 
           ~                                                               C             B       .      `              (              p              ü              •              J       
       *              ^                            þ      ·  zº