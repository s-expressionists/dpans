*start*03483 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 04 OCT 88 12:24:35 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 4 Oct 88  12:16:55 PDTReceived: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 470363; Tue 4-Oct-88 15:15:27 EDTDate: Tue, 4 Oct 88 15:14 EDTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: EXPT-RATIO (Version 1)To: CL-Cleanup@sail.stanford.educc: JGA@STONY-BROOK.SCRC.Symbolics.COM, Cassels@STONY-BROOK.SCRC.Symbolics.COMReferences: <19880930174110.6.JGA@JUBJUB.SCRC.Symbolics.COM>Message-ID: <19881004191447.6.MOON@EUPHRATES.SCRC.Symbolics.COM>Issue:         EXPT-RATIOReferences:    CLtL pages 204 and 211Category:      CLARIFICATIONEdit history:  Version 1, 4-Oct-88, by Aspinall and MoonProblem description:  The comment (page 204, 2nd para) that "... an implementation [of expt]  might choose to compute (expt x 3/2) as if it had been written  (sqrt (expt x 3) 2)" disagrees with the principal value definition on  page 211.  See the example below for a case where the two disagree.  We  believe the principal value definitions are consistent and reasonable,  therefore the implementation comment is wrong.Proposal (EXPT-RATIO:211):  Clarify that (sqrt (expt x 3) 2) is not equivalent to (expt x 3/2)  and that page 211 rules.Test Cases/Examples:  (defvar x (exp (/ (* 2 pi #c(0 1)) 3)))         ;exp(2.pi.i/3)  (expt x 3) => 1 (except for round-off error)  (sqrt (expt x 3)) => 1 (except for round-off error)  (expt x 3/2) => -1 (except for round-off error)    There can be no question that           (expt x 3) ==> 1  because expt is single-valued with an integer second argument, and          (sqrt 1) ==> 1  definitely follows the principal branch of the square root function.    But (expt x 3/2) is defined as (exp (* (log x) 3/2)) (page 211).          (log x) ==> 2.pi.i/3  according to the definition of the logarithm's branch cuts on page 211  (which really comes down to the branch cuts of phase - page 210), so          (* (log x) 3/2) ==> pi.i  and          exp(pi.i) is -1.Rationale:  We believe the principal value definitions are consistent and  reasonable, therefore the implementation comment is wrong.Current practice:  Symbolics Genera 7.3 currently returns the wrong answer, following page  204 rather than page 211.  We have not surveyed any other implementations.Cost to Implementors:  The obvious code changes in complex expt.Cost to Users:  None.Cost of non-adoption:  Self-contradictory language specification.Benefits:  Users can better predict the branch cuts in expt.Discussion:  Mathematical Explanation:  When the expt function returns a complex result  in CL (Cartesian) form, the phase of the complex number is effectively  canonicalized.  Information is lost, and that information is necessary to  specify upon which branch of the sqrt function the final result should lie.    Another way to put it would be that although          sqrt(expt(x,3)) = expt(x,3/2)  where expt and sqrt are the mathematical multi-valued functions, it is not  true that:          pv-sqrt(pv-expt(x,3)) = pv-expt(x,3/2)  where pv-expt and pv-sqrt denote the principal value versions of those functions.*start*01115 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 04 OCT 88 13:05:46 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 4 Oct 88  13:03:13 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 470397; Tue 4-Oct-88 16:01:48 EDTDate: Tue, 4 Oct 88 16:01 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: EXPT-RATIO (Version 1)To: Moon@STONY-BROOK.SCRC.Symbolics.COMcc: CL-Cleanup@sail.stanford.edu, JGA@STONY-BROOK.SCRC.Symbolics.COM, Cassels@STONY-BROOK.SCRC.Symbolics.COMIn-Reply-To: <19881004191447.6.MOON@EUPHRATES.SCRC.Symbolics.COM>Message-ID: <881004160138.3.KMP@BOBOLINK.SCRC.Symbolics.COM>A small non-technical comment:  If there's a next draft, you might want to change "pv-sqrt" and "pv-expt" in the Discussion to names that don't use hyphens, like "pvsqrt" or "pv_sqrt".  Hyphen looks like a minus-sign when using infix notation.*start*01071 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 05 OCT 88 16:12:13 PDTReceived: from lucid.com by SAIL.Stanford.EDU with TCP; 5 Oct 88  16:11:59 PDTReceived: from bhopal ([192.9.200.13]) by heavens-gate.lucid.com id AA03127g; Wed, 5 Oct 88 15:09:25 PSTReceived: by bhopal id AA02105g; Wed, 5 Oct 88 16:09:00 PDTDate: Wed, 5 Oct 88 16:09:00 PDTFrom: Jon L White <jonl@lucid.com>Message-Id: <8810052309.AA02105@bhopal>To: Moon@STONY-BROOK.SCRC.Symbolics.COMCc: CL-Cleanup@sail.stanford.edu, JGA@STONY-BROOK.SCRC.Symbolics.COM, Cassels@STONY-BROOK.SCRC.Symbolics.COMIn-Reply-To: David A. Moon's message of Tue, 4 Oct 88 15:14 EDT <19881004191447.6.MOON@EUPHRATES.SCRC.Symbolics.COM>Subject: Issue: EXPT-RATIO (Version 1)Lucid implements the proposal -- namely (expt x 3/2) is about -1, moduloroundoff.   [Incidentally, the "roundoff" problem means that the resultis a complex number with a rather small imaginary part.]-- JonL --*start*02938 00024 USfDate:  6 Oct 88 20:49 PDTFrom: masinter.paSubject: Issue: EXPT-RATIO (Version 2)To: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.eduline-fold: NOcc: MasinterIssue:         EXPT-RATIOReferences:    CLtL pages 204 and 211Category:      CLARIFICATIONEdit history:  Version 1, 4-Oct-88, by Aspinall and Moon               Version 2,  6-Oct-88, Masinter (very minor discussion)Problem description:  The comment (page 204, 2nd para) that "... an implementation [of expt]  might choose to compute (expt x 3/2) as if it had been written  (sqrt (expt x 3) 2)" disagrees with the principal value definition on  page 211.  See the example below for a case where the two disagree.  We  believe the principal value definitions are consistent and reasonable,  therefore the implementation comment is wrong.Proposal (EXPT-RATIO:211):  Clarify that (sqrt (expt x 3) 2) is not equivalent to (expt x 3/2)  and that page 211 rules.Test Cases/Examples:  (defvar x (exp (/ (* 2 pi #c(0 1)) 3)))         ;exp(2.pi.i/3)  (expt x 3) => 1 (except for round-off error)  (sqrt (expt x 3)) => 1 (except for round-off error)  (expt x 3/2) => -1 (except for round-off error)    There can be no question that           (expt x 3) ==> 1  because expt is single-valued with an integer second argument, and          (sqrt 1) ==> 1  definitely follows the principal branch of the square root function.    But (expt x 3/2) is defined as (exp (* (log x) 3/2)) (page 211).          (log x) ==> 2.pi.i/3  according to the definition of the logarithm's branch cuts on page 211  (which really comes down to the branch cuts of phase - page 210), so          (* (log x) 3/2) ==> pi.i  and          exp(pi.i) is -1.Rationale:  We believe the principal value definitions are consistent and  reasonable, therefore the implementation comment is wrong.Current practice:  Symbolics Genera 7.3 currently returns the wrong answer, following page  204 rather than page 211.  Lucid Common Lisp, and   Envos Medley implement the proposal.Cost to Implementors:  The obvious code changes in complex expt.Cost to Users:  None.Cost of non-adoption:  Self-contradictory language specification.Benefits:  Users can better predict the branch cuts in expt.Discussion:  Mathematical Explanation:  When the expt function returns a complex result  in CL (Cartesian) form, the phase of the complex number is effectively  canonicalized.  Information is lost, and that information is necessary to  specify upon which branch of the sqrt function the final result should lie.    Another way to put it would be that although          sqrt(expt(x,3)) = expt(x,3/2)  where expt and sqrt are the mathematical multi-valued functions, it is not  true that:          pvsqrt(pvexpt(x,3)) = pvexpt(x,3/2)  where pvexpt and pvsqrt denote the principal value versions of those functions.*start*00902 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 13 OCT 88 13:51:42 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 13 Oct 88  13:51:22 PDTReceived: from BOBOLINK.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 475847; Thu 13-Oct-88 16:49:52 EDTDate: Thu, 13 Oct 88 16:49 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: Issue: EXPT-RATIO (Version 2)To: CL-Cleanup@SAIL.Stanford.EDUMessage-ID: <881013164944.8.KMP@BOBOLINK.SCRC.Symbolics.COM>My notes from Fairfax meeting...Cleanup meeting: GLS supports this proposal.X3J13 meeting: Typo in problem description [Wrong number of arguments in some example of using SQRT, if I recall correctly. -kmp]*start*02983 00024 USfDate: 31 Oct 88 12:30 PSTFrom: masinter.paSubject: Issue: EXPT-RATIO (Version 3)to: cl-cleanup@sail.stanford.eduline-fold: NOcc: MasinterFix only to SQRT example.Issue:         EXPT-RATIOReferences:    CLtL pages 204 and 211Category:      CLARIFICATIONEdit history:  Version 1, 4-Oct-88, by Aspinall and Moon               Version 2,  6-Oct-88, Masinter (very minor discussion)               Version 3, 31-Oct-88, Masinter (fix typo)Problem description:  The comment (page 204, 2nd para) that "... an implementation [of expt]  might choose to compute (expt x 3/2) as if it had been written  (sqrt (expt x 3))" disagrees with the principal value definition on  page 211.  See the example below for a case where the two disagree.  We  believe the principal value definitions are consistent and reasonable,  therefore the implementation comment is wrong.Proposal (EXPT-RATIO:211):  Clarify that (sqrt (expt x 3)) is not equivalent to (expt x 3/2)  and that page 211 rules.Test Cases/Examples:  (defvar x (exp (/ (* 2 pi #c(0 1)) 3)))         ;exp(2.pi.i/3)  (expt x 3) => 1 (except for round-off error)  (sqrt (expt x 3)) => 1 (except for round-off error)  (expt x 3/2) => -1 (except for round-off error)    There can be no question that           (expt x 3) ==> 1  because expt is single-valued with an integer second argument, and          (sqrt 1) ==> 1  definitely follows the principal branch of the square root function.    But (expt x 3/2) is defined as (exp (* (log x) 3/2)) (page 211).          (log x) ==> 2.pi.i/3  according to the definition of the logarithm's branch cuts on page 211  (which really comes down to the branch cuts of phase - page 210), so          (* (log x) 3/2) ==> pi.i  and          exp(pi.i) is -1.Rationale:  We believe the principal value definitions are consistent and  reasonable, therefore the implementation comment is wrong.Current practice:  Symbolics Genera 7.3 currently returns the wrong answer, following page  204 rather than page 211.  Lucid Common Lisp, and   Envos Medley implement the proposal.Cost to Implementors:  The obvious code changes in complex expt.Cost to Users:  None.Cost of non-adoption:  Self-contradictory language specification.Benefits:  Users can better predict the branch cuts in expt.Discussion:  Mathematical Explanation:  When the expt function returns a complex result  in CL (Cartesian) form, the phase of the complex number is effectively  canonicalized.  Information is lost, and that information is necessary to  specify upon which branch of the sqrt function the final result should lie.    Another way to put it would be that although          sqrt(expt(x,3)) = expt(x,3/2)  where expt and sqrt are the mathematical multi-valued functions, it is not  true that:          pvsqrt(pvexpt(x,3)) = pvexpt(x,3/2)  where pvexpt and pvsqrt denote the principal value versions of those functions.*start*03350 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 31 OCT 88 18:46:35 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 31 Oct 88  18:43:39 PSTReceived: from Cabernet.ms by ArpaGateway.ms ; 31 OCT 88 12:30:30 PSTDate: 31 Oct 88 12:30 PSTFrom: masinter.paSubject: Issue: EXPT-RATIO (Version 3)to: cl-cleanup@sail.stanford.eduline-fold: NOcc: Masinter.paMessage-ID: <881031-123030-6167@Xerox>Fix only to SQRT example.!Issue:         EXPT-RATIOReferences:    CLtL pages 204 and 211Category:      CLARIFICATIONEdit history:  Version 1, 4-Oct-88, by Aspinall and Moon               Version 2,  6-Oct-88, Masinter (very minor discussion)               Version 3, 31-Oct-88, Masinter (fix typo)Problem description:  The comment (page 204, 2nd para) that "... an implementation [of expt]  might choose to compute (expt x 3/2) as if it had been written  (sqrt (expt x 3))" disagrees with the principal value definition on  page 211.  See the example below for a case where the two disagree.  We  believe the principal value definitions are consistent and reasonable,  therefore the implementation comment is wrong.Proposal (EXPT-RATIO:211):  Clarify that (sqrt (expt x 3)) is not equivalent to (expt x 3/2)  and that page 211 rules.Test Cases/Examples:  (defvar x (exp (/ (* 2 pi #c(0 1)) 3)))         ;exp(2.pi.i/3)  (expt x 3) => 1 (except for round-off error)  (sqrt (expt x 3)) => 1 (except for round-off error)  (expt x 3/2) => -1 (except for round-off error)    There can be no question that           (expt x 3) ==> 1  because expt is single-valued with an integer second argument, and          (sqrt 1) ==> 1  definitely follows the principal branch of the square root function.    But (expt x 3/2) is defined as (exp (* (log x) 3/2)) (page 211).          (log x) ==> 2.pi.i/3  according to the definition of the logarithm's branch cuts on page 211  (which really comes down to the branch cuts of phase - page 210), so          (* (log x) 3/2) ==> pi.i  and          exp(pi.i) is -1.Rationale:  We believe the principal value definitions are consistent and  reasonable, therefore the implementation comment is wrong.Current practice:  Symbolics Genera 7.3 currently returns the wrong answer, following page  204 rather than page 211.  Lucid Common Lisp, and   Envos Medley implement the proposal.Cost to Implementors:  The obvious code changes in complex expt.Cost to Users:  None.Cost of non-adoption:  Self-contradictory language specification.Benefits:  Users can better predict the branch cuts in expt.Discussion:  Mathematical Explanation:  When the expt function returns a complex result  in CL (Cartesian) form, the phase of the complex number is effectively  canonicalized.  Information is lost, and that information is necessary to  specify upon which branch of the sqrt function the final result should lie.    Another way to put it would be that although          sqrt(expt(x,3)) = expt(x,3/2)  where expt and sqrt are the mathematical multi-valued functions, it is not  true that:          pvsqrt(pvexpt(x,3)) = pvexpt(x,3/2)  where pvexpt and pvsqrt denote the principal value versions of those functions.*start*03399 00024 US Date:  7 Dec 88 20:51 PSTSender: masinter.paSubject: Issue: EXPT-RATIO (Version 2)To: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.edufrom: cl-cleanup@sail.stanford.eduline-fold: NOcc: MasinterForum:         CleanupIssue:         EXPT-RATIOReferences:    CLtL pages 204 and 211Category:      CLARIFICATIONEdit history:  Version 1, 4-Oct-88, by Aspinall and Moon               Version 2,  6-Oct-88, Masinter (very minor discussion)               Version 3, 31-Oct-88, Masinter (fix typo)Problem description:  The comment (page 204, 2nd para) that "... an implementation [of expt]  might choose to compute (expt x 3/2) as if it had been written  (sqrt (expt x 3))" disagrees with the principal value definition on  page 211.  See the example below for a case where the two disagree.  We  believe the principal value definitions are consistent and reasonable,  therefore the implementation comment is wrong.Proposal (EXPT-RATIO:P.211):  Clarify that (sqrt (expt x 3)) is not equivalent to (expt x 3/2)  and that page 211 rules.Examples:  (defvar x (exp (/ (* 2 pi #c(0 1)) 3)))         ;exp(2.pi.i/3)  (expt x 3) => 1 (except for round-off error)  (sqrt (expt x 3)) => 1 (except for round-off error)  (expt x 3/2) => -1 (except for round-off error)    There can be no question that           (expt x 3) ==> 1  because expt is single-valued with an integer second argument, and          (sqrt 1) ==> 1  definitely follows the principal branch of the square root function.    But (expt x 3/2) is defined as (exp (* (log x) 3/2)) (page 211).          (log x) ==> 2.pi.i/3  according to the definition of the logarithm's branch cuts on page 211  (which really comes down to the branch cuts of phase - page 210), so          (* (log x) 3/2) ==> pi.i  and          exp(pi.i) is -1.Rationale:  We believe the principal value definitions are consistent and  reasonable, therefore the implementation comment is wrong.Current practice:  Symbolics Genera 7.3 currently returns the wrong answer, following page  204 rather than page 211.  Lucid Common Lisp, and   Envos Medley implement the proposal.Cost to Implementors:  The obvious code changes in complex expt.Cost to Users:  None.Cost of non-adoption:  Self-contradictory language specification.Benefits:  Users can better predict the branch cuts in expt.Discussion:  Mathematical Explanation:  When the expt function returns a complex result  in CL (Cartesian) form, the phase of the complex number is effectively  canonicalized.  Information is lost, and that information is necessary to  specify upon which branch of the sqrt function the final result should lie.    Another way to put it would be that although          sqrt(expt(x,3)) = expt(x,3/2)  where expt and sqrt are the mathematical multi-valued functions, it is not  true that:          pvsqrt(pvexpt(x,3)) = pvexpt(x,3/2)  where pvexpt and pvsqrt denote the principal value versions of those functions.        
TIMESROMAN           TITAN 
         TITAN 
           Ú                                                                      ª             –              `       
      ÷                            ¨              .              
              /       
       6             e      Ê zº*start*03366 00024 US Return-Path: <X3J13-mailer@SAIL.Stanford.EDU>Received: from SAIL.Stanford.EDU ([36.86.0.194]) by Xerox.COM ; 07 DEC 88 21:12:00 PSTReceived: from Xerox.COM by SAIL.Stanford.EDU with TCP; 7 Dec 88  20:58:48 PSTReceived: from Semillon.ms by ArpaGateway.ms ; 07 DEC 88 20:51:44 PSTDate: 7 Dec 88 20:51 PSTSender: masinter.paSubject: Issue: EXPT-RATIO (Version 2)To: x3j13@sail.stanford.eduREPLY-TO: cl-cleanup@sail.stanford.edufrom: cl-cleanup@sail.stanford.eduline-fold: NOcc: Masinter.paMessage-ID: <881207-205144-2665@Xerox>!Forum:         CleanupIssue:         EXPT-RATIOReferences:    CLtL pages 204 and 211Category:      CLARIFICATIONEdit history:  Version 1, 4-Oct-88, by Aspinall and Moon               Version 2,  6-Oct-88, Masinter (very minor discussion)               Version 3, 31-Oct-88, Masinter (fix typo)Problem description:  The comment (page 204, 2nd para) that "... an implementation [of expt]  might choose to compute (expt x 3/2) as if it had been written  (sqrt (expt x 3))" disagrees with the principal value definition on  page 211.  See the example below for a case where the two disagree.  We  believe the principal value definitions are consistent and reasonable,  therefore the implementation comment is wrong.Proposal (EXPT-RATIO:P.211):  Clarify that (sqrt (expt x 3)) is not equivalent to (expt x 3/2)  and that page 211 rules.Examples:  (defvar x (exp (/ (* 2 pi #c(0 1)) 3)))         ;exp(2.pi.i/3)  (expt x 3) => 1 (except for round-off error)  (sqrt (expt x 3)) => 1 (except for round-off error)  (expt x 3/2) => -1 (except for round-off error)    There can be no question that           (expt x 3) ==> 1  because expt is single-valued with an integer second argument, and          (sqrt 1) ==> 1  definitely follows the principal branch of the square root function.    But (expt x 3/2) is defined as (exp (* (log x) 3/2)) (page 211).          (log x) ==> 2.pi.i/3  according to the definition of the logarithm's branch cuts on page 211  (which really comes down to the branch cuts of phase - page 210), so          (* (log x) 3/2) ==> pi.i  and          exp(pi.i) is -1.Rationale:  We believe the principal value definitions are consistent and  reasonable, therefore the implementation comment is wrong.Current practice:  Symbolics Genera 7.3 currently returns the wrong answer, following page  204 rather than page 211.  Lucid Common Lisp, and   Envos Medley implement the proposal.Cost to Implementors:  The obvious code changes in complex expt.Cost to Users:  None.Cost of non-adoption:  Self-contradictory language specification.Benefits:  Users can better predict the branch cuts in expt.Discussion:  Mathematical Explanation:  When the expt function returns a complex result  in CL (Cartesian) form, the phase of the complex number is effectively  canonicalized.  Information is lost, and that information is necessary to  specify upon which branch of the sqrt function the final result should lie.    Another way to put it would be that although          sqrt(expt(x,3)) = expt(x,3/2)  where expt and sqrt are the mathematical multi-valued functions, it is not  true that:          pvsqrt(pvexpt(x,3)) = pvexpt(x,3/2)  where pvexpt and pvsqrt denote the principal value versions of those functions.