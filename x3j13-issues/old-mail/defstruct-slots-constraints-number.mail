*start*04374 00024 USmReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 19 MAY 88 11:38:29 PDTReceived: from hub.ucsb.edu (ucsbcsl.ucsb.edu) by SAIL.Stanford.EDU with TCP; 19 May 88  11:34:33 PDTReceived: from csilvax.ucsb.edu by hub.ucsb.edu (5.59) id AA15701; Thu, 19 May 88 11:35:49 PDTReceived: from  by csilvax.ucsb.CSNET (5.51) id AA27124; Thu, 19 May 88 11:18:53 PDTDate: Thu, 19 May 88 11:18:53 PDTFrom: Skona Brittain <skona%csilvax@hub.ucsb.edu>Posted-Date: Thu, 19 May 88 11:18:53 PDTTo: cl-cleanup@sail.stanford.eduSubject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSI have divided the issue DEFSTRUCT-SLOTS-CONSTRAINTS into 2 issues,DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER and DEFSTRUCT-SLOTS-CONSTRAINTS-NAME,even though they are both trivial, because otherwise practically every section of the proposal had 2 parts, and also it seemed reasonable toseparate a change from a clarification, for approval purposes (actually themain reason is that I couldn't think of a name for the joint proposal).Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBERReferences:     CLtL p.307 & 86-003 p.4Category:       CHANGEEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:Structures defined by defstruct currently are required to have at leastone slot.  This seems to have been a mistake in the design of the language.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER:ALLOW-ZERO):Allow a call to defstruct to have zero slot-descriptions.i.e. change the + to a * in the syntax of calls to defstruct given at the bottom of page 307 of CLtL.Test Case:(defstruct s), which is not allowed according to CLtL, would be allowed.Rationale:The current restriction is in marked contrast to the generality allowed elsewhere in the language.  And removing it slightly increases the usefulness of defstruct - by allowing the zero slot case when it may be deemed useful and by not requiring a check for it when it doesn't matter.Current Practice:KCL allows zero slots.  Cost to Implementors:None for implementations that currently allow zero slots.Very slight for others.Cost to Users:None.Benefits:Slightly increases the usefulness of defstruct and is aesthetic.Aesthetics:In general, it is more aesthetic to allow for generality rather than tospecifically prohibit a particular case.  And the generality in this case is consistent with that of many other features of the language, such as that arrays can be empty, functions like + and list can take zero arguments, etc.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NAMEReferences:     CLtL p.308 & 86-003 p.4Category:       CLARIFICATIONEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:The case of two slots of a structure having the same name is not discussed in CLtL.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERROR):It is an error for two slots in a structure type to have the same name.This holds when they were both named directly by the same call to defstructor when one is present by virtue of being in an included structure.Test Cases:(defstruct struc slot slot) would be an error.  So would(defstruct (struc2 (:include struc1)) slot) if preceded by(defstruct struc1 slot).Rationale:Since it would be difficult to prescribe reasonable behavior forthis situation, it should be considered an error.  Checking for itwould be costly so signaling this error is not required.Current Practice:In KCL, if 2 slots have the same name, no warning message is given but mysterious behavior ensues.  (Their default values are both whatever is given for the second one, neither can be given adifferent value via a call to the constructor function, only the second one's value can be changed by setf...)Cost to Implementors:None.Cost to Users:None.Cost of Non-Adoption:Possible confusion.Benefits:Clarity.Aethetics:Something that is not well-defined and leads to erratic behavior should be explicitly considered an error.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.  *start*04374 00024 USfReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 19 MAY 88 11:53:44 PDTReceived: from hub.ucsb.edu (ucsbcsl.ucsb.edu) by SAIL.Stanford.EDU with TCP; 19 May 88  11:52:42 PDTReceived: from csilvax.ucsb.edu by hub.ucsb.edu (5.59) id AA15559; Thu, 19 May 88 11:24:25 PDTReceived: from  by csilvax.ucsb.CSNET (5.51) id AA27124; Thu, 19 May 88 11:18:53 PDTDate: Thu, 19 May 88 11:18:53 PDTFrom: Skona Brittain <skona%csilvax@hub.ucsb.edu>Posted-Date: Thu, 19 May 88 11:18:53 PDTTo: cl-cleanup@sail.stanford.eduSubject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSI have divided the issue DEFSTRUCT-SLOTS-CONSTRAINTS into 2 issues,DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER and DEFSTRUCT-SLOTS-CONSTRAINTS-NAME,even though they are both trivial, because otherwise practically every section of the proposal had 2 parts, and also it seemed reasonable toseparate a change from a clarification, for approval purposes (actually themain reason is that I couldn't think of a name for the joint proposal).Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBERReferences:     CLtL p.307 & 86-003 p.4Category:       CHANGEEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:Structures defined by defstruct currently are required to have at leastone slot.  This seems to have been a mistake in the design of the language.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER:ALLOW-ZERO):Allow a call to defstruct to have zero slot-descriptions.i.e. change the + to a * in the syntax of calls to defstruct given at the bottom of page 307 of CLtL.Test Case:(defstruct s), which is not allowed according to CLtL, would be allowed.Rationale:The current restriction is in marked contrast to the generality allowed elsewhere in the language.  And removing it slightly increases the usefulness of defstruct - by allowing the zero slot case when it may be deemed useful and by not requiring a check for it when it doesn't matter.Current Practice:KCL allows zero slots.  Cost to Implementors:None for implementations that currently allow zero slots.Very slight for others.Cost to Users:None.Benefits:Slightly increases the usefulness of defstruct and is aesthetic.Aesthetics:In general, it is more aesthetic to allow for generality rather than tospecifically prohibit a particular case.  And the generality in this case is consistent with that of many other features of the language, such as that arrays can be empty, functions like + and list can take zero arguments, etc.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NAMEReferences:     CLtL p.308 & 86-003 p.4Category:       CLARIFICATIONEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:The case of two slots of a structure having the same name is not discussed in CLtL.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERROR):It is an error for two slots in a structure type to have the same name.This holds when they were both named directly by the same call to defstructor when one is present by virtue of being in an included structure.Test Cases:(defstruct struc slot slot) would be an error.  So would(defstruct (struc2 (:include struc1)) slot) if preceded by(defstruct struc1 slot).Rationale:Since it would be difficult to prescribe reasonable behavior forthis situation, it should be considered an error.  Checking for itwould be costly so signaling this error is not required.Current Practice:In KCL, if 2 slots have the same name, no warning message is given but mysterious behavior ensues.  (Their default values are both whatever is given for the second one, neither can be given adifferent value via a call to the constructor function, only the second one's value can be changed by setf...)Cost to Implementors:None.Cost to Users:None.Cost of Non-Adoption:Possible confusion.Benefits:Clarity.Aethetics:Something that is not well-defined and leads to erratic behavior should be explicitly considered an error.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.  *start*00921 00024 USmReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 21 MAY 88 02:49:30 PDTReceived: from labrea.stanford.edu by SAIL.Stanford.EDU with TCP; 21 May 88  02:48:07 PDTReceived: by labrea.stanford.edu; Sat, 21 May 88 02:48:23 PDTReceived: from bhopal.lucid.com by edsel id AA19322g; Sat, 21 May 88 02:36:28 PDTReceived: by bhopal id AA07864g; Sat, 21 May 88 02:40:05 PDTDate: Sat, 21 May 88 02:40:05 PDTFrom: Jon L White <edsel!jonl@labrea.stanford.edu>Message-Id: <8805210940.AA07864@bhopal.lucid.com>To: skona%csilvax@hub.ucsb.eduCc: cl-cleanup@sail.stanford.eduIn-Reply-To: Skona Brittain's message of Thu, 19 May 88 11:18:53 PDT <8805191852.AA11302@edsel.lucid.com>Subject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSYou can add to the "Current Practice:" section:    LUCID allows zero slots.  -- JonL --*start*00881 00024 USmReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 24 MAY 88 14:02:23 PDTReceived: from JASPER.SCRC.Symbolics.COM ([128.81.41.58]) by SAIL.Stanford.EDU with TCP; 24 May 88  14:00:24 PDTReceived: from EUPHRATES.SCRC.Symbolics.COM by JASPER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 191920; Tue 24-May-88 17:00:11 EDTDate: Tue, 24 May 88 17:00 EDTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSTo: cl-cleanup@SAIL.STANFORD.EDUIn-Reply-To: The message of 19 May 88 14:18 EDT from Skona Brittain <skona%csilvax@hub.ucsb.edu>Message-ID: <19880524210021.7.MOON@EUPHRATES.SCRC.Symbolics.COM>I agree with both DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER:ALLOW-ZEROand DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERROR.*start*02151 00024 USmReturn-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 31 MAY 88 14:53:31 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 31 May 88  14:51:46 PDTReceived: from PEWEE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 412729; Tue 31-May-88 17:49:56 EDTDate: Tue, 31 May 88 17:49 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSTo: skona%csilvax@hub.ucsb.educc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: The message of 19 May 88 14:18 EDT from Skona Brittain <skona%csilvax@hub.ucsb.edu>Message-ID: <880531174945.7.KMP@PEWEE.SCRC.Symbolics.COM>I support DEFSTRUCT-SLOTS-CONTRAINTS-NUMBER:ALLOW-ZERO.Btw, the benefits of this are more than just aesthetic. In the sampleerror system I distribute with my proposal, there are examples of validuses for zero-element structs. Since such are disallowed, I conjureone-element structs with a slot called -DUMMY-SLOT-. This means thatthere is a loss space in spaces that really need no slots but are forcedto use at least one.I have sympathy with DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERRORbut will not claim to support it. I think it should be stronger:implementations should be required signal an error or some well-definedbehavior should be described which implementations are forced to adhereto. This is because there are conflicting ways in which extension mightbe done, and having different implementations interpret the same syntaxin different ways without any kind of warning is a real barrier toportability: it might be that neither implementation complains and codesimply behaves oddly in one implementation or the other. Programmers arefrustrated by this because neither implementation can be said to be thebad-guy and yet it's clear that the programmer is getting screwed. Hence,I think it's our charter to protect him. Requiring implementations tosignal an error is probably the simplest and most consistent solution.*start*04374 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 19 MAY 88 11:38:29 PDTReceived: from hub.ucsb.edu (ucsbcsl.ucsb.edu) by SAIL.Stanford.EDU with TCP; 19 May 88  11:34:33 PDTReceived: from csilvax.ucsb.edu by hub.ucsb.edu (5.59) id AA15701; Thu, 19 May 88 11:35:49 PDTReceived: from  by csilvax.ucsb.CSNET (5.51) id AA27124; Thu, 19 May 88 11:18:53 PDTDate: Thu, 19 May 88 11:18:53 PDTFrom: Skona Brittain <skona%csilvax@hub.ucsb.edu>Posted-Date: Thu, 19 May 88 11:18:53 PDTTo: cl-cleanup@sail.stanford.eduSubject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSI have divided the issue DEFSTRUCT-SLOTS-CONSTRAINTS into 2 issues,DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER and DEFSTRUCT-SLOTS-CONSTRAINTS-NAME,even though they are both trivial, because otherwise practically every section of the proposal had 2 parts, and also it seemed reasonable toseparate a change from a clarification, for approval purposes (actually themain reason is that I couldn't think of a name for the joint proposal).Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBERReferences:     CLtL p.307 & 86-003 p.4Category:       CHANGEEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:Structures defined by defstruct currently are required to have at leastone slot.  This seems to have been a mistake in the design of the language.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER:ALLOW-ZERO):Allow a call to defstruct to have zero slot-descriptions.i.e. change the + to a * in the syntax of calls to defstruct given at the bottom of page 307 of CLtL.Test Case:(defstruct s), which is not allowed according to CLtL, would be allowed.Rationale:The current restriction is in marked contrast to the generality allowed elsewhere in the language.  And removing it slightly increases the usefulness of defstruct - by allowing the zero slot case when it may be deemed useful and by not requiring a check for it when it doesn't matter.Current Practice:KCL allows zero slots.  Cost to Implementors:None for implementations that currently allow zero slots.Very slight for others.Cost to Users:None.Benefits:Slightly increases the usefulness of defstruct and is aesthetic.Aesthetics:In general, it is more aesthetic to allow for generality rather than tospecifically prohibit a particular case.  And the generality in this case is consistent with that of many other features of the language, such as that arrays can be empty, functions like + and list can take zero arguments, etc.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NAMEReferences:     CLtL p.308 & 86-003 p.4Category:       CLARIFICATIONEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:The case of two slots of a structure having the same name is not discussed in CLtL.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERROR):It is an error for two slots in a structure type to have the same name.This holds when they were both named directly by the same call to defstructor when one is present by virtue of being in an included structure.Test Cases:(defstruct struc slot slot) would be an error.  So would(defstruct (struc2 (:include struc1)) slot) if preceded by(defstruct struc1 slot).Rationale:Since it would be difficult to prescribe reasonable behavior forthis situation, it should be considered an error.  Checking for itwould be costly so signaling this error is not required.Current Practice:In KCL, if 2 slots have the same name, no warning message is given but mysterious behavior ensues.  (Their default values are both whatever is given for the second one, neither can be given adifferent value via a call to the constructor function, only the second one's value can be changed by setf...)Cost to Implementors:None.Cost to Users:None.Cost of Non-Adoption:Possible confusion.Benefits:Clarity.Aethetics:Something that is not well-defined and leads to erratic behavior should be explicitly considered an error.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.  *start*04374 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 19 MAY 88 11:53:44 PDTReceived: from hub.ucsb.edu (ucsbcsl.ucsb.edu) by SAIL.Stanford.EDU with TCP; 19 May 88  11:52:42 PDTReceived: from csilvax.ucsb.edu by hub.ucsb.edu (5.59) id AA15559; Thu, 19 May 88 11:24:25 PDTReceived: from  by csilvax.ucsb.CSNET (5.51) id AA27124; Thu, 19 May 88 11:18:53 PDTDate: Thu, 19 May 88 11:18:53 PDTFrom: Skona Brittain <skona%csilvax@hub.ucsb.edu>Posted-Date: Thu, 19 May 88 11:18:53 PDTTo: cl-cleanup@sail.stanford.eduSubject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSI have divided the issue DEFSTRUCT-SLOTS-CONSTRAINTS into 2 issues,DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER and DEFSTRUCT-SLOTS-CONSTRAINTS-NAME,even though they are both trivial, because otherwise practically every section of the proposal had 2 parts, and also it seemed reasonable toseparate a change from a clarification, for approval purposes (actually themain reason is that I couldn't think of a name for the joint proposal).Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBERReferences:     CLtL p.307 & 86-003 p.4Category:       CHANGEEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:Structures defined by defstruct currently are required to have at leastone slot.  This seems to have been a mistake in the design of the language.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER:ALLOW-ZERO):Allow a call to defstruct to have zero slot-descriptions.i.e. change the + to a * in the syntax of calls to defstruct given at the bottom of page 307 of CLtL.Test Case:(defstruct s), which is not allowed according to CLtL, would be allowed.Rationale:The current restriction is in marked contrast to the generality allowed elsewhere in the language.  And removing it slightly increases the usefulness of defstruct - by allowing the zero slot case when it may be deemed useful and by not requiring a check for it when it doesn't matter.Current Practice:KCL allows zero slots.  Cost to Implementors:None for implementations that currently allow zero slots.Very slight for others.Cost to Users:None.Benefits:Slightly increases the usefulness of defstruct and is aesthetic.Aesthetics:In general, it is more aesthetic to allow for generality rather than tospecifically prohibit a particular case.  And the generality in this case is consistent with that of many other features of the language, such as that arrays can be empty, functions like + and list can take zero arguments, etc.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.Issue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NAMEReferences:     CLtL p.308 & 86-003 p.4Category:       CLARIFICATIONEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:The case of two slots of a structure having the same name is not discussed in CLtL.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERROR):It is an error for two slots in a structure type to have the same name.This holds when they were both named directly by the same call to defstructor when one is present by virtue of being in an included structure.Test Cases:(defstruct struc slot slot) would be an error.  So would(defstruct (struc2 (:include struc1)) slot) if preceded by(defstruct struc1 slot).Rationale:Since it would be difficult to prescribe reasonable behavior forthis situation, it should be considered an error.  Checking for itwould be costly so signaling this error is not required.Current Practice:In KCL, if 2 slots have the same name, no warning message is given but mysterious behavior ensues.  (Their default values are both whatever is given for the second one, neither can be given adifferent value via a call to the constructor function, only the second one's value can be changed by setf...)Cost to Implementors:None.Cost to Users:None.Cost of Non-Adoption:Possible confusion.Benefits:Clarity.Aethetics:Something that is not well-defined and leads to erratic behavior should be explicitly considered an error.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.  *start*00921 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 21 MAY 88 02:49:30 PDTReceived: from labrea.stanford.edu by SAIL.Stanford.EDU with TCP; 21 May 88  02:48:07 PDTReceived: by labrea.stanford.edu; Sat, 21 May 88 02:48:23 PDTReceived: from bhopal.lucid.com by edsel id AA19322g; Sat, 21 May 88 02:36:28 PDTReceived: by bhopal id AA07864g; Sat, 21 May 88 02:40:05 PDTDate: Sat, 21 May 88 02:40:05 PDTFrom: Jon L White <edsel!jonl@labrea.stanford.edu>Message-Id: <8805210940.AA07864@bhopal.lucid.com>To: skona%csilvax@hub.ucsb.eduCc: cl-cleanup@sail.stanford.eduIn-Reply-To: Skona Brittain's message of Thu, 19 May 88 11:18:53 PDT <8805191852.AA11302@edsel.lucid.com>Subject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSYou can add to the "Current Practice:" section:    LUCID allows zero slots.  -- JonL --*start*00881 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 24 MAY 88 14:02:23 PDTReceived: from JASPER.SCRC.Symbolics.COM ([128.81.41.58]) by SAIL.Stanford.EDU with TCP; 24 May 88  14:00:24 PDTReceived: from EUPHRATES.SCRC.Symbolics.COM by JASPER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 191920; Tue 24-May-88 17:00:11 EDTDate: Tue, 24 May 88 17:00 EDTFrom: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>Subject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSTo: cl-cleanup@SAIL.STANFORD.EDUIn-Reply-To: The message of 19 May 88 14:18 EDT from Skona Brittain <skona%csilvax@hub.ucsb.edu>Message-ID: <19880524210021.7.MOON@EUPHRATES.SCRC.Symbolics.COM>I agree with both DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER:ALLOW-ZEROand DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERROR.*start*02151 00024 US Return-Path: <CL-Cleanup-mailer@SAIL.Stanford.EDU>Redistributed: xerox-cl-cleanup^.paReceived: from SAIL.Stanford.EDU by Xerox.COM ; 31 MAY 88 14:53:31 PDTReceived: from STONY-BROOK.SCRC.Symbolics.COM (SCRC-STONY-BROOK.ARPA) by SAIL.Stanford.EDU with TCP; 31 May 88  14:51:46 PDTReceived: from PEWEE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 412729; Tue 31-May-88 17:49:56 EDTDate: Tue, 31 May 88 17:49 EDTFrom: Kent M Pitman <KMP@STONY-BROOK.SCRC.Symbolics.COM>Subject: ISSUE: DEFSTRUCT-SLOTS-CONSTRAINTSTo: skona%csilvax@hub.ucsb.educc: CL-Cleanup@SAIL.Stanford.EDUIn-Reply-To: The message of 19 May 88 14:18 EDT from Skona Brittain <skona%csilvax@hub.ucsb.edu>Message-ID: <880531174945.7.KMP@PEWEE.SCRC.Symbolics.COM>I support DEFSTRUCT-SLOTS-CONTRAINTS-NUMBER:ALLOW-ZERO.Btw, the benefits of this are more than just aesthetic. In the sampleerror system I distribute with my proposal, there are examples of validuses for zero-element structs. Since such are disallowed, I conjureone-element structs with a slot called -DUMMY-SLOT-. This means thatthere is a loss space in spaces that really need no slots but are forcedto use at least one.I have sympathy with DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERRORbut will not claim to support it. I think it should be stronger:implementations should be required signal an error or some well-definedbehavior should be described which implementations are forced to adhereto. This is because there are conflicting ways in which extension mightbe done, and having different implementations interpret the same syntaxin different ways without any kind of warning is a real barrier toportability: it might be that neither implementation complains and codesimply behaves oddly in one implementation or the other. Programmers arefrustrated by this because neither implementation can be said to be thebad-guy and yet it's clear that the programmer is getting screwed. Hence,I think it's our charter to protect him. Requiring implementations tosignal an error is probably the simplest and most consistent solution.*start*02211 00024 USmDate:  8 Jun 88 15:11 PDTFrom: Masinter.paSubject: Issue: DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER (Version 1)TO: x3j13@Sail.stanford.edureply-to: cl-cleanup@sail.stanford.educc: masinterLINE-FOLD: NOIssue:          DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBERReferences:     CLtL p.307 & 86-003 p.4Category:       CHANGEEdit history:   Revision 1 by Skona Brittain 05/13/88Problem Description:Structures defined by defstruct currently are required to have at leastone slot.  This seems to have been a mistake in the design of the language.Proposal (DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER:ALLOW-ZERO):Allow a call to defstruct to have zero slot-descriptions.i.e. change the + to a * in the syntax of calls to defstruct given at the bottom of page 307 of CLtL.Test Case:(defstruct s), which is not allowed according to CLtL, would be allowed.Rationale:The current restriction is in marked contrast to the generality allowed elsewhere in the language.  And removing it slightly increases the usefulness of defstruct - by allowing the zero slot case when it may be deemed useful and by not requiring a check for it when it doesn't matter.Current Practice:KCL allows zero slots.  Cost to Implementors:None for implementations that currently allow zero slots.Very slight for others.Cost to Users:None.Benefits:Slightly increases the usefulness of defstruct and is aesthetic.Aesthetics:In general, it is more aesthetic to allow for generality rather than tospecifically prohibit a particular case.  And the generality in this case is consistent with that of many other features of the language, such as that arrays can be empty, functions like + and list can take zero arguments, etc.Discussion: Although this issue was mentioned in Guy's original issues file, it hasnot been officially discussed since.        TITAN 
         TITAN 
          
TIMESROMAN 
           Ì              #                                          '              –       :       £              K             "                            T                     
       C             1              s      8 zº